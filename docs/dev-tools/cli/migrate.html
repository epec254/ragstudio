

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en-US" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en-US"> <!--<![endif]-->

<head>
  <!-- cookie consent -->
  
    <!-- Combined Onetrust and Rudderstack Implementation Scripts -->
    <!-- Onetrust Initialization -->
    <script type="text/javascript" src="https://cdn.cookielaw.org/consent/92466579-1717-44d3-809d-a05fb02843ed-test/OtAutoBlock.js"></script>
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="92466579-1717-44d3-809d-a05fb02843ed-test"></script>
    <link rel="stylesheet" id="db-onetrust-style" href="https://www.databricks.com/wp-content/uploads/db_onetrust.css" media="all" />
    <!-- Setting Rudderstack Write Key -->
    <script>window.rudderstackKey = "2SOR9fvSr5Fi6tN2ihPbVHnX1SZ" </script>
    <!-- Rudderstack Initialization + Onetrust Integration + Rudderstack Custom Events -->
    <script type="text/javascript" src="https://www.databricks.com/sites/default/files/rudderstack/v1/db-rudderstack-events.js"></script>

  <!-- cookie consent -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta content="Learn how to migrate from the legacy version of the Databricks CLI to the new version of the Databricks CLI." name="description" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta property="og:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:title" content="Databricks CLI migration">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://docs.databricks.com">
  <meta property="og:description" content="" id="og-description">
  <meta name="twitter:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta name="twitter:site" content="@databricks">
  <meta name="twitter:creator" content="@databricks">
  <meta property="twitter:description" content="">
  
  <title>Databricks CLI migration &#124; Databricks on AWS</title>
  
  
  <link rel="canonical" href="https://docs.databricks.com/en/dev-tools/cli/migrate.html">
  <!-- Start hreflang tag -->
  <link rel="alternate" hreflang="en" href="https://docs.databricks.com/en/dev-tools/cli/migrate.html" />
<link rel="alternate" hreflang="x-default" href="https://docs.databricks.com/en/dev-tools/cli/migrate.html" />
  <!-- End hreflang tag -->
  
  
  <link rel="shortcut icon" href="../../_static/favicon.ico" />
  

  

  

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T85FQ33');</script>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWTKQQ');</script>
    
  <!-- End Google Tag Manager -->


  <!-- MaxMind / GEO IP -->
  <script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>
  <!-- End MaxMind / GEO IP -->

  
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600&display=swap" rel="stylesheet">
  <link rel="preload" href="../../_static/fonts/DMSans-Bold.ttf" as="font">
  <link rel="preload" href="../../_static/fonts/DMSans-Regular.ttf" as="font">
  <link rel="preload" href="../../_static/fonts/DMMono-Regular.ttf" as="font">
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/cloud-provider-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/translation-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/searchunify/main.css" type="text/css" />

  
  <link rel="index" title="Index" href="../../genindex.html" />
  <link rel="search" title="Search" href="../../search.html" />
  <link rel="top" title="Databricks on AWS" href="../../index.html" /> 
</head>

<body class="wy-body-for-nav" role="document">

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T85FQ33"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWTKQQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  
  <nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
    
<nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
  <div class="container-logo">
    <ul class="mobile-menu-toggle">
        <li class="menu-toggle">
            <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
            
            <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
              alt="Databricks" /></a>   
               
              </li>
    </ul>
    <ul class="su_nav-menu">
      <li class="menu-toggle">
        <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
        
          
        
        <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
            alt="Databricks" /></a></li>
        <!-- 
<li><a href="https://help.databricks.com/s/">Help Center</a></li>
<li class="active"><a href="https://docs.databricks.com/en/">Documentation</a></li>
<li><a href="https://kb.databricks.com/">Knowledge Base</a></li>
 -->
    </ul>
  </div>
  <div class="su_nav-right">
    <ul class="su_link-mobile">
  <!-- Mobile header code can go here -->
</ul>
<ul class="right-try-list">
   
</ul>
  </div>
</nav>
  </nav>

  <div class="su_sub-header">
    <div class="container">
      <div class="su_sub-header-inner">
        <!-- <div class="su_subnav-menu-right">
  <div id="auto" style="width: 100%;">
    <div ng-controller="SearchautoController">
      <div bind-html-compile="autocompleteHtml">
        <form class="su__search-box-1" disabled="disabled">
          <input class="su__search-input" type="search" name="Search box" id="su__search-b" placeholder="Search Documentation" disabled="disabled"/>
          <button class="su__search-button" type="submit" class="button button-success" disabled="disabled">
            <svg width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                fill="#333"></path>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>
</div> -->
        <div class="search-lng-gap"></div>
        <div style="margin-left: 16px; margin-right: 16px;">
          <!-- <select name="lng selector" id="lng-selector">
    <option value="../../../en/dev-tools/cli/migrate.html" class="notranslate">English</option>
    <option value="../../../ja/dev-tools/cli/migrate.html" class="notranslate">日本語</option>
    <option value="../../../pt/dev-tools/cli/migrate.html" class="notranslate">Português (Brasil)</option>
</select> -->
        </div>
        <div class="cloud-selector-container">
          <!-- <select name="cloud provider selector" id="cloud-provider-selector">
    <option value="aws" selected class="notranslate">
        Amazon Web Services
    </option>
    <option value="azure"  class="notranslate">
        Microsoft Azure
    </option>
    <option value="gcp"  class="notranslate">
        Google Cloud Platform
    </option>
</select> -->
        </div>
      </div>
    </div>
  </div>
  <page class="js-page-container">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side su_nav-side">
<div class="wy-side-scroll">
  <div class="wy-side-nav-search">
    

    

    

    
  </div>

  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      <a href="../../index.html" class="main-navigation-home">Databricks on AWS</a>
    

    
      

      
        <p class="caption"><span class="caption-text">Load &amp; manage data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rag-temp/index.html">RAG Studio</a></li>
</ul>

      
    
  </div>

  <div role="contentinfo">
    
  <p class="build_info notranslate"data-last-edit="December 23, 2023">
    Updated Jan 11, 2024
  </p>
<script>
  window.addEventListener('DOMContentLoaded',function(){
    var h1=document.querySelector('h1');
    var bi=document.querySelector('[data-last-edit]');
    if(h1 && bi){
      var ver = document.createElement('p');
      ver.className = 'version_info';
      ver.textContent = bi.getAttribute('data-last-edit');
      h1.parentElement.insertBefore(ver, h1.nextElementSibling);
    }
  });
</script>

    <p>
      
        <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
      
    </p>
  </div>
</div>
</nav>
    
    
<main class="wy-grid-for-nav su_nav-grid">
  <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
    <div class="wy-nav-content su__nav_content">
      <div class="rst-content">
        





<div role="navigation" aria-label="breadcrumbs navigation" class="wy-breadcrumbs-wrapper">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Documentation</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
    
      <li>Databricks CLI migration</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>
</div>
        
        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
          <div itemprop="articleBody">
            
    
  <div class="section" id="databricks-cli-migration">
<h1>Databricks CLI migration<a class="headerlink" href="#databricks-cli-migration" title="Permalink to this headline"> </a></h1>
<p>This article describes how to migrate from Databricks CLI version 0.18 or below to Databricks CLI version 0.205 or above. Databricks CLI versions 0.205 and above are in <a class="reference internal" href="../../release-notes/release-types.html"><span class="doc">Public Preview</span></a>.</p>
<p>For brevity, this article refers to Databricks CLI versions 0.18 and below as the “legacy” CLI, and Databricks CLI versions 0.205 and above as the “new” CLI.</p>
<p>For more information about the legacy and new CLIs, see:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../archive/dev-tools/cli/index.html"><span class="doc">Databricks CLI (legacy)</span></a> for the legacy CLI.</p></li>
<li><p><a class="reference internal" href="index.html"><span class="doc">What is the Databricks CLI?</span></a> for the new CLI.</p></li>
</ul>
<div class="section" id="uninstall-the-legacy-cli">
<h2>Uninstall the legacy CLI<a class="headerlink" href="#uninstall-the-legacy-cli" title="Permalink to this headline"> </a></h2>
<p>If you have the legacy CLI installed and you want to uninstall it, use <code class="docutils literal notranslate"><span class="pre">pip</span></code> (or <code class="docutils literal notranslate"><span class="pre">pip3</span></code>, depending on your version of Python) to run the <code class="docutils literal notranslate"><span class="pre">uninstall</span></code> command, as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>uninstall<span class="w"> </span>databricks-cli
</pre></div>
</div>
</div>
<div class="section" id="install-the-new-cli">
<h2>Install the new CLI<a class="headerlink" href="#install-the-new-cli" title="Permalink to this headline"> </a></h2>
<p>To learn how to install  the new CLI, see <a class="reference internal" href="install.html"><span class="doc">Install or update the Databricks CLI</span></a>.</p>
</div>
<div class="section" id="verify-your-cli-installation">
<span id="verify-install"></span><h2>Verify your CLI installation<a class="headerlink" href="#verify-your-cli-installation" title="Permalink to this headline"> </a></h2>
<p>If you are not sure whether you are using the new CLI, follow the instructions in this section to verify and adjust as needed. Before you follow these instructions, make sure to exit any Python virtual environments, <code class="docutils literal notranslate"><span class="pre">conda</span></code> environments, or similar environments.</p>
<p>To check the version of your default installation of the CLI, run the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>databricks<span class="w"> </span>-v
</pre></div>
</div>
<p>If the version number is not what you expect, do one of the following:</p>
<ul class="simple">
<li><p><em>If you want to use only one version of the CLI</em>: uninstall all previous version of the CLI that you no longer want to use. You might need to update your operating sytem’s <code class="docutils literal notranslate"><span class="pre">PATH</span></code> so that the path to the remaining version of the CLI that you want to use is listed.</p></li>
<li><p><em>If you want to keep using multiple versions of the CLI</em>: prepend the full path to the version of the CLI that you want to use to each and every call to the CLI.</p></li>
<li><p><em>If you want to keep using multiple versions of the CLI, but you do not want to keep prepending the full path to the version of the CLI that you use most often</em>: make sure that the full path to that version is listed first in your operating system’s <code class="docutils literal notranslate"><span class="pre">PATH</span></code>. Note that you must still prepend the full path to versions of the CLI that are not listed first in your operating system’s <code class="docutils literal notranslate"><span class="pre">PATH</span></code>.</p></li>
</ul>
<p>To update your operating system’s <code class="docutils literal notranslate"><span class="pre">PATH</span></code>, do the following:</p>
<div class="js-code-language-tabs compound">
<div class="compound-first compound" lang="macOS&amp;nbsp;or&amp;nbsp;Linux">
<ol class="arabic">
<li><p>List the paths where <code class="docutils literal notranslate"><span class="pre">databricks</span></code> is installed by running one of the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>which<span class="w"> </span>-a<span class="w"> </span>databricks

<span class="c1"># Or:</span>
where<span class="w"> </span>databricks
</pre></div>
</div>
</li>
<li><p>Get the path to the installation that you want to use without prepending the full path to each and every call to the CLI. If you are not sure which path this is, run the full path to each location, followed by <code class="docutils literal notranslate"><span class="pre">-v</span></code>, for example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/usr/local/bin/databricks<span class="w"> </span>-v
</pre></div>
</div>
</li>
<li><p>To put the path to the installation that you want to use first in your <code class="docutils literal notranslate"><span class="pre">PATH</span></code>, run the following command, replacing <code class="docutils literal notranslate"><span class="pre">/usr/local/bin</span></code> with the path that you want to use. Do not add <code class="docutils literal notranslate"><span class="pre">databricks</span></code> to the end of this path. For example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;/usr/local/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>
</pre></div>
</div>
</li>
<li><p>To verify that the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> was set correctly for the current terminal session, run <code class="docutils literal notranslate"><span class="pre">databricks</span></code> followed by <code class="docutils literal notranslate"><span class="pre">-v</span></code> and check the version number:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>databricks<span class="w"> </span>-v
</pre></div>
</div>
</li>
<li><p>To have the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> set this way every time you restart your terminal, add the command from step 3 to your shell initialization file. For example, for Zshell, this file is typically located at <code class="docutils literal notranslate"><span class="pre">~/.zshrc</span></code>. For Bash, this file is typically located at <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code>. For other shells, see your shell provider’s documentation.</p></li>
<li><p>After you update your shell initialization file, you must restart your terminal to apply the updated <code class="docutils literal notranslate"><span class="pre">PATH</span></code> value.</p></li>
</ol>
</div>
<div class="compound-last compound" lang="Windows">
<ol class="arabic">
<li><p>Right-click the installation of <code class="docutils literal notranslate"><span class="pre">databricks</span></code> that you want to use without prepending the full path to each and every call to the CLI.</p></li>
<li><p>Click <strong>Open file location</strong>.</p></li>
<li><p>Note the path to <code class="docutils literal notranslate"><span class="pre">databricks</span></code>, for example <code class="docutils literal notranslate"><span class="pre">C:\Windows</span></code>.</p></li>
<li><p>On the <strong>Start</strong> menu, search for <strong>Environment variables</strong>.</p></li>
<li><p>Click <strong>Edit environment variables for your account</strong>.</p></li>
<li><p>Select the <strong>Path</strong> variable in the <strong>User variables for <code class="docutils literal notranslate"><span class="pre">&lt;username&gt;</span></code></strong> section.</p></li>
<li><p>Click <strong>Edit</strong>.</p></li>
<li><p>Click <strong>New</strong>.</p></li>
<li><p>Enter the path that you want to add, without <code class="docutils literal notranslate"><span class="pre">databricks.exe</span></code> (such as <code class="docutils literal notranslate"><span class="pre">C:\Windows</span></code>).</p></li>
<li><p>Use the <strong>Move Up</strong> button to move the path that you just added to the beginning of the list.</p></li>
<li><p>Click <strong>OK</strong>.</p></li>
<li><p>To verify that the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> was set correctly, open a new Command Prompt, run <code class="docutils literal notranslate"><span class="pre">databricks</span></code> followed by <code class="docutils literal notranslate"><span class="pre">-v</span></code>, and check the version number:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>databricks<span class="w"> </span>-v
</pre></div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="section" id="use-additional-authentication-types">
<h2>Use additional authentication types<a class="headerlink" href="#use-additional-authentication-types" title="Permalink to this headline"> </a></h2>
<p>The legacy CLI and the new CLI both support Databricks personal access token authentication. However, Databricks recommends that you use other Databricks authentication types if possible, which only the new CLI supports.</p>
<p>If you must use Databricks personal access token authentication, Databricks recommends that you use one that is associated with a service principal instead of a Databricks account or workspace user. See <a class="reference internal" href="../service-principals.html"><span class="doc">Provision a service principal for Databricks automation - Databricks UI</span></a>.</p>
<p>The new CLI supports OAuth tokens in addition to Databricks personal access tokens. These additional tokens are more secure as they typically expire in one hour, whereas Databricks personal access tokens can be valid from one day up to indefinitely. This is especially important if a token is accidentally checked into version control systems that can be accessed by others. Also, the new CLI can automatically refresh these additional tokens when they expire, whereas refreshing Databricks personal access tokens is either a manual process or can be difficult to automate.</p>
<p>For more information, see <a class="reference internal" href="authentication.html"><span class="doc">Authentication for the Databricks CLI</span></a>.</p>
</div>
<div class="section" id="command-group-and-command-comparisons">
<h2>Command group and command comparisons<a class="headerlink" href="#command-group-and-command-comparisons" title="Permalink to this headline"> </a></h2>
<p>The following table lists the legacy CLI command groups and their new CLI command group equivalents. Where significant differences exist between CLIs, additional tables list legacy CLI commands or options and their new CLI command or option equivalents.</p>
<div class="section" id="command-groups">
<h3>Command groups<a class="headerlink" href="#command-groups" title="Permalink to this headline"> </a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Legacy command group</p></th>
<th class="head"><p>New command group</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cluster-policies</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">cluster-policies</span></code>. All command names are the same.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">clusters</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">clusters</span></code>. All command names are the same.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">configure</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">configure</span></code>. See <a class="reference internal" href="#configure-options"><span class="std std-ref">configure options</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">fs</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">fs</span></code>. See <a class="reference internal" href="#fs-commands"><span class="std std-ref">fs commands</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">groups</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">groups</span></code>. See <a class="reference internal" href="#groups-commands"><span class="std std-ref">groups commands</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">instance-pools</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">instance-pools</span></code>. All command names are the same.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">jobs</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">jobs</span></code>. All command names are the same.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">libraries</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">libraries</span></code>. All command names are the same except for <code class="docutils literal notranslate"><span class="pre">list</span></code>. The <code class="docutils literal notranslate"><span class="pre">list</span></code> command is no longer available; use the <code class="docutils literal notranslate"><span class="pre">all-cluster-statuses</span></code> or <code class="docutils literal notranslate"><span class="pre">cluster-status</span></code> commands instead.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pipelines</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pipelines</span></code>. See <a class="reference internal" href="#pipelines-commands"><span class="std std-ref">pipelines commands</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">repos</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">repos</span></code>. All command names are the same.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">runs</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">jobs</span></code>. See <a class="reference internal" href="#runs-commands"><span class="std std-ref">runs commands</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">secrets</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">secrets</span></code>. See <a class="reference internal" href="#secrets-commands"><span class="std std-ref">secrets commands</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">stack</span></code></p></td>
<td><p>Not available in the new CLI. Databricks recommends that you use the <a class="reference internal" href="../terraform/index.html"><span class="doc">Databricks Terraform provider</span></a> instead.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">tokens</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">tokens</span></code>. See <a class="reference internal" href="#tokens-commands"><span class="std std-ref">tokens commands</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">unity-catalog</span></code></p></td>
<td><p>Various. See <a class="reference internal" href="#unity-catalog-command-groups"><span class="std std-ref">unity-catalog command groups</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">workspace</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">workspace</span></code>. See <a class="reference internal" href="#workspace-commands"><span class="std std-ref">workspace commands</span></a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="configure-options">
<h3><code class="docutils literal notranslate"><span class="pre">configure</span></code> options<a class="headerlink" href="#configure-options" title="Permalink to this headline"> </a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Legacy option</p></th>
<th class="head"><p>New option</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-o</span></code></p></td>
<td><p>The legacy CLI uses <code class="docutils literal notranslate"><span class="pre">-o</span></code> for OAuth authentication. For OAuth in the new CLI see <a class="reference internal" href="authentication.html#m2m-auth"><span class="std std-ref">OAuth machine-to-machine (M2M) authentication</span></a> or <a class="reference internal" href="authentication.html#u2m-auth"><span class="std std-ref">OAuth user-to-machine (U2M) authentication</span></a>. The new CLI repurposes <code class="docutils literal notranslate"><span class="pre">-o</span></code> to specify whether the CLI output is in text or JSON format.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--oauth</span></code></p></td>
<td><p>For OAuth in the new CLI see <a class="reference internal" href="authentication.html#m2m-auth"><span class="std std-ref">OAuth machine-to-machine (M2M) authentication</span></a> or <a class="reference internal" href="authentication.html#u2m-auth"><span class="std std-ref">OAuth user-to-machine (U2M) authentication</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-s</span></code> or <code class="docutils literal notranslate"><span class="pre">--scope</span></code></p></td>
<td><p>For OAuth in the new CLI see <a class="reference internal" href="authentication.html#m2m-auth"><span class="std std-ref">OAuth machine-to-machine (M2M) authentication</span></a> or <a class="reference internal" href="authentication.html#u2m-auth"><span class="std std-ref">OAuth user-to-machine (U2M) authentication</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-t</span></code> or <code class="docutils literal notranslate"><span class="pre">--token</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-t</span></code> or <code class="docutils literal notranslate"><span class="pre">--token</span></code> (same)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-f</span></code> or <code class="docutils literal notranslate"><span class="pre">--token-file</span></code></p></td>
<td><p>Not available in the new CLI.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--host</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">--host</span></code> (same)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--aad-token</span></code></p></td>
<td><p>Use <code class="docutils literal notranslate"><span class="pre">--host</span></code> and specify a Microsoft Entra ID (formerly Azure Active Directory) token when prompted instead of a Databricks personal access token.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--insecure</span></code></p></td>
<td><p>Not available in the new CLI.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--jobs-api-version</span></code></p></td>
<td><p>Not available in the new CLI. The new CLI uses the Jobs API 2.1 only. To call the legacy Jobs API 2.0 use the legacy CLI and see <a class="reference internal" href="../../archive/dev-tools/cli/jobs-cli.html"><span class="doc">Jobs CLI (legacy)</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--debug</span></code></p></td>
<td><p>For debugging and logging in the new CLI see <a class="reference internal" href="#debug-mode"><span class="std std-ref">Debug mode</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--profile</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">--profile</span></code> (same) or <code class="docutils literal notranslate"><span class="pre">-p</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-h</span></code> or <code class="docutils literal notranslate"><span class="pre">--help</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-h</span></code> or <code class="docutils literal notranslate"><span class="pre">--help</span></code> (same)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="fs-commands">
<h3><code class="docutils literal notranslate"><span class="pre">fs</span></code> commands<a class="headerlink" href="#fs-commands" title="Permalink to this headline"> </a></h3>
<p>All <code class="docutils literal notranslate"><span class="pre">fs</span></code> commands in the legacy CLI are the same in the new CLI, except for <code class="docutils literal notranslate"><span class="pre">fs</span> <span class="pre">mv</span></code> which is not available in the new CLI.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Legacy command</p></th>
<th class="head"><p>New command</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">fs</span> <span class="pre">cat</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">fs</span> <span class="pre">cat</span></code> (same)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">fs</span> <span class="pre">cp</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">fs</span> <span class="pre">cp</span></code> (same)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">fs</span> <span class="pre">ls</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">fs</span> <span class="pre">ls</span></code> (same)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">fs</span> <span class="pre">mkdirs</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">fs</span> <span class="pre">mkdir</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">fs</span> <span class="pre">mv</span></code></p></td>
<td><p>Not available in the new CLI.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">fs</span> <span class="pre">rm</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">fs</span> <span class="pre">rm</span></code> (same)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="groups-commands">
<h3><code class="docutils literal notranslate"><span class="pre">groups</span></code> commands<a class="headerlink" href="#groups-commands" title="Permalink to this headline"> </a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Legacy command</p></th>
<th class="head"><p>New command</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">groups</span> <span class="pre">add-member</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">groups</span> <span class="pre">patch</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">groups</span> <span class="pre">create</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">groups</span> <span class="pre">create</span></code> (same)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">groups</span> <span class="pre">delete</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">groups</span> <span class="pre">delete</span></code> (same)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">groups</span> <span class="pre">list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">groups</span> <span class="pre">list</span></code> (same)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">groups</span> <span class="pre">list-members</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">groups</span> <span class="pre">list</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">groups</span> <span class="pre">list-parents</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">groups</span> <span class="pre">list</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">groups</span> <span class="pre">remove-member</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">groups</span> <span class="pre">patch</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="pipelines-commands">
<h3><code class="docutils literal notranslate"><span class="pre">pipelines</span></code> commands<a class="headerlink" href="#pipelines-commands" title="Permalink to this headline"> </a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Legacy command</p></th>
<th class="head"><p>New command</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pipelines</span> <span class="pre">create</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pipelines</span> <span class="pre">create</span></code> (same)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pipelines</span> <span class="pre">delete</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pipelines</span> <span class="pre">delete</span></code> (same)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pipelines</span> <span class="pre">deploy</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pipelines</span> <span class="pre">create</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pipelines</span> <span class="pre">edit</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pipelines</span> <span class="pre">update</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pipelines</span> <span class="pre">get</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pipelines</span> <span class="pre">get</span></code> (same)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pipelines</span> <span class="pre">list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pipelines</span> <span class="pre">list-pipeline-events</span></code> or <code class="docutils literal notranslate"><span class="pre">pipelines</span> <span class="pre">list-pipelines</span></code> or <code class="docutils literal notranslate"><span class="pre">pipelines</span> <span class="pre">list-updates</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pipelines</span> <span class="pre">reset</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pipelines</span> <span class="pre">reset</span></code> (same)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pipelines</span> <span class="pre">start</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pipelines</span> <span class="pre">start</span> <span class="pre">update</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pipelines</span> <span class="pre">stop</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pipelines</span> <span class="pre">stop</span></code> (same)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pipelines</span> <span class="pre">update</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pipelines</span> <span class="pre">update</span></code> (same)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="runs-commands">
<h3><code class="docutils literal notranslate"><span class="pre">runs</span></code> commands<a class="headerlink" href="#runs-commands" title="Permalink to this headline"> </a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Legacy command</p></th>
<th class="head"><p>New command</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">runs</span> <span class="pre">cancel</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">jobs</span> <span class="pre">cancel-run</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">runs</span> <span class="pre">get</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">jobs</span> <span class="pre">get-run</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">runs</span> <span class="pre">get-output</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">jobs</span> <span class="pre">get-run-output</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">runs</span> <span class="pre">list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">jobs</span> <span class="pre">list-runs</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">runs</span> <span class="pre">submit</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">jobs</span> <span class="pre">submit</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="secrets-commands">
<h3><code class="docutils literal notranslate"><span class="pre">secrets</span></code> commands<a class="headerlink" href="#secrets-commands" title="Permalink to this headline"> </a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Legacy command</p></th>
<th class="head"><p>New command</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">secrets</span> <span class="pre">create-scope</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">secrets</span> <span class="pre">create-scope</span></code> (same)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">secrets</span> <span class="pre">delete</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">secrets</span> <span class="pre">delete-secret</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">secrets</span> <span class="pre">delete-acl</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">secrets</span> <span class="pre">delete-acl</span></code> (same)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">secrets</span> <span class="pre">delete-scope</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">secrets</span> <span class="pre">delete-scope</span></code> (same)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">secrets</span> <span class="pre">get-acl</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">secrets</span> <span class="pre">get-acl</span></code> (same)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">secrets</span> <span class="pre">list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">secrets</span> <span class="pre">list-secrets</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">secrets</span> <span class="pre">list-acls</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">secrets</span> <span class="pre">list-acls</span></code> (same)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">secrets</span> <span class="pre">list-scopes</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">secrets</span> <span class="pre">list-scopes</span></code> (same)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">secrets</span> <span class="pre">put</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">secrets</span> <span class="pre">put-secret</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">secrets</span> <span class="pre">put-acl</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">secrets</span> <span class="pre">put-acl</span></code> (same)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">secrets</span> <span class="pre">write</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">secrets</span> <span class="pre">put-secret</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">secrets</span> <span class="pre">write-acl</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">secrets</span> <span class="pre">put-acl</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="tokens-commands">
<h3><code class="docutils literal notranslate"><span class="pre">tokens</span></code> commands<a class="headerlink" href="#tokens-commands" title="Permalink to this headline"> </a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Legacy command</p></th>
<th class="head"><p>New command</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">tokens</span> <span class="pre">create</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">tokens</span> <span class="pre">create</span></code> (same)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">tokens</span> <span class="pre">list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">tokens</span> <span class="pre">list</span></code> (same)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">tokens</span> <span class="pre">revoke</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">tokens</span> <span class="pre">delete</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="unity-catalog-command-groups">
<h3><code class="docutils literal notranslate"><span class="pre">unity-catalog</span></code> command groups<a class="headerlink" href="#unity-catalog-command-groups" title="Permalink to this headline"> </a></h3>
<p><code class="docutils literal notranslate"><span class="pre">unity-catalog</span> <span class="pre">&lt;command&gt;</span></code> in the legacy CLI becomes just <code class="docutils literal notranslate"><span class="pre">&lt;command&gt;</span></code> in the new CLI.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Legacy command group</p></th>
<th class="head"><p>New command group</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">unity-catalog</span> <span class="pre">catalogs</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">catalogs</span></code> (same but drop <code class="docutils literal notranslate"><span class="pre">unity-catalog</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">unity-catalog</span> <span class="pre">external-locations</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">external-locations</span></code> (same but drop <code class="docutils literal notranslate"><span class="pre">unity-catalog</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">unity-catalog</span> <span class="pre">lineage</span></code></p></td>
<td><p>Not available in the new CLI. See <a class="reference internal" href="../../data-governance/unity-catalog/data-lineage.html#data-lineage-api"><span class="std std-ref">Data lineage API</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">unity-catalog</span> <span class="pre">metastores</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">metastores</span></code> (same but drop <code class="docutils literal notranslate"><span class="pre">unity-catalog</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">unity-catalog</span> <span class="pre">permissions</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">grants</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">unity-catalog</span> <span class="pre">providers</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">providers</span></code> (same but drop <code class="docutils literal notranslate"><span class="pre">unity-catalog</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">unity-catalog</span> <span class="pre">recipients</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">recipients</span></code> (same but drop <code class="docutils literal notranslate"><span class="pre">unity-catalog</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">unity-catalog</span> <span class="pre">schemas</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">schemas</span></code> (same but drop <code class="docutils literal notranslate"><span class="pre">unity-catalog</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">unity-catalog</span> <span class="pre">shares</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">shares</span></code> (same but drop <code class="docutils literal notranslate"><span class="pre">unity-catalog</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">unity-catalog</span> <span class="pre">storage-credentials</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">storage-credentials</span></code> (same but drop <code class="docutils literal notranslate"><span class="pre">unity-catalog</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">unity-catalog</span> <span class="pre">tables</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">tables</span></code> (same but drop <code class="docutils literal notranslate"><span class="pre">unity-catalog</span></code>)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="workspace-commands">
<h3><code class="docutils literal notranslate"><span class="pre">workspace</span></code> commands<a class="headerlink" href="#workspace-commands" title="Permalink to this headline"> </a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Legacy command</p></th>
<th class="head"><p>New command</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">workspace</span> <span class="pre">delete</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">workspace</span> <span class="pre">delete</span></code> (same)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">workspace</span> <span class="pre">export</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">workspace</span> <span class="pre">export</span></code> (same)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">workspace</span> <span class="pre">export_dir</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">workspace</span> <span class="pre">export</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">workspace</span> <span class="pre">import</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">workspace</span> <span class="pre">import</span></code> (same)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">workspace</span> <span class="pre">import_dir</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">workspace</span> <span class="pre">import</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">workspace</span> <span class="pre">list</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">workspace</span> <span class="pre">list</span></code> (same)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">workspace</span> <span class="pre">ls</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">workspace</span> <span class="pre">list</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">workspace</span> <span class="pre">mkdirs</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">workspace</span> <span class="pre">mkdirs</span></code> (same)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">workspace</span> <span class="pre">rm</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">workspace</span> <span class="pre">delete</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="default-and-positional-arguments">
<h2>Default and positional arguments<a class="headerlink" href="#default-and-positional-arguments" title="Permalink to this headline"> </a></h2>
<p>Most of the new CLI commands have at least one default argument that does not have an accompanying option. Some new CLI commands have two or more positional arguments that must be specified in a particular order and that do not have accompanying options. This is different from the legacy CLI, where most commands require options to be specified for all arguments. For example, the new CLI’s <code class="docutils literal notranslate"><span class="pre">clusters</span> <span class="pre">get</span></code> command takes a cluster ID as a default argument. However, the legacy CLI’s <code class="docutils literal notranslate"><span class="pre">clusers</span> <span class="pre">get</span></code> command requires you to specify a <code class="docutils literal notranslate"><span class="pre">--cluster-id</span></code> option along with the cluster ID. For example:</p>
<p>For the legacy CLI:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># This works with the legacy CLI.</span>
databricks<span class="w"> </span>clusters<span class="w"> </span>get<span class="w"> </span>--cluster-id<span class="w"> </span><span class="m">1234</span>-567890-a1b23c4d

<span class="c1"># This does **not** work with the legacy CLI - &quot;Error:</span>
<span class="c1">#   Missing None. One of [&#39;cluster-id&#39;, &#39;cluster-name&#39;] must be provided.&quot;</span>
databricks<span class="w"> </span>clusters<span class="w"> </span>get<span class="w"> </span><span class="m">1234</span>-567890-a1b23c4d
</pre></div>
</div>
<p>For the new CLI:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># This works with the new CLI.</span>
databricks<span class="w"> </span>clusters<span class="w"> </span>get<span class="w"> </span><span class="m">1234</span>-567890-a1b23c4d

<span class="c1"># This does **not** work with the new CLI - &quot;Error: unknown flag: --cluster-id&quot;</span>
databricks<span class="w"> </span>clusters<span class="w"> </span>get<span class="w"> </span>--cluster-id<span class="w"> </span><span class="m">1234</span>-567890-a1b23c4d
</pre></div>
</div>
<p>As another example, the new CLI’s <code class="docutils literal notranslate"><span class="pre">grants</span> <span class="pre">get</span></code> command takes two default arguments: the securable type followed by the securable’s full name. However, the legacy CLI’s <code class="docutils literal notranslate"><span class="pre">unity-catalog</span> <span class="pre">permissions</span> <span class="pre">get</span></code> command requires you to specify a <code class="docutils literal notranslate"><span class="pre">--&lt;securable-type&gt;</span></code> option along with the securable’s full name. For example:</p>
<p>For the legacy CLI:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>databricks<span class="w"> </span>unity-catalog<span class="w"> </span>permissions<span class="w"> </span>get<span class="w"> </span>--schema<span class="w"> </span>main.default
</pre></div>
</div>
<p>For the new CLI:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># This works with the new CLI.</span>
databricks<span class="w"> </span>grants<span class="w"> </span>get<span class="w"> </span>schema<span class="w"> </span>main.default

<span class="c1"># This does **not** work with the new CLI - &quot;Error: unknown flag: --schema&quot;</span>
databricks<span class="w"> </span>grants<span class="w"> </span>get<span class="w"> </span>--schema<span class="w"> </span>main.default
</pre></div>
</div>
</div>
<div class="section" id="debug-mode">
<h2>Debug mode<a class="headerlink" href="#debug-mode" title="Permalink to this headline"> </a></h2>
<p>The legacy CLI provides a <code class="docutils literal notranslate"><span class="pre">--debug</span></code> option to show full stack trace on error. For the new CLI, the <code class="docutils literal notranslate"><span class="pre">--debug</span></code> option is not recognized. Instead, use the following options:</p>
<ul class="simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">--log-file</span> <span class="pre">&lt;path&gt;</span></code> to write log information to the file specified in <code class="docutils literal notranslate"><span class="pre">&lt;path&gt;</span></code>. If this option is not provided, log information is output to stderr. Specifying <code class="docutils literal notranslate"><span class="pre">--log-file</span></code> without also specifying <code class="docutils literal notranslate"><span class="pre">--log-level</span></code> results in no log information being written to the file.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">--log-format</span> <span class="pre">&lt;type&gt;</span></code> to specify the format of the information logged. <code class="docutils literal notranslate"><span class="pre">&lt;type&gt;</span></code> can be <code class="docutils literal notranslate"><span class="pre">text</span></code> (the default, if not specified) or <code class="docutils literal notranslate"><span class="pre">json</span></code>.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">--log-level</span> <span class="pre">&lt;format&gt;</span></code> to specify the level of information logged. Allowed values are <code class="docutils literal notranslate"><span class="pre">disabled</span></code> (the default, if not specified), <code class="docutils literal notranslate"><span class="pre">trace</span></code>, <code class="docutils literal notranslate"><span class="pre">debug</span></code>, <code class="docutils literal notranslate"><span class="pre">info</span></code>, <code class="docutils literal notranslate"><span class="pre">warn</span></code>, and <code class="docutils literal notranslate"><span class="pre">error</span></code>.</p></li>
</ul>
<p>For the legacy CLI, the following example shows the full stack trace on error:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>databricks<span class="w"> </span>fs<span class="w"> </span>ls<span class="w"> </span>/<span class="w"> </span>--debug

<span class="c1"># Output:</span>
<span class="c1">#</span>
<span class="c1"># HTTP debugging enabled</span>
<span class="c1"># NoneType: None</span>
<span class="c1"># Error: The path / must start with &quot;dbfs:/&quot;</span>
</pre></div>
</div>
<p>For the new CLI, the following example logs the full stack trace to a file named <code class="docutils literal notranslate"><span class="pre">new-cli-errors.log</span></code> in the current working directory. The stack trace is written to the file in JSON format:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>databricks<span class="w"> </span>fs<span class="w"> </span>ls<span class="w"> </span>/<span class="w"> </span>--log-file<span class="w"> </span>new-cli-errors.log<span class="w"> </span>--log-format<span class="w"> </span>json<span class="w"> </span>--log-level<span class="w"> </span>trace

<span class="c1"># Output:</span>
<span class="c1">#</span>
<span class="c1"># Error: expected dbfs path (with the dbfs:/ prefix): /</span>
<span class="c1">#</span>
<span class="c1"># (The full stack trace is also written to the new-cli-errors.log file.)</span>
</pre></div>
</div>
</div>
<div class="section" id="common-questions">
<h2>Common questions<a class="headerlink" href="#common-questions" title="Permalink to this headline"> </a></h2>
<p>This section lists common questions about migrating from the legacy to the new CLI.</p>
<div class="section" id="what-is-happening-to-the-legacy-cli">
<h3>What is happening to the legacy CLI?<a class="headerlink" href="#what-is-happening-to-the-legacy-cli" title="Permalink to this headline"> </a></h3>
<p>The legacy CLI is still available but is not receiving any non-critical updates. The <a class="reference internal" href="../../archive/dev-tools/cli/index.html"><span class="doc">legacy CLI documentation</span></a> reflects this. Databricks recommends that users migrate to the new CLI as soon as possible.</p>
<p>The legacy CLI has always been in an <a class="reference internal" href="../../release-notes/release-types.html"><span class="doc">Experimental</span></a> state with a disclaimer that Databricks plans no new feature work for the legacy CLI, and the legacy CLI is not supported through Databricks support channels.</p>
</div>
<div class="section" id="when-will-the-legacy-cli-be-deprecated">
<h3>When will the legacy CLI be deprecated?<a class="headerlink" href="#when-will-the-legacy-cli-be-deprecated" title="Permalink to this headline"> </a></h3>
<p>The legacy CLI has always been in an <a class="reference internal" href="../../release-notes/release-types.html"><span class="doc">Experimental</span></a> state with a disclaimer that Databricks plans no new feature work for the legacy CLI, and the legacy CLI is not supported through Databricks support channels.</p>
<p>Databricks has not established a date or timeline for deprecating the legacy CLI. However, Databricks recommends that users migrate to the new CLI as soon as possible.</p>
</div>
<div class="section" id="when-will-the-new-cli-be-released-as-generally-available-ga">
<h3>When will the new CLI be released as generally available (GA)?<a class="headerlink" href="#when-will-the-new-cli-be-released-as-generally-available-ga" title="Permalink to this headline"> </a></h3>
<p>A release date or timeline for releasing the new CLI as GA has not been established. This will depend on feedback that Databricks receives from users during the Public Preview.</p>
</div>
<div class="section" id="what-are-the-key-differences-between-the-legacy-and-new-clis">
<h3>What are the key differences between the legacy and new CLIs?<a class="headerlink" href="#what-are-the-key-differences-between-the-legacy-and-new-clis" title="Permalink to this headline"> </a></h3>
<ul class="simple">
<li><p>The legacy CLI was released as a Python package. The new CLI is released as a standalone executable and does not need any runtime dependencies installed.</p></li>
<li><p>The new CLI has complete coverage of the Databricks REST APIs. The legacy CLI does not.</p></li>
<li><p>The new CLI is available as a Public Preview. The legacy CLI remains in an Experimental state.</p></li>
</ul>
</div>
<div class="section" id="does-the-new-cli-have-full-feature-parity-with-the-legacy-cli">
<h3>Does the new CLI have full feature parity with the legacy CLI?<a class="headerlink" href="#does-the-new-cli-have-full-feature-parity-with-the-legacy-cli" title="Permalink to this headline"> </a></h3>
<p>The new CLI has coverage for almost all of the commands from the legacy CLI. However, notably absent from the new CLI is the <code class="docutils literal notranslate"><span class="pre">stacks</span></code> command group in the legacy CLI. Also, a few legacy CLI command groups such as <code class="docutils literal notranslate"><span class="pre">unity-catalog</span></code> and <code class="docutils literal notranslate"><span class="pre">runs</span></code> have been refactored into new command groups in the new CLI. For migration guidance, see the information provided earlier in this article.</p>
</div>
<div class="section" id="how-do-i-migrate-from-the-legacy-to-the-new-cli">
<h3>How do I migrate from the legacy to the new CLI?<a class="headerlink" href="#how-do-i-migrate-from-the-legacy-to-the-new-cli" title="Permalink to this headline"> </a></h3>
<p>For migration guidance, see the information provided earlier in this article. Note that the new CLI is not a drop-in replacement for the legacy CLI and requires some setup to move from the legacy to the new CLI.</p>
</div>
<div class="section" id="can-installations-of-the-legacy-and-new-clis-exist-on-the-same-machine">
<h3>Can installations of the legacy and new CLIs exist on the same machine?<a class="headerlink" href="#can-installations-of-the-legacy-and-new-clis-exist-on-the-same-machine" title="Permalink to this headline"> </a></h3>
<p>Yes. Installations of the legacy and new CLIs can exist on the same machine, but they must be located in different directories. Because the executables are both named <code class="docutils literal notranslate"><span class="pre">databricks</span></code>, you must control which executable is run by default by configuring your machine’s <code class="docutils literal notranslate"><span class="pre">PATH</span></code>. If you want to run the new CLI but somehow accidentally run the legacy CLI instead, by default the legacy CLI will run the new CLI with the same arguments and show the following warning message:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Databricks CLI &lt;new-version-number&gt; found at &lt;new-path&gt;
Your current PATH prefers running CLI &lt;old-version-number&gt; at &lt;old-path&gt;

Because both are installed and available in PATH,
I assume you are trying to run the newer version.

If you want to disable this behavior you can set DATABRICKS_CLI_DO_NOT_EXECUTE_NEWER_VERSION=1.

Executing CLI &lt;new-version-number&gt;...
-------------------------------------
Databricks CLI &lt;new-version-number&gt;
</pre></div>
</div>
<p>As shown in the preceding warning message, you can set the <code class="docutils literal notranslate"><span class="pre">DATABRICKS_CLI_DO_NOT_EXECUTE_NEWER_VERSION</span></code> environment variable to <code class="docutils literal notranslate"><span class="pre">1</span></code> to disable this behavior and run the legacy CLI instead.</p>
</div>
<div class="section" id="are-databricks-asset-bundles-also-available-as-public-preview">
<h3>Are Databricks Asset Bundles also available as Public Preview?<a class="headerlink" href="#are-databricks-asset-bundles-also-available-as-public-preview" title="Permalink to this headline"> </a></h3>
<p>No. <a class="reference internal" href="../bundles/index.html"><span class="doc">Databricks Asset Bundles</span></a> are in a Private Preview state within the new CLI, even though the new CLI is in Public Preview. To try the Databricks Asset Bundles Private Preview, reach out to your Databricks contact.</p>
</div>
</div>
<div class="section" id="get-help">
<h2>Get help<a class="headerlink" href="#get-help" title="Permalink to this headline"> </a></h2>
<p>To get help with migrating from the legacy CLI to the new CLI, see the following resources:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://help.databricks.com">Databricks Help Center</a></p></li>
<li><p><a class="reference internal" href="../../resources/office-hours.html"><span class="doc">Databricks Office Hours</span></a></p></li>
</ul>
<ul class="simple">
<li><p><a class="reference internal" href="../../resources/support.html"><span class="doc">Databricks Support</span></a></p></li>
</ul>
</div>
</div>


    
          </div>
        </div>
        <div  class="suapp-rating">
  <div id="suPageRateApp">
     <su-app></su-app>
   </div> 
 </div>
<hr> 
<footer>
  <div role="contentinfo">
      <p class="copyright">
          &copy; Databricks 2023. All rights reserved. Apache, Apache Spark, Spark, and the Spark logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a>.
      </p>
      <p> 
        
          <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
        
     | <a href="https://databricks.com/privacy-policy">Privacy Policy</a> | <a href="https://databricks.com/terms-of-use">Terms of Use</a></p>

  </div> 

</footer>
      </div>
    </div>
  </section>
</main>

  </page>
  
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT: '../../',
      VERSION: '1.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE: 'false'
    };
  </script>
  <script type="text/javascript" src="../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../_static/underscore.js"></script>
  <script type="text/javascript" src="../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../_static/language_data.js"></script>
  

  <script type="text/javascript" src="../../_static/js/clipboard.min.js"></script>
  <script type="text/javascript" src="../../_static/js/jquery.waypoints.min.js"></script>

  <!-- Select2 (https://select2.org/) -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <!-- End Select2 -->

  
  
  <script type="text/javascript" src="../../_static/js/localized.js"></script>
  <script type="text/javascript" src="../../_static/js/custom.js"></script>
  

  
  
  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.StickyNav.enable();
    });

  </script>
  
 



  <script>
  window.__searchunifyLoaderConfig = JSON.parse('{"clients": {"en": "02c2e804-27e9-11ee-aefb-0242ac120011", "ja": "6a42c3f2-2820-11ee-aefb-0242ac120011", "pt": "6a86badd-2821-11ee-aefb-0242ac120011"}}')
</script>
<script type="text/javascript" src="../../_static/js/search-loader.js"></script>
</body>
<script type='text/javascript'>
  window.onload = function () {
    var description = document.querySelector('meta[name="description"]').getAttribute("content");
    let titleText = document.querySelector('h1').textContent;
    document.querySelector('meta[property="og:title"]').setAttribute("content", titleText);
    document.querySelector('meta[property="og:description"]').setAttribute("content", description);
    document.querySelector('meta[property="twitter:description"]').setAttribute("content", description);
  };
</script>

</html>