

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en-US" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en-US"> <!--<![endif]-->

<head>
  <!-- cookie consent -->
  
    <!-- Combined Onetrust and Rudderstack Implementation Scripts -->
    <!-- Onetrust Initialization -->
    <script type="text/javascript" src="https://cdn.cookielaw.org/consent/92466579-1717-44d3-809d-a05fb02843ed-test/OtAutoBlock.js"></script>
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="92466579-1717-44d3-809d-a05fb02843ed-test"></script>
    <link rel="stylesheet" id="db-onetrust-style" href="https://www.databricks.com/wp-content/uploads/db_onetrust.css" media="all" />
    <!-- Setting Rudderstack Write Key -->
    <script>window.rudderstackKey = "2SOR9fvSr5Fi6tN2ihPbVHnX1SZ" </script>
    <!-- Rudderstack Initialization + Onetrust Integration + Rudderstack Custom Events -->
    <script type="text/javascript" src="https://www.databricks.com/sites/default/files/rudderstack/v1/db-rudderstack-events.js"></script>

  <!-- cookie consent -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta content="Learn how to use the Databricks SDK for Java to automate Databricks accounts, workspaces, and resources by running Java code." name="description" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta property="og:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:title" content="Databricks SDK for Java">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://docs.databricks.com">
  <meta property="og:description" content="" id="og-description">
  <meta name="twitter:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta name="twitter:site" content="@databricks">
  <meta name="twitter:creator" content="@databricks">
  <meta property="twitter:description" content="">
  
  <title>Databricks SDK for Java &#124; Databricks on AWS</title>
  
  
  <link rel="canonical" href="https://docs.databricks.com/en/dev-tools/sdk-java.html">
  <!-- Start hreflang tag -->
  <link rel="alternate" hreflang="en" href="https://docs.databricks.com/en/dev-tools/sdk-java.html" />
<link rel="alternate" hreflang="x-default" href="https://docs.databricks.com/en/dev-tools/sdk-java.html" />
  <!-- End hreflang tag -->
  
  
  <link rel="shortcut icon" href="../_static/favicon.ico" />
  

  

  

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T85FQ33');</script>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWTKQQ');</script>
    
  <!-- End Google Tag Manager -->


  <!-- MaxMind / GEO IP -->
  <script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>
  <!-- End MaxMind / GEO IP -->

  
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600&display=swap" rel="stylesheet">
  <link rel="preload" href="../_static/fonts/DMSans-Bold.ttf" as="font">
  <link rel="preload" href="../_static/fonts/DMSans-Regular.ttf" as="font">
  <link rel="preload" href="../_static/fonts/DMMono-Regular.ttf" as="font">
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/cloud-provider-selector.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/translation-selector.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/searchunify/main.css" type="text/css" />

  
  <link rel="index" title="Index" href="../genindex.html" />
  <link rel="search" title="Search" href="../search.html" />
  <link rel="top" title="Databricks on AWS" href="../index.html" /> 
</head>

<body class="wy-body-for-nav" role="document">

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T85FQ33"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWTKQQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  
  <nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
    
<nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
  <div class="container-logo">
    <ul class="mobile-menu-toggle">
        <li class="menu-toggle">
            <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
            
            <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
              alt="Databricks" /></a>   
               
              </li>
    </ul>
    <ul class="su_nav-menu">
      <li class="menu-toggle">
        <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
        
          
        
        <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
            alt="Databricks" /></a></li>
        <!-- 
<li><a href="https://help.databricks.com/s/">Help Center</a></li>
<li class="active"><a href="https://docs.databricks.com/en/">Documentation</a></li>
<li><a href="https://kb.databricks.com/">Knowledge Base</a></li>
 -->
    </ul>
  </div>
  <div class="su_nav-right">
    <ul class="su_link-mobile">
  <!-- Mobile header code can go here -->
</ul>
<ul class="right-try-list">
   
</ul>
  </div>
</nav>
  </nav>

  <div class="su_sub-header">
    <div class="container">
      <div class="su_sub-header-inner">
        <!-- <div class="su_subnav-menu-right">
  <div id="auto" style="width: 100%;">
    <div ng-controller="SearchautoController">
      <div bind-html-compile="autocompleteHtml">
        <form class="su__search-box-1" disabled="disabled">
          <input class="su__search-input" type="search" name="Search box" id="su__search-b" placeholder="Search Documentation" disabled="disabled"/>
          <button class="su__search-button" type="submit" class="button button-success" disabled="disabled">
            <svg width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                fill="#333"></path>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>
</div> -->
        <div class="search-lng-gap"></div>
        <div style="margin-left: 16px; margin-right: 16px;">
          <!-- <select name="lng selector" id="lng-selector">
    <option value="../../en/dev-tools/sdk-java.html" class="notranslate">English</option>
    <option value="../../ja/dev-tools/sdk-java.html" class="notranslate">日本語</option>
    <option value="../../pt/dev-tools/sdk-java.html" class="notranslate">Português (Brasil)</option>
</select> -->
        </div>
        <div class="cloud-selector-container">
          <!-- <select name="cloud provider selector" id="cloud-provider-selector">
    <option value="aws" selected class="notranslate">
        Amazon Web Services
    </option>
    <option value="azure"  class="notranslate">
        Microsoft Azure
    </option>
    <option value="gcp"  class="notranslate">
        Google Cloud Platform
    </option>
</select> -->
        </div>
      </div>
    </div>
  </div>
  <page class="js-page-container">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side su_nav-side">
<div class="wy-side-scroll">
  <div class="wy-side-nav-search">
    

    

    

    
  </div>

  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      <a href="../index.html" class="main-navigation-home">Databricks on AWS</a>
    

    
      

      
        <p class="caption"><span class="caption-text">Load &amp; manage data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../rag-temp/index.html">RAG Studio</a></li>
</ul>

      
    
  </div>

  <div role="contentinfo">
    
  <p class="build_info notranslate"data-last-edit="December 23, 2023">
    Updated Jan 11, 2024
  </p>
<script>
  window.addEventListener('DOMContentLoaded',function(){
    var h1=document.querySelector('h1');
    var bi=document.querySelector('[data-last-edit]');
    if(h1 && bi){
      var ver = document.createElement('p');
      ver.className = 'version_info';
      ver.textContent = bi.getAttribute('data-last-edit');
      h1.parentElement.insertBefore(ver, h1.nextElementSibling);
    }
  });
</script>

    <p>
      
        <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
      
    </p>
  </div>
</div>
</nav>
    
    
<main class="wy-grid-for-nav su_nav-grid">
  <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
    <div class="wy-nav-content su__nav_content">
      <div class="rst-content">
        





<div role="navigation" aria-label="breadcrumbs navigation" class="wy-breadcrumbs-wrapper">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Documentation</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
    
      <li>Databricks SDK for Java</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>
</div>
        
        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
          <div itemprop="articleBody">
            
    
  <div class="section" id="databricks-sdk-for-java">
<span id="sdk-java"></span><h1>Databricks SDK for Java<a class="headerlink" href="#databricks-sdk-for-java" title="Permalink to this headline"> </a></h1>
<p>In this article, you learn how to automate operations in Databricks accounts, workspaces, and related resources with the <a class="reference external" href="https://github.com/databricks/databricks-sdk-java">Databricks SDK for Java</a>. This article supplements the Databricks SDK for Java <a class="reference external" href="https://github.com/databricks/databricks-sdk-java/blob/main/README.md">README</a>, <a class="reference external" href="https://javadoc.io/doc/com.databricks/databricks-sdk-java">API reference</a>, and <a class="reference external" href="https://github.com/databricks/databricks-sdk-java/tree/main/examples">examples</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This feature is in <a class="reference internal" href="../release-notes/release-types.html"><span class="doc">Beta</span></a> and is okay to use in production.</p>
<p>During the Beta period, Databricks recommends that you pin a dependency on the specific minor version of the Databricks SDK for Java that your code depends on. For example, you can pin dependencies in files such as <code class="docutils literal notranslate"><span class="pre">pom.xml</span></code> for Maven. For more information about pinning dependencies, see <a class="reference external" href="https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html">Introduction to the Dependency Mechanism</a>.</p>
</div>
<div class="section" id="before-you-begin">
<h2>Before you begin<a class="headerlink" href="#before-you-begin" title="Permalink to this headline"> </a></h2>
<p>Before you begin to use the Databricks SDK for Java, your development machine must have:</p>
<ul class="simple">
<li><p>Databricks <a class="reference internal" href="#authentication"><span class="std std-ref">authentication</span></a> configured.</p></li>
<li><p>A Java Development Kit (JDK) that is compatible with Java 8 or higher. Continuous integration (CI) testing with the Databricks SDK for Java is compatible with Java versions 8, 11, 17, and 20.</p></li>
<li><p>A Java-compatible integrated development environment (IDE) is recommended. Databricks recommends <a class="reference external" href="https://www.jetbrains.com/idea">IntelliJ IDEA</a>.</p></li>
</ul>
</div>
<div class="section" id="get-started-with-the-databricks-sdk-for-java">
<span id="get-started-with-the-sdk-java"></span><h2>Get started with the Databricks SDK for Java<a class="headerlink" href="#get-started-with-the-databricks-sdk-for-java" title="Permalink to this headline"> </a></h2>
<ol class="arabic">
<li><p>In your project’s <code class="docutils literal notranslate"><span class="pre">pom.xml</span></code> file, instruct your build system to take a dependency on the Databricks SDK for Java. To do this, add the following <code class="docutils literal notranslate"><span class="pre">&lt;dependency&gt;</span></code> to the <code class="docutils literal notranslate"><span class="pre">pom.xml</span></code> file’s existing <code class="docutils literal notranslate"><span class="pre">&lt;dependencies&gt;</span></code> section. If the <code class="docutils literal notranslate"><span class="pre">&lt;dependencies&gt;</span></code> section does not already exist within the <code class="docutils literal notranslate"><span class="pre">pom.xml</span></code> file, you must also add the <code class="docutils literal notranslate"><span class="pre">&lt;dependencies&gt;</span></code> parent element to the <code class="docutils literal notranslate"><span class="pre">pom.xml</span></code> file.</p>
<p>For example, to open your project’s <code class="docutils literal notranslate"><span class="pre">pom.xml</span></code> file in IntelliJ IDEA, click <strong>View &gt; Tool Windows &gt; Project</strong>, and then double-click to open <strong><em>your-project-name</em> &gt; src &gt; pom.xml</strong>.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;dependencies&gt;</span>
<span class="w">  </span><span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>com.databricks<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>databricks-sdk-java<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;version&gt;</span>0.0.1<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;/dependencies&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Be sure to replace <code class="docutils literal notranslate"><span class="pre">0.0.1</span></code> with the latest version of the Databricks SDK for Java. You can find the latest version in the <a class="reference external" href="https://central.sonatype.com/artifact/com.databricks/databricks-sdk-java/versions">Maven central repository</a>.</p>
</div>
</li>
<li><p>Instruct your project to take the declared dependency on the Databricks SDK for Java. For example, in IntelliJ IDEA, in your project’s <strong>Project</strong> tool window, click your project’s root node, and then click <strong>Maven &gt; Reload Project</strong>.</p></li>
<li><p>Add code to import the Databricks SDK for Java and to list all of the clusters in your Databricks workspace. For example, in a project’s <code class="docutils literal notranslate"><span class="pre">Main.java</span></code> file, the code might be as follows:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.databricks.sdk.WorkspaceClient</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.databricks.sdk.service.compute.ClusterInfo</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.databricks.sdk.service.compute.ListClustersRequest</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">WorkspaceClient</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">WorkspaceClient</span><span class="p">();</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">ClusterInfo</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">w</span><span class="p">.</span><span class="na">clusters</span><span class="p">().</span><span class="na">list</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ListClustersRequest</span><span class="p">()))</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">c</span><span class="p">.</span><span class="na">getClusterName</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By not setting any arguments in the preceding call to <code class="docutils literal notranslate"><span class="pre">WorkspaceClient</span> <span class="pre">w</span> <span class="pre">=</span> <span class="pre">new</span> <span class="pre">WorkspaceClient()</span></code>, the Databricks SDK for Java uses its default process for trying to perform Databricks authentication. To override this default behavior, see the following <a class="reference internal" href="#authentication"><span class="std std-ref">authentication</span></a> section.</p>
</div>
</li>
<li><p>Build your project. For example, to do this in IntelliJ IDEA, from the main menu, click <strong>Build &gt; Build Project</strong>.</p></li>
<li><p>Run your main file. For example, to do this in IntelliJ IDEA for a project’s <code class="docutils literal notranslate"><span class="pre">Main.java</span></code> file, from the main menu, click <strong>Run &gt; Run ‘Main’</strong>.</p></li>
<li><p>The list of clusters appears. For example, in IntelliJ IDEA, this is in the <strong>Run</strong> tool window. To display this tool window, from the main menu, click <strong>View &gt; Tool Windows &gt; Run</strong>.</p></li>
</ol>
</div>
<div class="section" id="authenticate-the-databricks-sdk-for-java-with-your-databricks-account-or-workspace">
<span id="authenticate-the-sdk-java-with-your-databricks-account-or-workspace"></span><span id="authentication"></span><h2>Authenticate the Databricks SDK for Java with your Databricks account or workspace<a class="headerlink" href="#authenticate-the-databricks-sdk-for-java-with-your-databricks-account-or-workspace" title="Permalink to this headline"> </a></h2>
<p>The Databricks SDK for Java implements the <em>Databricks client unified authentication</em> standard, a consolidated and consistent architectural and programmatic approach to authentication. This approach helps make setting up and automating authentication with Databricks more centralized and predictable. It enables you to configure Databricks authentication once and then use that configuration across multiple Databricks tools and SDKs without further authentication configuration changes. For more information, including more complete code examples in Java, see <a class="reference internal" href="auth/index.html#unified-auth"><span class="std std-ref">Databricks client unified authentication</span></a>.</p>
<p>Some of the available coding patterns to initialize Databricks authentication with the Databricks SDK for Java include:</p>
<ul>
<li><p>Use Databricks default authentication by doing one of the following:</p>
<ul class="simple">
<li><p>Create or identify a custom <a class="reference internal" href="auth/index.html#config-profiles"><span class="std std-ref">Databricks configuration profile</span></a> with the required fields for the target Databricks authentication type. Then set the <code class="docutils literal notranslate"><span class="pre">DATABRICKS_CONFIG_PROFILE</span></code> environment variable to the name of the custom configuration profile.</p></li>
<li><p>Set the required environment variables for the target Databricks authentication type.</p></li>
</ul>
<p>Then instantiate for example a <code class="docutils literal notranslate"><span class="pre">WorkspaceClient</span></code> object with Databricks default authentication as follows:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.databricks.sdk.WorkspaceClient</span><span class="p">;</span>
<span class="c1">// ...</span>
<span class="n">WorkspaceClient</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">WorkspaceClient</span><span class="p">();</span>
<span class="c1">// ...</span>
</pre></div>
</div>
</li>
<li><p>Hard-coding the required fields is supported but not recommended, as it risks exposing sensitive information in your code, such as Databricks personal access tokens. The following example hard-codes Databricks host and access token values for Databricks token authentication:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.databricks.sdk.WorkspaceClient</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.databricks.sdk.core.DatabricksConfig</span><span class="p">;</span>
<span class="c1">// ...</span>
<span class="n">DatabricksConfig</span><span class="w"> </span><span class="n">cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DatabricksConfig</span><span class="p">()</span>
<span class="w">  </span><span class="p">.</span><span class="na">setHost</span><span class="p">(</span><span class="s">&quot;https://...&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="na">setToken</span><span class="p">(</span><span class="s">&quot;...&quot;</span><span class="p">);</span>
<span class="n">WorkspaceClient</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">WorkspaceClient</span><span class="p">(</span><span class="n">cfg</span><span class="p">);</span>
<span class="c1">// ...</span>
</pre></div>
</div>
</li>
</ul>
<p>See also <a class="reference external" href="https://github.com/databricks/databricks-sdk-java#authentication">Authentication</a> in the Databricks SDK for Java README.</p>
<div class="section" id="use-databricks-utilities-and-java-with-the-databricks-sdk-for-java">
<span id="use-databricks-utilities-and-java-with-the-sdk-java"></span><span id="dbutils-java"></span><h3>Use Databricks Utilities and Java with the Databricks SDK for Java<a class="headerlink" href="#use-databricks-utilities-and-java-with-the-databricks-sdk-for-java" title="Permalink to this headline"> </a></h3>
<p><a class="reference internal" href="databricks-utils.html"><span class="doc">Databricks Utilities</span></a> provides several helper functions to make it easy to work with object storage efficiently, chain and parameterize notebooks, and work with secrets. Databricks provides a <a class="reference external" href="https://central.sonatype.com/artifact/com.databricks/databricks-dbutils-scala_2.12">Databricks Utilities for Scala</a> library, which you can call with Java code, to enable you to programmatically access Databricks Utilities.</p>
<p>To use Java code to call the Databricks Utilities for Scala, do the following:</p>
<ol class="arabic">
<li><p>In your Java project, declare a dependency on the Databricks SDK for Java, as described in the previous section.</p></li>
<li><p>Declare a dependency on the Databricks Utilities for Scala library. To do this, add the following <code class="docutils literal notranslate"><span class="pre">&lt;dependency&gt;</span></code> to the <code class="docutils literal notranslate"><span class="pre">pom.xml</span></code> file’s existing <code class="docutils literal notranslate"><span class="pre">&lt;dependencies&gt;</span></code> section:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;dependency&gt;</span>
<span class="w">  </span><span class="nt">&lt;groupId&gt;</span>com.databricks<span class="nt">&lt;/groupId&gt;</span>
<span class="w">  </span><span class="nt">&lt;artifactId&gt;</span>databricks-dbutils-scala_2.12<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">  </span><span class="nt">&lt;version&gt;</span>0.1.4<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Be sure to replace <code class="docutils literal notranslate"><span class="pre">0.1.4</span></code> with the latest version of the Databricks Utilities for Scala library. You can find the latest version in the <a class="reference external" href="https://central.sonatype.com/artifact/com.databricks/databricks-dbutils-scala_2.12/versions">Maven central repository</a>.</p>
</div>
</li>
<li><p>Instruct your project to take the declared dependency on the Databricks Utilities for Scala. For example, in IntelliJ IDEA, in your project’s <strong>Project</strong> tool window, click your project’s root node, and then click <strong>Maven &gt; Reload Project</strong>.</p></li>
<li><p>Add code to import and then call the Databricks Utility for Scala. For example, the following code automates a Unity Catalog volume. This example creates a file named <code class="docutils literal notranslate"><span class="pre">zzz_hello.txt</span></code> in the volume’s path within the workspace, reads the data from the file, and then deletes the file:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.databricks.sdk.core.DatabricksConfig</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.databricks.sdk.scala.dbutils.DBUtils</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">filePath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;/Volumes/main/default/my-volume/zzz_hello.txt&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">fileData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hello, Databricks!&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">DBUtils</span><span class="w"> </span><span class="n">dbutils</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DBUtils</span><span class="p">.</span><span class="na">getDBUtils</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">DatabricksConfig</span><span class="p">().</span><span class="na">setProfile</span><span class="p">(</span><span class="s">&quot;DEFAULT&quot;</span><span class="p">));</span>

<span class="w">    </span><span class="n">dbutils</span><span class="p">.</span><span class="na">fs</span><span class="p">().</span><span class="na">put</span><span class="p">(</span><span class="n">filePath</span><span class="p">,</span><span class="w"> </span><span class="n">fileData</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>

<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">dbutils</span><span class="p">.</span><span class="na">fs</span><span class="p">().</span><span class="na">head</span><span class="p">(</span><span class="n">filePath</span><span class="p">,</span><span class="w"> </span><span class="mi">18</span><span class="p">));</span>

<span class="w">    </span><span class="n">dbutils</span><span class="p">.</span><span class="na">fs</span><span class="p">().</span><span class="na">rm</span><span class="p">(</span><span class="n">filePath</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Build your project and run your main file.</p></li>
</ol>
</div>
</div>
<div class="section" id="code-examples">
<h2>Code examples<a class="headerlink" href="#code-examples" title="Permalink to this headline"> </a></h2>
<p>The following code examples demonstrate how to use the Databricks SDK for Java to create and delete clusters, create jobs, and list account-level groups. These code examples use the Databricks SDK for Java’s default Databricks <a class="reference internal" href="#authentication"><span class="std std-ref">authentication</span></a> process.</p>
<p>For additional code examples, see the <a class="reference external" href="https://github.com/databricks/databricks-sdk-java/tree/main/examples">examples</a> folder in the Databricks SDK for Java repository in GitHub.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#create-a-cluster" id="id1">Create a cluster</a></p>
<ul>
<li><p><a class="reference internal" href="#create-a-cluster-that-uses-jdk-17" id="id2">Create a cluster that uses JDK 17</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#permanently-delete-a-cluster" id="id3">Permanently delete a cluster</a></p></li>
<li><p><a class="reference internal" href="#create-a-job" id="id4">Create a job</a></p></li>
<li><p><a class="reference internal" href="#list-account-level-groups" id="id5">List account-level groups</a></p></li>
</ul>
</div>
<div class="section" id="create-a-cluster">
<h3><a class="toc-backref" href="#id1">Create a cluster</a><a class="headerlink" href="#create-a-cluster" title="Permalink to this headline"> </a></h3>
<p>This code example creates a cluster with the specified Databricks Runtime version and cluster node type. This cluster has one worker, and the cluster will automatically terminate after 15 minutes of idle time.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.databricks.sdk.WorkspaceClient</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.databricks.sdk.service.compute.CreateCluster</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.databricks.sdk.service.compute.CreateClusterResponse</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">WorkspaceClient</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">WorkspaceClient</span><span class="p">();</span>

<span class="w">    </span><span class="n">CreateClusterResponse</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">w</span><span class="p">.</span><span class="na">clusters</span><span class="p">().</span><span class="na">create</span><span class="p">(</span>
<span class="w">      </span><span class="k">new</span><span class="w"> </span><span class="n">CreateCluster</span><span class="p">()</span>
<span class="w">        </span><span class="p">.</span><span class="na">setClusterName</span><span class="p">(</span><span class="s">&quot;my-cluster&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">setSparkVersion</span><span class="p">(</span><span class="s">&quot;12.2.x-scala2.12&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">setNodeTypeId</span><span class="p">(</span><span class="s">&quot;i3.xlarge&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">setAutoterminationMinutes</span><span class="p">(</span><span class="mi">15L</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">setNumWorkers</span><span class="p">(</span><span class="mi">1L</span><span class="p">)</span>
<span class="w">    </span><span class="p">).</span><span class="na">getResponse</span><span class="p">();</span>

<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;View the cluster at &quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">      </span><span class="n">w</span><span class="p">.</span><span class="na">config</span><span class="p">().</span><span class="na">getHost</span><span class="p">()</span><span class="w"> </span><span class="o">+</span>
<span class="w">      </span><span class="s">&quot;#setting/clusters/&quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">      </span><span class="n">c</span><span class="p">.</span><span class="na">getClusterId</span><span class="p">()</span><span class="w"> </span><span class="o">+</span>
<span class="w">      </span><span class="s">&quot;/configuration\n&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="create-a-cluster-that-uses-jdk-17">
<h4><a class="toc-backref" href="#id2">Create a cluster that uses JDK 17</a><a class="headerlink" href="#create-a-cluster-that-uses-jdk-17" title="Permalink to this headline"> </a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>JDK 8 is fully supported. JDK 17 is in Public Preview for Databricks Runtime versions 13.1 and above.</p>
</div>
<p>This section provides a guide to creating a cluster using the Java Development Kit (JDK). Learn how to create a cluster with JDK 17 to use Java in your notebooks and jobs.</p>
<p>When you create a cluster, specify that the cluster uses JDK 17 for both the driver and executor by adding the following environment variable to <strong>Advanced Options &gt; Spark &gt; Environment Variables</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">JNAME</span><span class="o">=</span>zulu17-ca-amd64
</pre></div>
</div>
<p>If you are using ARM-based clusters (for example, AWS Graviton instances), use the following environment variable instead.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">JNAME</span><span class="o">=</span>zulu17-ca-arm64
</pre></div>
</div>
</div>
</div>
<div class="section" id="permanently-delete-a-cluster">
<h3><a class="toc-backref" href="#id3">Permanently delete a cluster</a><a class="headerlink" href="#permanently-delete-a-cluster" title="Permalink to this headline"> </a></h3>
<p>This code example permanently deletes the cluster with the specified cluster ID from the workspace.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.databricks.sdk.WorkspaceClient</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Scanner</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ID of cluster to delete (for example, 1234-567890-ab123cd4):&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="n">Scanner</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Scanner</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">in</span><span class="p">);</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">c_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="na">nextLine</span><span class="p">();</span>
<span class="w">    </span><span class="n">WorkspaceClient</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">WorkspaceClient</span><span class="p">();</span>

<span class="w">    </span><span class="n">w</span><span class="p">.</span><span class="na">clusters</span><span class="p">().</span><span class="na">permanentDelete</span><span class="p">(</span><span class="n">c_id</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="create-a-job">
<h3><a class="toc-backref" href="#id4">Create a job</a><a class="headerlink" href="#create-a-job" title="Permalink to this headline"> </a></h3>
<p>This code example creates a Databricks job that can be used to run the specified notebook on the specified cluster. As this code runs, it gets the existing notebook’s path, the existing cluster ID, and related job settings from the user at the terminal.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.databricks.sdk.WorkspaceClient</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.databricks.sdk.service.jobs.JobTaskSettings</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.databricks.sdk.service.jobs.NotebookTask</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.databricks.sdk.service.jobs.NotebookTaskSource</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.databricks.sdk.service.jobs.CreateResponse</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.databricks.sdk.service.jobs.CreateJob</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Scanner</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Map</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Collection</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Arrays</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Some short name for the job (for example, my-job):&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">Scanner</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Scanner</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">in</span><span class="p">);</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">jobName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="na">nextLine</span><span class="p">();</span>

<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Some short description for the job (for example, My job):&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="na">nextLine</span><span class="p">();</span>

<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ID of the existing cluster in the workspace to run the job on (for example, 1234-567890-ab123cd4):&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">existingClusterId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="na">nextLine</span><span class="p">();</span>

<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Workspace path of the notebook to run (for example, /Users/someone@example.com/my-notebook):&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">notebookPath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="na">nextLine</span><span class="p">();</span>

<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Some key to apply to the job&#39;s tasks (for example, my-key): &quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">taskKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="na">nextLine</span><span class="p">();</span>

<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Attempting to create the job. Please wait...&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="n">WorkspaceClient</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">WorkspaceClient</span><span class="p">();</span>

<span class="w">    </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Map</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">JobTaskSettings</span><span class="o">&gt;</span><span class="w"> </span><span class="n">tasks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">JobTaskSettings</span><span class="p">()</span>
<span class="w">      </span><span class="p">.</span><span class="na">setDescription</span><span class="p">(</span><span class="n">description</span><span class="p">)</span>
<span class="w">      </span><span class="p">.</span><span class="na">setExistingClusterId</span><span class="p">(</span><span class="n">existingClusterId</span><span class="p">)</span>
<span class="w">      </span><span class="p">.</span><span class="na">setNotebookTask</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">NotebookTask</span><span class="p">()</span>
<span class="w">        </span><span class="p">.</span><span class="na">setBaseParameters</span><span class="p">(</span><span class="n">map</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">setNotebookPath</span><span class="p">(</span><span class="n">notebookPath</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">setSource</span><span class="p">(</span><span class="n">NotebookTaskSource</span><span class="p">.</span><span class="na">WORKSPACE</span><span class="p">))</span>
<span class="w">      </span><span class="p">.</span><span class="na">setTaskKey</span><span class="p">(</span><span class="n">taskKey</span><span class="p">)</span>
<span class="w">    </span><span class="p">);</span>

<span class="w">    </span><span class="n">CreateResponse</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">w</span><span class="p">.</span><span class="na">jobs</span><span class="p">().</span><span class="na">create</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">CreateJob</span><span class="p">()</span>
<span class="w">      </span><span class="p">.</span><span class="na">setName</span><span class="p">(</span><span class="n">jobName</span><span class="p">)</span>
<span class="w">      </span><span class="p">.</span><span class="na">setTasks</span><span class="p">(</span><span class="n">tasks</span><span class="p">)</span>
<span class="w">    </span><span class="p">);</span>

<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;View  the job at &quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">      </span><span class="n">w</span><span class="p">.</span><span class="na">config</span><span class="p">().</span><span class="na">getHost</span><span class="p">()</span><span class="w"> </span><span class="o">+</span>
<span class="w">      </span><span class="s">&quot;/#job/&quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">      </span><span class="n">j</span><span class="p">.</span><span class="na">getJobId</span><span class="p">()</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="list-account-level-groups">
<span id="create-a-job"></span><h3><a class="toc-backref" href="#id5">List account-level groups</a><a class="headerlink" href="#list-account-level-groups" title="Permalink to this headline"> </a></h3>
<p>This code example lists the display names for all of the available groups within the Databricks account.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.databricks.sdk.AccountClient</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.databricks.sdk.core.DatabricksConfig</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.databricks.sdk.service.iam.Group</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.databricks.sdk.service.iam.ListAccountGroupsRequest</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">AccountClient</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AccountClient</span><span class="p">();</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Group</span><span class="w"> </span><span class="n">g</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="na">groups</span><span class="p">().</span><span class="na">list</span><span class="p">((</span><span class="k">new</span><span class="w"> </span><span class="n">ListAccountGroupsRequest</span><span class="p">())))</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">g</span><span class="p">.</span><span class="na">getDisplayName</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="use-scala-with-the-databricks-sdk-for-java">
<span id="use-scala-with-the-sdk-java"></span><span id="scala"></span><h2>Use Scala with the Databricks SDK for Java<a class="headerlink" href="#use-scala-with-the-databricks-sdk-for-java" title="Permalink to this headline"> </a></h2>
<p>You can use Scala projects with the Databricks SDK for Java. Before you begin, your development machine must have:</p>
<ul class="simple">
<li><p>Databricks <a class="reference internal" href="#authentication"><span class="std std-ref">authentication</span></a> configured.</p></li>
<li><p>A Scala-compatible integrated development environment (IDE) is recommended. Databricks recommends <a class="reference external" href="https://www.jetbrains.com/idea">IntelliJ IDEA</a> with the <a class="reference external" href="https://www.jetbrains.com/help/idea/discover-intellij-idea-for-scala.html">Scala plugin</a>.</p></li>
<li><p>A Java Development Kit (JDK) that is compatible with Java 8 or above. If you want to run your applications or use your libraries on a Databricks cluster, Databricks recommends that you use a version of JDK that matches the JDK version on the cluster. To find the JDK version that is included with a specific Databricks Runtime, see <a class="reference internal" href="../release-notes/runtime/index.html"><span class="doc">Databricks Runtime release notes versions and compatibility</span></a>. If you use IntelliJ IDEA, you can choose an existing local JDK installation or install a new JDK locally during Scala project creation.</p></li>
<li><p>A Scala build tool. Databricks recommends <code class="docutils literal notranslate"><span class="pre">sbt</span></code>. If you use IntelliJ IDEA, you can choose the <code class="docutils literal notranslate"><span class="pre">sbt</span></code> version to use during Scala project creation.</p></li>
<li><p>Scala. If you want to run your applications or use your libraries on a Databricks cluster, Databricks recommends that you use a version of Scala that matches the Scala version on the cluster. To find the Scala version that is included with a specific Databricks Runtime, see <a class="reference internal" href="../release-notes/runtime/index.html"><span class="doc">Databricks Runtime release notes versions and compatibility</span></a>. If you use IntelliJ IDEA, you can choose the Scala version to use during Scala project creation.</p></li>
</ul>
<p>To configure, build, and run your Scala project:</p>
<ol class="arabic">
<li><p>In your project’s <code class="docutils literal notranslate"><span class="pre">build.sbt</span></code> file, take a dependency on the Databricks SDK for Java library by adding the following line to the end of the file, and then save the file:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>libraryDependencies += &quot;com.databricks&quot; % &quot;databricks-sdk-java&quot; % &quot;0.2.0&quot;
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Be sure to replace <code class="docutils literal notranslate"><span class="pre">0.2.0</span></code> with the latest version of the Databricks SDK for Java library. You can find the latest version in the <a class="reference external" href="https://central.sonatype.com/artifact/com.databricks/databricks-sdk-java/versions">Maven central repository</a>.</p>
</div>
</li>
<li><p>Instruct your project to take the declared dependency on the Databricks SDK for Java. For example, in IntelliJ IDEA, click the <strong>Load sbt changes</strong> notification icon.</p></li>
<li><p>Add code to import the Databricks SDK for Java and to list all of the clusters in your Databricks workspace. For example, in a project’s <code class="docutils literal notranslate"><span class="pre">Main.scala</span></code> file, the code might be as follows:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">databricks</span><span class="p">.</span><span class="nn">sdk</span><span class="p">.</span><span class="nc">WorkspaceClient</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">databricks</span><span class="p">.</span><span class="nn">sdk</span><span class="p">.</span><span class="nn">service</span><span class="p">.</span><span class="nn">compute</span><span class="p">.</span><span class="nc">ListClustersRequest</span>

<span class="k">object</span><span class="w"> </span><span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span><span class="w"> </span><span class="nc">Array</span><span class="p">[</span><span class="nc">String</span><span class="p">]):</span><span class="w"> </span><span class="nc">Unit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">WorkspaceClient</span><span class="p">()</span>

<span class="w">    </span><span class="n">w</span><span class="p">.</span><span class="n">clusters</span><span class="p">().</span><span class="n">list</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="nc">ListClustersRequest</span><span class="p">()).</span><span class="n">forEach</span><span class="p">{</span>
<span class="w">      </span><span class="n">elem</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="n">elem</span><span class="p">.</span><span class="n">getClusterName</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By not setting any arguments in the preceding call to <code class="docutils literal notranslate"><span class="pre">val</span> <span class="pre">w</span> <span class="pre">=</span> <span class="pre">new</span> <span class="pre">WorkspaceClient()</span></code>, the Databricks SDK for Java uses its default process for trying to perform Databricks authentication. To override this default behavior, see the following <a class="reference internal" href="#authentication"><span class="std std-ref">authentication</span></a> section.</p>
</div>
</li>
<li><p>Build your project. For example, to do this in IntelliJ IDEA, from the main menu, click <strong>Build &gt; Build Project</strong>.</p></li>
<li><p>Run your main file. For example, to do this in IntelliJ IDEA for a project’s <code class="docutils literal notranslate"><span class="pre">Main.scala</span></code> file, from the main menu, click <strong>Run &gt; Run ‘Main.scala’</strong>.</p></li>
<li><p>The list of clusters appears. For example, in IntelliJ IDEA, this is in the <strong>Run</strong> tool window. To display this tool window, from the main menu, click <strong>View &gt; Tool Windows &gt; Run</strong>.</p></li>
</ol>
<div class="section" id="use-databricks-utilities-and-scala-with-the-databricks-sdk-for-java">
<span id="use-databricks-utilities-and-scala-with-the-sdk-java"></span><span id="dbutils-scala"></span><h3>Use Databricks Utilities and Scala with the Databricks SDK for Java<a class="headerlink" href="#use-databricks-utilities-and-scala-with-the-databricks-sdk-for-java" title="Permalink to this headline"> </a></h3>
<p><a class="reference internal" href="databricks-utils.html"><span class="doc">Databricks Utilities</span></a> provides several helper functions to make it easy to work with object storage efficiently, chain and parameterize notebooks, and work with secrets. Databricks provides a <a class="reference external" href="https://central.sonatype.com/artifact/com.databricks/databricks-dbutils-scala_2.12">Databricks Utilities for Scala</a> library to enable you to programmatically access Databricks Utilities with Scala.</p>
<p>To call the Databricks Utilities for Scala, do the following:</p>
<ol class="arabic">
<li><p>In your Scala project, declare a dependency on the Databricks SDK for Java, as described in the previous section.</p></li>
<li><p>Declare a dependency on the Databricks Utilities for Scala library. For example, in your project’s <code class="docutils literal notranslate"><span class="pre">build.sbt</span></code> file, add the following line to the end of the file, and then save the file:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>libraryDependencies += &quot;com.databricks&quot; % &quot;databricks-dbutils-scala_2.12&quot; % &quot;0.1.4&quot;
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Be sure to replace <code class="docutils literal notranslate"><span class="pre">0.1.4</span></code> with the latest version of the Databricks Utilities for Scala library. You can find the latest version in the <a class="reference external" href="https://central.sonatype.com/artifact/com.databricks/databricks-dbutils-scala_2.12/versions">Maven central repository</a>.</p>
</div>
</li>
<li><p>Instruct your project to take the declared dependency on the Databricks Utilities for Scala. For example, in IntelliJ IDEA, click the <strong>Load sbt changes</strong> notification icon.</p></li>
<li><p>Add code to import and then call the Databricks Utility for Scala. For example, the following code automates a Unity Catalog volume. This example creates a file named <code class="docutils literal notranslate"><span class="pre">zzz_hello.txt</span></code> in the volume’s path within the workspace, reads the data from the file, and then deletes the file:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">databricks</span><span class="p">.</span><span class="nn">sdk</span><span class="p">.</span><span class="nn">scala</span><span class="p">.</span><span class="nn">dbutils</span><span class="p">.</span><span class="nc">DBUtils</span>

<span class="k">object</span><span class="w"> </span><span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span><span class="w"> </span><span class="nc">Array</span><span class="p">[</span><span class="nc">String</span><span class="p">]):</span><span class="w"> </span><span class="nc">Unit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="n">filePath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;/Volumes/main/default/my-volume/zzz_hello.txt&quot;</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="n">fileData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hello, Databricks!&quot;</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="n">dbutils</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DBUtils</span><span class="p">.</span><span class="n">getDBUtils</span><span class="p">()</span>

<span class="w">    </span><span class="n">dbutils</span><span class="p">.</span><span class="n">fs</span><span class="p">.</span><span class="n">put</span><span class="p">(</span>
<span class="w">      </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">filePath</span><span class="p">,</span>
<span class="w">      </span><span class="n">contents</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fileData</span><span class="p">,</span>
<span class="w">      </span><span class="n">overwrite</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="n">dbutils</span><span class="p">.</span><span class="n">fs</span><span class="p">.</span><span class="n">head</span><span class="p">(</span><span class="n">filePath</span><span class="p">))</span>

<span class="w">    </span><span class="n">dbutils</span><span class="p">.</span><span class="n">fs</span><span class="p">.</span><span class="n">rm</span><span class="p">(</span><span class="n">filePath</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By not setting any arguments in the preceding call to <code class="docutils literal notranslate"><span class="pre">val</span> <span class="pre">dbutils</span> <span class="pre">=</span> <span class="pre">DBUtils.getDBUtils()</span></code>, Databricks Utilities for Scala uses its default process for trying to perform Databricks authentication.</p>
<p>To override this default behavior, pass an instantiated <code class="docutils literal notranslate"><span class="pre">DatabricksCfg</span></code> object as an argument to <code class="docutils literal notranslate"><span class="pre">getDBUtils</span></code>. For more information, see the preceding <a class="reference internal" href="#authentication"><span class="std std-ref">authentication</span></a> section.</p>
<p>Note, however, that if your code is running inside of the Databricks Runtime, this <code class="docutils literal notranslate"><span class="pre">DatabricksCfg</span></code> object is ignored. This is because the Databricks Utilities for Scala delegates to the built-in Databricks Utilities when running inside of the Databricks Runtime.</p>
</div>
</li>
<li><p>Build your project and run your main file.</p></li>
</ol>
</div>
</div>
<div class="section" id="additional-resources">
<h2>Additional resources<a class="headerlink" href="#additional-resources" title="Permalink to this headline"> </a></h2>
<p>For more information, see:</p>
<ul class="simple">
<li><p>Databricks SDK for Java <a class="reference external" href="https://github.com/databricks/databricks-sdk-java/blob/main/README.md">README</a></p></li>
<li><p>Databricks SDK for Java <a class="reference external" href="https://javadoc.io/doc/com.databricks/databricks-sdk-java">API reference</a></p></li>
<li><p><a class="reference external" href="https://github.com/databricks/databricks-sdk-java/tree/main/examples">Additional code examples</a></p></li>
<li><p><a class="reference external" href="https://github.com/databricks/databricks-sdk-java#logging">Logging</a></p></li>
<li><p><a class="reference external" href="https://github.com/databricks/databricks-sdk-java#long-running-operations">Long-running operations</a></p></li>
<li><p><a class="reference external" href="https://github.com/databricks/databricks-sdk-java#paginated-responses">Paginated responses</a></p></li>
</ul>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/databricks/databricks-sdk-java#single-sign-on-sso-with-oauth">Single sign-on with OAuth</a></p></li>
</ul>
</div>
</div>


    
          </div>
        </div>
        <div  class="suapp-rating">
  <div id="suPageRateApp">
     <su-app></su-app>
   </div> 
 </div>
<hr> 
<footer>
  <div role="contentinfo">
      <p class="copyright">
          &copy; Databricks 2023. All rights reserved. Apache, Apache Spark, Spark, and the Spark logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a>.
      </p>
      <p> 
        
          <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
        
     | <a href="https://databricks.com/privacy-policy">Privacy Policy</a> | <a href="https://databricks.com/terms-of-use">Terms of Use</a></p>

  </div> 

</footer>
      </div>
    </div>
  </section>
</main>

  </page>
  
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT: '../',
      VERSION: '1.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE: 'false'
    };
  </script>
  <script type="text/javascript" src="../_static/jquery.js"></script>
  <script type="text/javascript" src="../_static/underscore.js"></script>
  <script type="text/javascript" src="../_static/doctools.js"></script>
  <script type="text/javascript" src="../_static/language_data.js"></script>
  

  <script type="text/javascript" src="../_static/js/clipboard.min.js"></script>
  <script type="text/javascript" src="../_static/js/jquery.waypoints.min.js"></script>

  <!-- Select2 (https://select2.org/) -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <!-- End Select2 -->

  
  
  <script type="text/javascript" src="../_static/js/localized.js"></script>
  <script type="text/javascript" src="../_static/js/custom.js"></script>
  

  
  
  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.StickyNav.enable();
    });

  </script>
  
 



  <script>
  window.__searchunifyLoaderConfig = JSON.parse('{"clients": {"en": "02c2e804-27e9-11ee-aefb-0242ac120011", "ja": "6a42c3f2-2820-11ee-aefb-0242ac120011", "pt": "6a86badd-2821-11ee-aefb-0242ac120011"}}')
</script>
<script type="text/javascript" src="../_static/js/search-loader.js"></script>
</body>
<script type='text/javascript'>
  window.onload = function () {
    var description = document.querySelector('meta[name="description"]').getAttribute("content");
    let titleText = document.querySelector('h1').textContent;
    document.querySelector('meta[property="og:title"]').setAttribute("content", titleText);
    document.querySelector('meta[property="og:description"]').setAttribute("content", description);
    document.querySelector('meta[property="twitter:description"]').setAttribute("content", description);
  };
</script>

</html>