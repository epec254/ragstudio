

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en-US" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en-US"> <!--<![endif]-->

<head>
  <!-- cookie consent -->
  
    <!-- Combined Onetrust and Rudderstack Implementation Scripts -->
    <!-- Onetrust Initialization -->
    <script type="text/javascript" src="https://cdn.cookielaw.org/consent/92466579-1717-44d3-809d-a05fb02843ed-test/OtAutoBlock.js"></script>
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="92466579-1717-44d3-809d-a05fb02843ed-test"></script>
    <link rel="stylesheet" id="db-onetrust-style" href="https://www.databricks.com/wp-content/uploads/db_onetrust.css" media="all" />
    <!-- Setting Rudderstack Write Key -->
    <script>window.rudderstackKey = "2SOR9fvSr5Fi6tN2ihPbVHnX1SZ" </script>
    <!-- Rudderstack Initialization + Onetrust Integration + Rudderstack Custom Events -->
    <script type="text/javascript" src="https://www.databricks.com/sites/default/files/rudderstack/v1/db-rudderstack-events.js"></script>

  <!-- cookie consent -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta content="Understand and learn how to use Databricks Utilities to work with object storage, to chain and parameterize notebooks, and to work with secrets." name="description" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta property="og:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:title" content="Databricks Utilities (dbutils) reference">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://docs.databricks.com">
  <meta property="og:description" content="" id="og-description">
  <meta name="twitter:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta name="twitter:site" content="@databricks">
  <meta name="twitter:creator" content="@databricks">
  <meta property="twitter:description" content="">
  
  <title>Databricks Utilities (dbutils) reference &#124; Databricks on AWS</title>
  
  
  <link rel="canonical" href="https://docs.databricks.com/en/dev-tools/databricks-utils.html">
  <!-- Start hreflang tag -->
  <link rel="alternate" hreflang="en" href="https://docs.databricks.com/en/dev-tools/databricks-utils.html" />
<link rel="alternate" hreflang="x-default" href="https://docs.databricks.com/en/dev-tools/databricks-utils.html" />
  <!-- End hreflang tag -->
  
  
  <link rel="shortcut icon" href="../_static/favicon.ico" />
  

  

  

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T85FQ33');</script>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWTKQQ');</script>
    
  <!-- End Google Tag Manager -->


  <!-- MaxMind / GEO IP -->
  <script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>
  <!-- End MaxMind / GEO IP -->

  
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600&display=swap" rel="stylesheet">
  <link rel="preload" href="../_static/fonts/DMSans-Bold.ttf" as="font">
  <link rel="preload" href="../_static/fonts/DMSans-Regular.ttf" as="font">
  <link rel="preload" href="../_static/fonts/DMMono-Regular.ttf" as="font">
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/cloud-provider-selector.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/translation-selector.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/searchunify/main.css" type="text/css" />

  
  <link rel="index" title="Index" href="../genindex.html" />
  <link rel="search" title="Search" href="../search.html" />
  <link rel="top" title="Databricks on AWS" href="../index.html" /> 
</head>

<body class="wy-body-for-nav" role="document">

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T85FQ33"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWTKQQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  
  <nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
    
<nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
  <div class="container-logo">
    <ul class="mobile-menu-toggle">
        <li class="menu-toggle">
            <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
            
            <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
              alt="Databricks" /></a>   
               
              </li>
    </ul>
    <ul class="su_nav-menu">
      <li class="menu-toggle">
        <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
        
          
        
        <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
            alt="Databricks" /></a></li>
        <!-- 
<li><a href="https://help.databricks.com/s/">Help Center</a></li>
<li class="active"><a href="https://docs.databricks.com/en/">Documentation</a></li>
<li><a href="https://kb.databricks.com/">Knowledge Base</a></li>
 -->
    </ul>
  </div>
  <div class="su_nav-right">
    <ul class="su_link-mobile">
  <!-- Mobile header code can go here -->
</ul>
<ul class="right-try-list">
   
</ul>
  </div>
</nav>
  </nav>

  <div class="su_sub-header">
    <div class="container">
      <div class="su_sub-header-inner">
        <!-- <div class="su_subnav-menu-right">
  <div id="auto" style="width: 100%;">
    <div ng-controller="SearchautoController">
      <div bind-html-compile="autocompleteHtml">
        <form class="su__search-box-1" disabled="disabled">
          <input class="su__search-input" type="search" name="Search box" id="su__search-b" placeholder="Search Documentation" disabled="disabled"/>
          <button class="su__search-button" type="submit" class="button button-success" disabled="disabled">
            <svg width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                fill="#333"></path>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>
</div> -->
        <div class="search-lng-gap"></div>
        <div style="margin-left: 16px; margin-right: 16px;">
          <!-- <select name="lng selector" id="lng-selector">
    <option value="../../en/dev-tools/databricks-utils.html" class="notranslate">English</option>
    <option value="../../ja/dev-tools/databricks-utils.html" class="notranslate">日本語</option>
    <option value="../../pt/dev-tools/databricks-utils.html" class="notranslate">Português (Brasil)</option>
</select> -->
        </div>
        <div class="cloud-selector-container">
          <!-- <select name="cloud provider selector" id="cloud-provider-selector">
    <option value="aws" selected class="notranslate">
        Amazon Web Services
    </option>
    <option value="azure"  class="notranslate">
        Microsoft Azure
    </option>
    <option value="gcp"  class="notranslate">
        Google Cloud Platform
    </option>
</select> -->
        </div>
      </div>
    </div>
  </div>
  <page class="js-page-container">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side su_nav-side">
<div class="wy-side-scroll">
  <div class="wy-side-nav-search">
    

    

    

    
  </div>

  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      <a href="../index.html" class="main-navigation-home">Databricks on AWS</a>
    

    
      

      
        <p class="caption"><span class="caption-text">Load &amp; manage data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../rag-temp/index.html">RAG Studio</a></li>
</ul>

      
    
  </div>

  <div role="contentinfo">
    
  <p class="build_info notranslate"data-last-edit="December 23, 2023">
    Updated Jan 11, 2024
  </p>
<script>
  window.addEventListener('DOMContentLoaded',function(){
    var h1=document.querySelector('h1');
    var bi=document.querySelector('[data-last-edit]');
    if(h1 && bi){
      var ver = document.createElement('p');
      ver.className = 'version_info';
      ver.textContent = bi.getAttribute('data-last-edit');
      h1.parentElement.insertBefore(ver, h1.nextElementSibling);
    }
  });
</script>

    <p>
      
        <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
      
    </p>
  </div>
</div>
</nav>
    
    
<main class="wy-grid-for-nav su_nav-grid">
  <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
    <div class="wy-nav-content su__nav_content">
      <div class="rst-content">
        





<div role="navigation" aria-label="breadcrumbs navigation" class="wy-breadcrumbs-wrapper">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Documentation</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
    
      <li>Databricks Utilities (<code class="docutils literal notranslate"><span class="pre">dbutils</span></code>) reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>
</div>
        
        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
          <div itemprop="articleBody">
            
    
  <div class="section" id="databricks-utilities-dbutils-reference">
<h1>Databricks Utilities (<code class="docutils literal notranslate"><span class="pre">dbutils</span></code>) reference<a class="headerlink" href="#databricks-utilities-dbutils-reference" title="Permalink to this headline"> </a></h1>
<p>This article is a reference for Databricks Utilities (<code class="docutils literal notranslate"><span class="pre">dbutils</span></code>). <code class="docutils literal notranslate"><span class="pre">dbutils</span></code> utilities are available in Python, R, and Scala notebooks. You can use the utilities to:</p>
<ul class="simple">
<li><p>Work with files and object storage efficiently.</p></li>
<li><p>Work with secrets.</p></li>
</ul>
<p><strong>How to</strong>: <a class="reference internal" href="#dbutils-utilities"><span class="std std-ref">List utilities</span></a>, <a class="reference internal" href="#dbutils-commands"><span class="std std-ref">list commands</span></a>, <a class="reference internal" href="#dbutils-help"><span class="std std-ref">display command help</span></a></p>
<p><strong>Utilities</strong>: <a class="reference internal" href="#dbutils-credentials"><span class="std std-ref">credentials</span></a>, <a class="reference internal" href="#dbutils-data"><span class="std std-ref">data</span></a>, <a class="reference internal" href="#dbutils-fs"><span class="std std-ref">fs</span></a>, <a class="reference internal" href="#dbutils-jobs"><span class="std std-ref">jobs</span></a>, <a class="reference internal" href="#dbutils-library"><span class="std std-ref">library</span></a>, <a class="reference internal" href="#dbutils-workflow"><span class="std std-ref">notebook</span></a>, <a class="reference internal" href="#dbutils-secrets"><span class="std std-ref">secrets</span></a>, <a class="reference internal" href="#dbutils-widgets"><span class="std std-ref">widgets</span></a>, <a class="reference internal" href="#dbutils-api"><span class="std std-ref">Utilities API library</span></a></p>
<div class="section" id="list-available-utilities">
<span id="dbutils-utilities"></span><h2>List available utilities<a class="headerlink" href="#list-available-utilities" title="Permalink to this headline"> </a></h2>
<p>To list available utilities along with a short description for each utility, run <code class="docutils literal notranslate"><span class="pre">dbutils.help()</span></code> for Python or Scala.</p>
<p>This example lists available commands for the Databricks Utilities.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">help</span><span class="p">()</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">help</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>This module provides various utilities for users to interact with the rest of Databricks.

credentials: DatabricksCredentialUtils -&gt; Utilities for interacting with credentials within notebooks
fs: DbfsUtils -&gt; Manipulates the Databricks filesystem (DBFS) from the console
jobs: JobsUtils -&gt; Utilities for leveraging jobs features
notebook: NotebookUtils -&gt; Utilities for the control flow of a notebook (EXPERIMENTAL)
secrets: SecretUtils -&gt; Provides utilities for leveraging secrets within notebooks
widgets: WidgetsUtils -&gt; Methods to create and get bound value of input widgets inside notebooks
</pre></div>
</div>
</div>
<div class="section" id="list-available-commands-for-a-utility">
<span id="dbutils-commands"></span><h2>List available commands for a utility<a class="headerlink" href="#list-available-commands-for-a-utility" title="Permalink to this headline"> </a></h2>
<p>To list available commands for a utility along with a short description of each command, run <code class="docutils literal notranslate"><span class="pre">.help()</span></code> after the programmatic name for the utility.</p>
<p>This example lists available commands for the Databricks File System (DBFS) utility.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">help</span><span class="p">()</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.fs.help</span><span class="p">()</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">fs</span><span class="p">.</span><span class="n">help</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>dbutils.fs provides utilities for working with FileSystems. Most methods in this package can take either a DBFS path (e.g., &quot;/foo&quot; or &quot;dbfs:/foo&quot;), or another FileSystem URI. For more info about a method, use dbutils.fs.help(&quot;methodName&quot;). In notebooks, you can also use the %fs shorthand to access DBFS. The %fs shorthand maps straightforwardly onto dbutils calls. For example, &quot;%fs head --maxBytes=10000 /file/path&quot; translates into &quot;dbutils.fs.head(&quot;/file/path&quot;, maxBytes = 10000)&quot;.

fsutils

cp(from: String, to: String, recurse: boolean = false): boolean -&gt; Copies a file or directory, possibly across FileSystems
head(file: String, maxBytes: int = 65536): String -&gt; Returns up to the first &#39;maxBytes&#39; bytes of the given file as a String encoded in UTF-8
ls(dir: String): Seq -&gt; Lists the contents of a directory
mkdirs(dir: String): boolean -&gt; Creates the given directory if it does not exist, also creating any necessary parent directories
mv(from: String, to: String, recurse: boolean = false): boolean -&gt; Moves a file or directory, possibly across FileSystems
put(file: String, contents: String, overwrite: boolean = false): boolean -&gt; Writes the given String out to a file, encoded in UTF-8
rm(dir: String, recurse: boolean = false): boolean -&gt; Removes a file or directory

mount

mount(source: String, mountPoint: String, encryptionType: String = &quot;&quot;, owner: String = null, extraConfigs: Map = Map.empty[String, String]): boolean -&gt; Mounts the given source directory into DBFS at the given mount point
mounts: Seq -&gt; Displays information about what is mounted within DBFS
refreshMounts: boolean -&gt; Forces all machines in this cluster to refresh their mount cache, ensuring they receive the most recent information
unmount(mountPoint: String): boolean -&gt; Deletes a DBFS mount point
updateMount(source: String, mountPoint: String, encryptionType: String = &quot;&quot;, owner: String = null, extraConfigs: Map = Map.empty[String, String]): boolean -&gt; Similar to mount(), but updates an existing mount point instead of creating a new one
</pre></div>
</div>
</div>
<div class="section" id="display-help-for-a-command">
<span id="dbutils-help"></span><h2>Display help for a command<a class="headerlink" href="#display-help-for-a-command" title="Permalink to this headline"> </a></h2>
<p>To display help for a command, run <code class="docutils literal notranslate"><span class="pre">.help(&quot;&lt;command-name&gt;&quot;)</span></code> after the command name.</p>
<p>This example displays help for the DBFS copy command.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">help</span><span class="p">(</span><span class="s2">&quot;cp&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.fs.help</span><span class="p">(</span><span class="s">&quot;cp&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">fs</span><span class="p">.</span><span class="n">help</span><span class="p">(</span><span class="s">&quot;cp&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>/**
* Copies a file or directory, possibly across FileSystems.
*
* Example: cp(&quot;/mnt/my-folder/a&quot;, &quot;dbfs:/a/b&quot;)
*
* @param from FileSystem URI of the source file or directory
* @param to FileSystem URI of the destination file or directory
* @param recurse if true, all files and directories will be recursively copied
* @return true if all files were successfully copied
*/
cp(from: java.lang.String, to: java.lang.String, recurse: boolean = false): boolean
</pre></div>
</div>
<p></p>
</div>
<div class="section" id="credentials-utility-dbutilscredentials">
<span id="display-help-for-a-command"></span><span id="dbutils-credentials"></span><h2>Credentials utility (dbutils.credentials)<a class="headerlink" href="#credentials-utility-dbutilscredentials" title="Permalink to this headline"> </a></h2>
<p><strong>Commands</strong>: <a class="reference internal" href="#dbutils-credentials-assumerole"><span class="std std-ref">assumeRole</span></a>, <a class="reference internal" href="#dbutils-credentials-showcurrentrole"><span class="std std-ref">showCurrentRole</span></a>, <a class="reference internal" href="#dbutils-credentials-showroles"><span class="std std-ref">showRoles</span></a></p>
<p>The credentials utility allows you to interact with credentials within notebooks. This utility is usable only on clusters with <a class="reference internal" href="../archive/credential-passthrough/iam-passthrough.html"><span class="doc">credential passthrough</span></a> enabled. To list the available commands, run <code class="docutils literal notranslate"><span class="pre">dbutils.credentials.help()</span></code>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>assumeRole(role: String): boolean -&gt; Sets the role ARN to assume when looking for credentials to authenticate with S3
showCurrentRole: List -&gt; Shows the currently set role
showRoles: List -&gt; Shows the set of possible assumed roles
</pre></div>
</div>
<div class="section" id="assumerole-command-dbutilscredentialsassumerole">
<span id="dbutils-credentials-assumerole"></span><h3>assumeRole command (dbutils.credentials.assumeRole)<a class="headerlink" href="#assumerole-command-dbutilscredentialsassumerole" title="Permalink to this headline"> </a></h3>
<p>Sets the Amazon Resource Name (ARN) for the AWS Identity and Access Management (IAM) role to assume when looking for credentials to authenticate with Amazon S3. After you run this command, you can run S3 access commands, such as <code class="docutils literal notranslate"><span class="pre">sc.textFile(&quot;s3a://my-bucket/my-file.csv&quot;)</span></code> to access an object.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.credentials.help(&quot;assumeRole&quot;)</span></code>.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">assumeRole</span><span class="p">(</span><span class="s2">&quot;arn:aws:iam::123456789012:roles/my-role&quot;</span><span class="p">)</span>

<span class="c1"># Out[1]: True</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.credentials.assumeRole</span><span class="p">(</span><span class="s">&quot;arn:aws:iam::123456789012:roles/my-role&quot;</span><span class="p">)</span>

<span class="c1"># TRUE</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">credentials</span><span class="p">.</span><span class="n">assumeRole</span><span class="p">(</span><span class="s">&quot;arn:aws:iam::123456789012:roles/my-role&quot;</span><span class="p">)</span>

<span class="c1">// res0: Boolean = true</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="showcurrentrole-command-dbutilscredentialsshowcurrentrole">
<span id="dbutils-credentials-showcurrentrole"></span><h3>showCurrentRole command (dbutils.credentials.showCurrentRole)<a class="headerlink" href="#showcurrentrole-command-dbutilscredentialsshowcurrentrole" title="Permalink to this headline"> </a></h3>
<p>Lists the currently set AWS Identity and Access Management (IAM) role.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.credentials.help(&quot;showCurrentRole&quot;)</span></code>.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">showCurrentRole</span><span class="p">()</span>

<span class="c1"># Out[1]: [&#39;arn:aws:iam::123456789012:role/my-role-a&#39;]</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.credentials.showCurrentRole</span><span class="p">()</span>

<span class="c1"># [[1]]</span>
<span class="c1"># [1] &quot;arn:aws:iam::123456789012:role/my-role-a&quot;</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">credentials</span><span class="p">.</span><span class="n">showCurrentRole</span><span class="p">()</span>

<span class="c1">// res0: java.util.List[String] = [arn:aws:iam::123456789012:role/my-role-a]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="showroles-command-dbutilscredentialsshowroles">
<span id="dbutils-credentials-showroles"></span><h3>showRoles command (dbutils.credentials.showRoles)<a class="headerlink" href="#showroles-command-dbutilscredentialsshowroles" title="Permalink to this headline"> </a></h3>
<p>Lists the set of possible assumed AWS Identity and Access Management (IAM) roles.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.credentials.help(&quot;showRoles&quot;)</span></code>.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">showRoles</span><span class="p">()</span>

<span class="c1"># Out[1]: [&#39;arn:aws:iam::123456789012:role/my-role-a&#39;, &#39;arn:aws:iam::123456789012:role/my-role-b&#39;]</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.credentials.showRoles</span><span class="p">()</span>

<span class="c1"># [[1]]</span>
<span class="c1"># [1] &quot;arn:aws:iam::123456789012:role/my-role-a&quot;</span>
<span class="c1">#</span>
<span class="c1"># [[2]]</span>
<span class="c1"># [1] &quot;arn:aws:iam::123456789012:role/my-role-b&quot;</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">credentials</span><span class="p">.</span><span class="n">showRoles</span><span class="p">()</span>

<span class="c1">// res0: java.util.List[String] = [arn:aws:iam::123456789012:role/my-role-a, arn:aws:iam::123456789012:role/my-role-b]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="data-utility-dbutilsdata">
<span id="dbutils-data"></span><h2>Data utility (dbutils.data)<a class="headerlink" href="#data-utility-dbutilsdata" title="Permalink to this headline"> </a></h2>
<div class="preview admonition">
<p class="admonition-title">Preview</p>
<p>This feature is in <a class="reference internal" href="../release-notes/release-types.html"><span class="doc">Public Preview</span></a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Available in Databricks Runtime 9.0 and above.</p>
</div>
<p><strong>Commands</strong>: <a class="reference internal" href="#dbutils-data-summarize"><span class="std std-ref">summarize</span></a></p>
<p>The data utility allows you to understand and interpret datasets. To list the available commands, run <code class="docutils literal notranslate"><span class="pre">dbutils.data.help()</span></code>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>dbutils.data provides utilities for understanding and interpreting datasets. This module is currently in preview and may be unstable. For more info about a method, use dbutils.data.help(&quot;methodName&quot;).

summarize(df: Object, precise: boolean): void -&gt; Summarize a Spark DataFrame and visualize the statistics to get quick insights
</pre></div>
</div>
<div class="section" id="summarize-command-dbutilsdatasummarize">
<span id="dbutils-data-summarize"></span><h3>summarize command (dbutils.data.summarize)<a class="headerlink" href="#summarize-command-dbutilsdatasummarize" title="Permalink to this headline"> </a></h3>
<p>Calculates and displays summary statistics of an Apache Spark DataFrame or pandas DataFrame. This command is available for Python, Scala and R.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>This command analyzes the complete contents of the DataFrame. Running this command for very large DataFrames can be very expensive.</p>
</div>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.data.help(&quot;summarize&quot;)</span></code>.</p>
<p>In Databricks Runtime 10.1 and above, you can use the additional <code class="docutils literal notranslate"><span class="pre">precise</span></code> parameter to adjust the precision of the computed statistics.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This feature is in <a class="reference internal" href="../release-notes/release-types.html"><span class="doc">Public Preview</span></a>.</p>
</div>
<ul class="simple">
<li><p>When <code class="docutils literal notranslate"><span class="pre">precise</span></code> is set to false (the default), some returned statistics include approximations to reduce run time.</p>
<ul>
<li><p>The number of distinct values for categorical columns may have ~5% relative error for high-cardinality columns.</p></li>
<li><p>The frequent value counts may have an error of up to 0.01% when the number of distinct values is greater than 10000.</p></li>
<li><p>The histograms and percentile estimates may have an error of up to 0.01% relative to the total number of rows.</p></li>
</ul>
</li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">precise</span></code> is set to true, the statistics are computed with higher precision. All statistics except for the histograms and percentiles for numeric columns are now exact.</p>
<ul>
<li><p>The histograms and percentile estimates may have an error of up to 0.0001% relative to the total number of rows.</p></li>
</ul>
</li>
</ul>
<p>The tooltip at the top of the data summary output indicates the mode of current run.</p>
<p>This example displays summary statistics for an Apache Spark DataFrame with approximations enabled by default. To see the
results, run this command in a notebook. This example is based on <a class="reference internal" href="../discover/databricks-datasets.html"><span class="doc">Sample datasets</span></a>.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">spark</span><span class="o">.</span><span class="n">read</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;csv&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">load</span><span class="p">(</span>
  <span class="s1">&#39;/databricks-datasets/Rdatasets/data-001/csv/ggplot2/diamonds.csv&#39;</span><span class="p">,</span>
  <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
  <span class="n">inferSchema</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="n">dbutils</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">summarize</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">read.df</span><span class="p">(</span><span class="s">&quot;/databricks-datasets/Rdatasets/data-001/csv/ggplot2/diamonds.csv&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;csv&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">header</span><span class="o">=</span><span class="s">&quot;true&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">inferSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;true&quot;</span><span class="p">)</span>
<span class="nf">dbutils.data.summarize</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="kd">val</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">read</span><span class="p">.</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;csv&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="n">option</span><span class="p">(</span><span class="s">&quot;inferSchema&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;true&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="n">option</span><span class="p">(</span><span class="s">&quot;header&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;true&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;/databricks-datasets/Rdatasets/data-001/csv/ggplot2/diamonds.csv&quot;</span><span class="p">)</span>
<span class="n">dbutils</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">summarize</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Note that the visualization uses <a class="reference external" href="https://en.wikipedia.org/wiki/International_System_of_Units#Prefixes">SI notation</a> to concisely render numerical values smaller than 0.01 or larger than 10000. As an example, the numerical value <code class="docutils literal notranslate"><span class="pre">1.25e-15</span></code> will be rendered as <code class="docutils literal notranslate"><span class="pre">1.25f</span></code>. One exception: the visualization uses “<code class="docutils literal notranslate"><span class="pre">B</span></code>” for <code class="docutils literal notranslate"><span class="pre">1.0e9</span></code> (<a class="reference external" href="https://en.wikipedia.org/wiki/Giga-">giga</a>) instead of “<code class="docutils literal notranslate"><span class="pre">G</span></code>”.</p>
</div>
</div>
<div class="section" id="file-system-utility-dbutilsfs">
<span id="dbutils-fs"></span><h2>File system utility (dbutils.fs)<a class="headerlink" href="#file-system-utility-dbutilsfs" title="Permalink to this headline"> </a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The Python implementation of all <code class="docutils literal notranslate"><span class="pre">dbutils.fs</span></code> methods uses <code class="docutils literal notranslate"><span class="pre">snake_case</span></code> rather than <code class="docutils literal notranslate"><span class="pre">camelCase</span></code> for keyword formatting.</p>
<p>For example: while <code class="docutils literal notranslate"><span class="pre">dbutils.fs.help()</span></code> displays the option <code class="docutils literal notranslate"><span class="pre">extraConfigs</span></code> for <code class="docutils literal notranslate"><span class="pre">dbutils.fs.mount()</span></code>, in Python you would use the keyword <code class="docutils literal notranslate"><span class="pre">extra_configs</span></code>.</p>
</div>
<p><strong>Commands</strong>: <a class="reference internal" href="#dbutils-fs-cp"><span class="std std-ref">cp</span></a>, <a class="reference internal" href="#dbutils-fs-head"><span class="std std-ref">head</span></a>, <a class="reference internal" href="#dbutils-fs-ls"><span class="std std-ref">ls</span></a>, <a class="reference internal" href="#dbutils-fs-mkdirs"><span class="std std-ref">mkdirs</span></a>, <a class="reference internal" href="#dbutils-fs-mount"><span class="std std-ref">mount</span></a>, <a class="reference internal" href="#dbutils-fs-mounts"><span class="std std-ref">mounts</span></a>, <a class="reference internal" href="#dbutils-fs-mv"><span class="std std-ref">mv</span></a>, <a class="reference internal" href="#dbutils-fs-put"><span class="std std-ref">put</span></a>, <a class="reference internal" href="#dbutils-fs-refreshmounts"><span class="std std-ref">refreshMounts</span></a>, <a class="reference internal" href="#dbutils-fs-rm"><span class="std std-ref">rm</span></a>, <a class="reference internal" href="#dbutils-fs-unmount"><span class="std std-ref">unmount</span></a>, <a class="reference internal" href="#dbutils-fs-updatemount"><span class="std std-ref">updateMount</span></a></p>
<p>The file system utility allows you to access <a class="reference internal" href="../dbfs/index.html"><span class="doc">What is the Databricks File System (DBFS)?</span></a>, making it easier to use Databricks as a file system. To list the available commands, run <code class="docutils literal notranslate"><span class="pre">dbutils.fs.help()</span></code>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>dbutils.fs provides utilities for working with FileSystems. Most methods in this package can take either a DBFS path (e.g., &quot;/foo&quot; or &quot;dbfs:/foo&quot;), or another FileSystem URI. For more info about a method, use dbutils.fs.help(&quot;methodName&quot;). In notebooks, you can also use the %fs shorthand to access DBFS. The %fs shorthand maps straightforwardly onto dbutils calls. For example, &quot;%fs head --maxBytes=10000 /file/path&quot; translates into &quot;dbutils.fs.head(&quot;/file/path&quot;, maxBytes = 10000)&quot;.

fsutils

cp(from: String, to: String, recurse: boolean = false): boolean -&gt; Copies a file or directory, possibly across FileSystems
head(file: String, maxBytes: int = 65536): String -&gt; Returns up to the first &#39;maxBytes&#39; bytes of the given file as a String encoded in UTF-8
ls(dir: String): Seq -&gt; Lists the contents of a directory
mkdirs(dir: String): boolean -&gt; Creates the given directory if it does not exist, also creating any necessary parent directories
mv(from: String, to: String, recurse: boolean = false): boolean -&gt; Moves a file or directory, possibly across FileSystems
put(file: String, contents: String, overwrite: boolean = false): boolean -&gt; Writes the given String out to a file, encoded in UTF-8
rm(dir: String, recurse: boolean = false): boolean -&gt; Removes a file or directory

mount

mount(source: String, mountPoint: String, encryptionType: String = &quot;&quot;, owner: String = null, extraConfigs: Map = Map.empty[String, String]): boolean -&gt; Mounts the given source directory into DBFS at the given mount point
mounts: Seq -&gt; Displays information about what is mounted within DBFS
refreshMounts: boolean -&gt; Forces all machines in this cluster to refresh their mount cache, ensuring they receive the most recent information
unmount(mountPoint: String): boolean -&gt; Deletes a DBFS mount point
updateMount(source: String, mountPoint: String, encryptionType: String = &quot;&quot;, owner: String = null, extraConfigs: Map = Map.empty[String, String]): boolean -&gt; Similar to mount(), but updates an existing mount point instead of creating a new one
</pre></div>
</div>
<div class="section" id="cp-command-dbutilsfscp">
<span id="dbutils-fs-cp"></span><h3>cp command (dbutils.fs.cp)<a class="headerlink" href="#cp-command-dbutilsfscp" title="Permalink to this headline"> </a></h3>
<p>Copies a file or directory, possibly across filesystems.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.fs.help(&quot;cp&quot;)</span></code>.</p>
<p>This example copies the file named <code class="docutils literal notranslate"><span class="pre">old_file.txt</span></code> from <code class="docutils literal notranslate"><span class="pre">/FileStore</span></code> to <code class="docutils literal notranslate"><span class="pre">/tmp/new</span></code>, renaming the copied file to <code class="docutils literal notranslate"><span class="pre">new_file.txt</span></code>.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">cp</span><span class="p">(</span><span class="s2">&quot;/FileStore/old_file.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;/tmp/new/new_file.txt&quot;</span><span class="p">)</span>

<span class="c1"># Out[4]: True</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.fs.cp</span><span class="p">(</span><span class="s">&quot;/FileStore/old_file.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/tmp/new/new_file.txt&quot;</span><span class="p">)</span>

<span class="c1"># [1] TRUE</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">fs</span><span class="p">.</span><span class="n">cp</span><span class="p">(</span><span class="s">&quot;/FileStore/old_file.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/tmp/new/new_file.txt&quot;</span><span class="p">)</span>

<span class="c1">// res3: Boolean = true</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="head-command-dbutilsfshead">
<span id="dbutils-fs-head"></span><h3>head command (dbutils.fs.head)<a class="headerlink" href="#head-command-dbutilsfshead" title="Permalink to this headline"> </a></h3>
<p>Returns up to the specified maximum number bytes of the given file. The bytes are returned as a UTF-8 encoded string.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.fs.help(&quot;head&quot;)</span></code>.</p>
<p>This example displays the first 25 bytes of the file <code class="docutils literal notranslate"><span class="pre">my_file.txt</span></code> located in <code class="docutils literal notranslate"><span class="pre">/tmp</span></code>.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="s2">&quot;/tmp/my_file.txt&quot;</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>

<span class="c1"># [Truncated to first 25 bytes]</span>
<span class="c1"># Out[12]: &#39;Apache Spark is awesome!\n&#39;</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.fs.head</span><span class="p">(</span><span class="s">&quot;/tmp/my_file.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="m">25</span><span class="p">)</span>

<span class="c1"># [1] &quot;Apache Spark is awesome!\n&quot;</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">fs</span><span class="p">.</span><span class="n">head</span><span class="p">(</span><span class="s">&quot;/tmp/my_file.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">)</span>

<span class="c1">// [Truncated to first 25 bytes]</span>
<span class="c1">// res4: String =</span>
<span class="c1">// &quot;Apache Spark is awesome!</span>
<span class="c1">// &quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="ls-command-dbutilsfsls">
<span id="dbutils-fs-ls"></span><h3>ls command (dbutils.fs.ls)<a class="headerlink" href="#ls-command-dbutilsfsls" title="Permalink to this headline"> </a></h3>
<p>Lists the contents of a directory.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.fs.help(&quot;ls&quot;)</span></code>.</p>
<p>This example displays information about the contents of <code class="docutils literal notranslate"><span class="pre">/tmp</span></code>. The <code class="docutils literal notranslate"><span class="pre">modificationTime</span></code> field is available in Databricks Runtime 10.2 and above. In R, <code class="docutils literal notranslate"><span class="pre">modificationTime</span></code> is returned as a string.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="s2">&quot;/tmp&quot;</span><span class="p">)</span>

<span class="c1"># Out[13]: [FileInfo(path=&#39;dbfs:/tmp/my_file.txt&#39;, name=&#39;my_file.txt&#39;, size=40, modificationTime=1622054945000)]</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.fs.ls</span><span class="p">(</span><span class="s">&quot;/tmp&quot;</span><span class="p">)</span>

<span class="c1"># For prettier results from dbutils.fs.ls(&lt;dir&gt;), please use `%fs ls &lt;dir&gt;`</span>

<span class="c1"># [[1]]</span>
<span class="c1"># [[1]]$path</span>
<span class="c1"># [1] &quot;dbfs:/tmp/my_file.txt&quot;</span>

<span class="c1"># [[1]]$name</span>
<span class="c1"># [1] &quot;my_file.txt&quot;</span>

<span class="c1"># [[1]]$size</span>
<span class="c1"># [1] 40</span>

<span class="c1"># [[1]]$isDir</span>
<span class="c1"># [1] FALSE</span>

<span class="c1"># [[1]]$isFile</span>
<span class="c1"># [1] TRUE</span>

<span class="c1"># [[1]]$modificationTime</span>
<span class="c1"># [1] &quot;1622054945000&quot;</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">fs</span><span class="p">.</span><span class="n">ls</span><span class="p">(</span><span class="s">&quot;/tmp&quot;</span><span class="p">)</span>

<span class="c1">// res6: Seq[com.databricks.backend.daemon.dbutils.FileInfo] = WrappedArray(FileInfo(dbfs:/tmp/my_file.txt, my_file.txt, 40, 1622054945000))</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="mkdirs-command-dbutilsfsmkdirs">
<span id="dbutils-fs-mkdirs"></span><h3>mkdirs command (dbutils.fs.mkdirs)<a class="headerlink" href="#mkdirs-command-dbutilsfsmkdirs" title="Permalink to this headline"> </a></h3>
<p>Creates the given directory if it does not exist. Also creates any necessary parent directories.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.fs.help(&quot;mkdirs&quot;)</span></code>.</p>
<p>This example creates the directory structure <code class="docutils literal notranslate"><span class="pre">/parent/child/grandchild</span></code> within <code class="docutils literal notranslate"><span class="pre">/tmp</span></code>.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">mkdirs</span><span class="p">(</span><span class="s2">&quot;/tmp/parent/child/grandchild&quot;</span><span class="p">)</span>

<span class="c1"># Out[15]: True</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.fs.mkdirs</span><span class="p">(</span><span class="s">&quot;/tmp/parent/child/grandchild&quot;</span><span class="p">)</span>

<span class="c1"># [1] TRUE</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">fs</span><span class="p">.</span><span class="n">mkdirs</span><span class="p">(</span><span class="s">&quot;/tmp/parent/child/grandchild&quot;</span><span class="p">)</span>

<span class="c1">// res7: Boolean = true</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="mount-command-dbutilsfsmount">
<span id="dbutils-fs-mount"></span><h3>mount command (dbutils.fs.mount)<a class="headerlink" href="#mount-command-dbutilsfsmount" title="Permalink to this headline"> </a></h3>
<p>Mounts the specified source directory into DBFS at the specified mount point.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.fs.help(&quot;mount&quot;)</span></code>.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">aws_bucket_name</span> <span class="o">=</span> <span class="s2">&quot;my-bucket&quot;</span>
<span class="n">mount_name</span> <span class="o">=</span> <span class="s2">&quot;s3-my-bucket&quot;</span>

<span class="n">dbutils</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span><span class="s2">&quot;s3a://</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">aws_bucket_name</span><span class="p">,</span> <span class="s2">&quot;/mnt/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">mount_name</span><span class="p">)</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="kd">val</span><span class="w"> </span><span class="nc">AwsBucketName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;my-bucket&quot;</span>
<span class="kd">val</span><span class="w"> </span><span class="nc">MountName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;s3-my-bucket&quot;</span>

<span class="n">dbutils</span><span class="p">.</span><span class="n">fs</span><span class="p">.</span><span class="n">mount</span><span class="p">(</span><span class="s">s&quot;s3a://</span><span class="si">$</span><span class="n">AwsBucketName</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">s&quot;/mnt/</span><span class="si">$</span><span class="n">MountName</span><span class="s">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>For additional code examples, see <a class="reference internal" href="../connect/storage/amazon-s3.html"><span class="doc">Connect to Amazon S3</span></a>.</p>
</div>
<div class="section" id="mounts-command-dbutilsfsmounts">
<span id="dbutils-fs-mounts"></span><h3>mounts command (dbutils.fs.mounts)<a class="headerlink" href="#mounts-command-dbutilsfsmounts" title="Permalink to this headline"> </a></h3>
<p>Displays information about what is currently mounted within DBFS.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.fs.help(&quot;mounts&quot;)</span></code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Call <code class="docutils literal notranslate"><span class="pre">dbutils.fs.refreshMounts()</span></code> on all other running clusters to propagate the new mount. See <a class="reference internal" href="#dbutils-fs-refreshmounts"><span class="std std-ref">refreshMounts command (dbutils.fs.refreshMounts)</span></a>.</p>
</div>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">mounts</span><span class="p">()</span>

<span class="c1"># Out[11]: [MountInfo(mountPoint=&#39;/mnt/databricks-results&#39;, source=&#39;databricks-results&#39;, encryptionType=&#39;sse-s3&#39;)]</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">fs</span><span class="p">.</span><span class="n">mounts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>For additional code examples, see <a class="reference internal" href="../connect/storage/amazon-s3.html"><span class="doc">Connect to Amazon S3</span></a>.</p>
</div>
<div class="section" id="mv-command-dbutilsfsmv">
<span id="dbutils-fs-mv"></span><h3>mv command (dbutils.fs.mv)<a class="headerlink" href="#mv-command-dbutilsfsmv" title="Permalink to this headline"> </a></h3>
<p>Moves a file or directory, possibly across filesystems. A move is a copy followed by a delete, even for moves within filesystems.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.fs.help(&quot;mv&quot;)</span></code>.</p>
<p>This example moves the file <code class="docutils literal notranslate"><span class="pre">my_file.txt</span></code> from <code class="docutils literal notranslate"><span class="pre">/FileStore</span></code> to <code class="docutils literal notranslate"><span class="pre">/tmp/parent/child/granchild</span></code>.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">mv</span><span class="p">(</span><span class="s2">&quot;/FileStore/my_file.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;/tmp/parent/child/grandchild&quot;</span><span class="p">)</span>

<span class="c1"># Out[2]: True</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.fs.mv</span><span class="p">(</span><span class="s">&quot;/FileStore/my_file.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/tmp/parent/child/grandchild&quot;</span><span class="p">)</span>

<span class="c1"># [1] TRUE</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">fs</span><span class="p">.</span><span class="n">mv</span><span class="p">(</span><span class="s">&quot;/FileStore/my_file.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/tmp/parent/child/grandchild&quot;</span><span class="p">)</span>

<span class="c1">// res1: Boolean = true</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="put-command-dbutilsfsput">
<span id="dbutils-fs-put"></span><h3>put command (dbutils.fs.put)<a class="headerlink" href="#put-command-dbutilsfsput" title="Permalink to this headline"> </a></h3>
<p>Writes the specified string to a file. The string is UTF-8 encoded.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.fs.help(&quot;put&quot;)</span></code>.</p>
<p>This example writes the string <code class="docutils literal notranslate"><span class="pre">Hello,</span> <span class="pre">Databricks!</span></code> to a file named <code class="docutils literal notranslate"><span class="pre">hello_db.txt</span></code> in <code class="docutils literal notranslate"><span class="pre">/tmp</span></code>. If the file exists, it will be overwritten.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/tmp/hello_db.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;Hello, Databricks!&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

<span class="c1"># Wrote 18 bytes.</span>
<span class="c1"># Out[6]: True</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.fs.put</span><span class="p">(</span><span class="s">&quot;/tmp/hello_db.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Hello, Databricks!&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span>

<span class="c1"># [1] TRUE</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">fs</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="s">&quot;/tmp/hello_db.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Hello, Databricks!&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>

<span class="c1">// Wrote 18 bytes.</span>
<span class="c1">// res2: Boolean = true</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="refreshmounts-command-dbutilsfsrefreshmounts">
<span id="dbutils-fs-refreshmounts"></span><h3>refreshMounts command (dbutils.fs.refreshMounts)<a class="headerlink" href="#refreshmounts-command-dbutilsfsrefreshmounts" title="Permalink to this headline"> </a></h3>
<p>Forces all machines in the cluster to refresh their mount cache, ensuring they receive the most recent information.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.fs.help(&quot;refreshMounts&quot;)</span></code>.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">refreshMounts</span><span class="p">()</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">fs</span><span class="p">.</span><span class="n">refreshMounts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>For additional code examples, see <a class="reference internal" href="../connect/storage/amazon-s3.html"><span class="doc">Connect to Amazon S3</span></a>.</p>
</div>
<div class="section" id="rm-command-dbutilsfsrm">
<span id="dbutils-fs-rm"></span><h3>rm command (dbutils.fs.rm)<a class="headerlink" href="#rm-command-dbutilsfsrm" title="Permalink to this headline"> </a></h3>
<p>Removes a file or directory.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.fs.help(&quot;rm&quot;)</span></code>.</p>
<p>This example removes the file named <code class="docutils literal notranslate"><span class="pre">hello_db.txt</span></code> in <code class="docutils literal notranslate"><span class="pre">/tmp</span></code>.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">rm</span><span class="p">(</span><span class="s2">&quot;/tmp/hello_db.txt&quot;</span><span class="p">)</span>

<span class="c1"># Out[8]: True</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.fs.rm</span><span class="p">(</span><span class="s">&quot;/tmp/hello_db.txt&quot;</span><span class="p">)</span>

<span class="c1"># [1] TRUE</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">fs</span><span class="p">.</span><span class="n">rm</span><span class="p">(</span><span class="s">&quot;/tmp/hello_db.txt&quot;</span><span class="p">)</span>

<span class="c1">// res6: Boolean = true</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="unmount-command-dbutilsfsunmount">
<span id="dbutils-fs-unmount"></span><h3>unmount command (dbutils.fs.unmount)<a class="headerlink" href="#unmount-command-dbutilsfsunmount" title="Permalink to this headline"> </a></h3>
<p>Deletes a DBFS mount point.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>To avoid errors, never modify a mount point while other jobs are reading or writing to it. After modifying a mount, always run <code class="docutils literal notranslate"><span class="pre">dbutils.fs.refreshMounts()</span></code> on all other running clusters to propagate any mount updates. See <a class="reference internal" href="#dbutils-fs-refreshmounts"><span class="std std-ref">refreshMounts command (dbutils.fs.refreshMounts)</span></a>.</p>
</div>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.fs.help(&quot;unmount&quot;)</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">unmount</span><span class="p">(</span><span class="s2">&quot;/mnt/&lt;mount-name&gt;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For additional code examples, see <a class="reference internal" href="../connect/storage/amazon-s3.html"><span class="doc">Connect to Amazon S3</span></a>.</p>
</div>
<div class="section" id="updatemount-command-dbutilsfsupdatemount">
<span id="dbutils-fs-updatemount"></span><h3>updateMount command (dbutils.fs.updateMount)<a class="headerlink" href="#updatemount-command-dbutilsfsupdatemount" title="Permalink to this headline"> </a></h3>
<p>Similar to the <code class="docutils literal notranslate"><span class="pre">dbutils.fs.mount</span></code> command, but updates an existing mount point instead of creating a new one. Returns an error if the mount point is not present.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.fs.help(&quot;updateMount&quot;)</span></code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>To avoid errors, never modify a mount point while other jobs are reading or writing to it. After modifying a mount, always run <code class="docutils literal notranslate"><span class="pre">dbutils.fs.refreshMounts()</span></code> on all other running clusters to propagate any mount updates. See <a class="reference internal" href="#dbutils-fs-refreshmounts"><span class="std std-ref">refreshMounts command (dbutils.fs.refreshMounts)</span></a>.</p>
</div>
<p>This command is available in Databricks Runtime 10.2 and above.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">aws_bucket_name</span> <span class="o">=</span> <span class="s2">&quot;my-bucket&quot;</span>
<span class="n">mount_name</span> <span class="o">=</span> <span class="s2">&quot;s3-my-bucket&quot;</span>

<span class="n">dbutils</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">updateMount</span><span class="p">(</span><span class="s2">&quot;s3a://</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">aws_bucket_name</span><span class="p">,</span> <span class="s2">&quot;/mnt/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">mount_name</span><span class="p">)</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="kd">val</span><span class="w"> </span><span class="nc">AwsBucketName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;my-bucket&quot;</span>
<span class="kd">val</span><span class="w"> </span><span class="nc">MountName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;s3-my-bucket&quot;</span>

<span class="n">dbutils</span><span class="p">.</span><span class="n">fs</span><span class="p">.</span><span class="n">updateMount</span><span class="p">(</span><span class="s">s&quot;s3a://</span><span class="si">$</span><span class="n">AwsBucketName</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">s&quot;/mnt/</span><span class="si">$</span><span class="n">MountName</span><span class="s">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="jobs-utility-dbutilsjobs">
<span id="dbutils-jobs"></span><h2>Jobs utility (dbutils.jobs)<a class="headerlink" href="#jobs-utility-dbutilsjobs" title="Permalink to this headline"> </a></h2>
<p><strong>Subutilities</strong>: <a class="reference internal" href="#dbutils-jobs-taskvalues"><span class="std std-ref">taskValues</span></a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Available in Databricks Runtime 7.3 and above.</p>
<p>This utility is available only for Python.</p>
</div>
<p>The jobs utility allows you to leverage jobs features. To display help for this utility, run <code class="docutils literal notranslate"><span class="pre">dbutils.jobs.help()</span></code>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Provides utilities for leveraging jobs features.

taskValues: TaskValuesUtils -&gt; Provides utilities for leveraging job task values
</pre></div>
</div>
<div class="section" id="taskvalues-subutility-dbutilsjobstaskvalues">
<span id="dbutils-jobs-taskvalues"></span><h3>taskValues subutility (dbutils.jobs.taskValues)<a class="headerlink" href="#taskvalues-subutility-dbutilsjobstaskvalues" title="Permalink to this headline"> </a></h3>
<p><strong>Commands</strong>: <a class="reference internal" href="#dbutils-jobs-taskvalues-get"><span class="std std-ref">get</span></a>, <a class="reference internal" href="#dbutils-jobs-taskvalues-set"><span class="std std-ref">set</span></a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Available in Databricks Runtime 7.3 and above.</p>
<p>This subutility is available only for Python.</p>
</div>
<p>Provides commands for leveraging job task values.</p>
<p>Use this sub utility to set and get arbitrary values during a job run. These values are called <em>task values</em>. You can access task values in downstream tasks in the same job run. For example, you can communicate identifiers or metrics, such as information about the evaluation of a machine learning model, between different tasks within a job run. Each task can set multiple task values, get them, or both. Each task value has a unique key within the same task. This unique key is known as the task value’s key. A task value is accessed with the task name and the task value’s key.</p>
<p>To display help for this subutility, run <code class="docutils literal notranslate"><span class="pre">dbutils.jobs.taskValues.help()</span></code>.</p>
<div class="section" id="get-command-dbutilsjobstaskvaluesget">
<span id="dbutils-jobs-taskvalues-get"></span><h4>get command (dbutils.jobs.taskValues.get)<a class="headerlink" href="#get-command-dbutilsjobstaskvaluesget" title="Permalink to this headline"> </a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Available in Databricks Runtime 7.3 and above.</p>
<p>This command is available only for Python.</p>
<p>On Databricks Runtime 10.4 and earlier, if <code class="docutils literal notranslate"><span class="pre">get</span></code> cannot find the task, a <a class="reference external" href="https://www.py4j.org/py4j_java_protocol.html#py4jjavaerror">Py4JJavaError</a> is raised instead of a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>.</p>
</div>
<p>Gets the contents of the specified task value for the specified task in the current job run.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.jobs.taskValues.help(&quot;get&quot;)</span></code>.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">jobs</span><span class="o">.</span><span class="n">taskValues</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">taskKey</span>    <span class="o">=</span> <span class="s2">&quot;my-task&quot;</span><span class="p">,</span> \
                            <span class="n">key</span>        <span class="o">=</span> <span class="s2">&quot;my-key&quot;</span><span class="p">,</span> \
                            <span class="n">default</span>    <span class="o">=</span> <span class="mi">7</span><span class="p">,</span> \
                            <span class="n">debugValue</span> <span class="o">=</span> <span class="mi">42</span><span class="p">)</span>
</pre></div>
</div>
<p>In the preceding example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">taskKey</span></code> is the name of the task that set the task value. If the command cannot find this task, a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> is raised.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code> is the name of the task value’s key that you set with the <a class="reference internal" href="#dbutils-jobs-taskvalues-set"><span class="std std-ref">set command (dbutils.jobs.taskValues.set)</span></a>. If the command cannot find this task value’s key, a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> is raised (unless <code class="docutils literal notranslate"><span class="pre">default</span></code> is specified).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">default</span></code> is an optional value that is returned if <code class="docutils literal notranslate"><span class="pre">key</span></code> cannot be found. <code class="docutils literal notranslate"><span class="pre">default</span></code> cannot be <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">debugValue</span></code> is an optional value that is returned if you try to get the task value from within a notebook that is running outside of a job. This can be useful during debugging when you want to run your notebook manually and return some value instead of raising a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> by default. <code class="docutils literal notranslate"><span class="pre">debugValue</span></code> cannot be <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
<p>If you try to get a task value from within a notebook that is running outside of a job, this command raises a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> by default. However, if the <code class="docutils literal notranslate"><span class="pre">debugValue</span></code> argument is specified in the command, the value of <code class="docutils literal notranslate"><span class="pre">debugValue</span></code> is returned instead of raising a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>.</p>
</div>
<div class="section" id="set-command-dbutilsjobstaskvaluesset">
<span id="dbutils-jobs-taskvalues-set"></span><h4>set command (dbutils.jobs.taskValues.set)<a class="headerlink" href="#set-command-dbutilsjobstaskvaluesset" title="Permalink to this headline"> </a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Available in Databricks Runtime 7.3 and above.</p>
<p>This command is available only for Python.</p>
</div>
<p>Sets or updates a task value. You can set up to 250 task values for a job run.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.jobs.taskValues.help(&quot;set&quot;)</span></code>.</p>
<p>Some examples include:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">jobs</span><span class="o">.</span><span class="n">taskValues</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">key</span>   <span class="o">=</span> <span class="s2">&quot;my-key&quot;</span><span class="p">,</span> \
                            <span class="n">value</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span>

<span class="n">dbutils</span><span class="o">.</span><span class="n">jobs</span><span class="o">.</span><span class="n">taskValues</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">key</span>   <span class="o">=</span> <span class="s2">&quot;my-other-key&quot;</span><span class="p">,</span> \
                            <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;my other value&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>In the preceding examples:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code> is the task value’s key. This key must be unique to the task. That is, if two different tasks each set a task value with key <code class="docutils literal notranslate"><span class="pre">K</span></code>, these are two different task values that have the same key <code class="docutils literal notranslate"><span class="pre">K</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">value</span></code> is the value for this task value’s key. This command must be able to represent the value internally in JSON format. The size of the JSON representation of the value cannot exceed 48 KiB.</p></li>
</ul>
<p>If you try to set a task value from within a notebook that is running outside of a job, this command does nothing.</p>
</div>
</div>
</div>
<div class="section" id="library-utility-dbutilslibrary">
<span id="dbutils-library"></span><h2>Library utility (dbutils.library)<a class="headerlink" href="#library-utility-dbutilslibrary" title="Permalink to this headline"> </a></h2>
<p>Most methods in the <code class="docutils literal notranslate"><span class="pre">dbutils.library</span></code> submodule are deprecated. See <a class="reference internal" href="../archive/dev-tools/dbutils-library.html"><span class="doc">(Legacy) Library utility (dbutils.library)</span></a>.</p>
<p>You might need to programmatically restart the Python process on Databricks to ensure that locally installed or upgraded libraries function correctly in the Python kernel for your current SparkSession. To do this, run the <code class="docutils literal notranslate"><span class="pre">dbutils.library.restartPython</span></code> command. See <a class="reference internal" href="../libraries/restart-python-process.html"><span class="doc">Restart the Python process on Databricks</span></a>.</p>
</div>
<div class="section" id="notebook-utility-dbutilsnotebook">
<span id="dbutils-workflow"></span><h2>Notebook utility (dbutils.notebook)<a class="headerlink" href="#notebook-utility-dbutilsnotebook" title="Permalink to this headline"> </a></h2>
<p><strong>Commands</strong>: <a class="reference internal" href="#dbutils-workflow-exit"><span class="std std-ref">exit</span></a>, <a class="reference internal" href="#dbutils-workflow-run"><span class="std std-ref">run</span></a></p>
<p>The notebook utility allows you to chain together notebooks and act on their results. See <a class="reference internal" href="../notebooks/notebook-workflows.html"><span class="doc">Run a Databricks notebook from another notebook</span></a>.</p>
<p>To list the available commands, run <code class="docutils literal notranslate"><span class="pre">dbutils.notebook.help()</span></code>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>exit(value: String): void -&gt; This method lets you exit a notebook with a value
run(path: String, timeoutSeconds: int, arguments: Map): String -&gt; This method runs a notebook and returns its exit value.
</pre></div>
</div>
<div class="section" id="exit-command-dbutilsnotebookexit">
<span id="dbutils-workflow-exit"></span><h3>exit command (dbutils.notebook.exit)<a class="headerlink" href="#exit-command-dbutilsnotebookexit" title="Permalink to this headline"> </a></h3>
<p>Exits a notebook with a value.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.notebook.help(&quot;exit&quot;)</span></code>.</p>
<p>This example exits the notebook with the value <code class="docutils literal notranslate"><span class="pre">Exiting</span> <span class="pre">from</span> <span class="pre">My</span> <span class="pre">Other</span> <span class="pre">Notebook</span></code>.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s2">&quot;Exiting from My Other Notebook&quot;</span><span class="p">)</span>

<span class="c1"># Notebook exited: Exiting from My Other Notebook</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.notebook.exit</span><span class="p">(</span><span class="s">&quot;Exiting from My Other Notebook&quot;</span><span class="p">)</span>

<span class="c1"># Notebook exited: Exiting from My Other Notebook</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">notebook</span><span class="p">.</span><span class="n">exit</span><span class="p">(</span><span class="s">&quot;Exiting from My Other Notebook&quot;</span><span class="p">)</span>

<span class="c1">// Notebook exited: Exiting from My Other Notebook</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the run has a query with <a class="reference internal" href="../structured-streaming/production.html"><span class="doc">structured streaming</span></a> running in the background, calling <code class="docutils literal notranslate"><span class="pre">dbutils.notebook.exit()</span></code> does not terminate the run. The run will continue to execute for as long as query is executing in the background. You can stop the query running in the background by clicking <strong>Cancel</strong> in the cell of the query or by running <code class="docutils literal notranslate"><span class="pre">query.stop()</span></code>. When the query stops, you can terminate the run with <code class="docutils literal notranslate"><span class="pre">dbutils.notebook.exit()</span></code>.</p>
</div>
</div>
<div class="section" id="run-command-dbutilsnotebookrun">
<span id="dbutils-workflow-run"></span><h3>run command (dbutils.notebook.run)<a class="headerlink" href="#run-command-dbutilsnotebookrun" title="Permalink to this headline"> </a></h3>
<p>Runs a notebook and returns its exit value. The notebook will run in the current cluster by default.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The maximum length of the string value returned from the <code class="docutils literal notranslate"><span class="pre">run</span></code> command is 5 MB. See <a class="reference external" href="https://docs.databricks.com/api/workspace/jobs">Get the output for a single run</a> (<code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/jobs/runs/get-output</span></code>).</p>
</div>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.notebook.help(&quot;run&quot;)</span></code>.</p>
<p>This example runs a notebook named <code class="docutils literal notranslate"><span class="pre">My</span> <span class="pre">Other</span> <span class="pre">Notebook</span></code> in the same location as the calling notebook. The called notebook ends with the line of code <code class="docutils literal notranslate"><span class="pre">dbutils.notebook.exit(&quot;Exiting</span> <span class="pre">from</span> <span class="pre">My</span> <span class="pre">Other</span> <span class="pre">Notebook&quot;)</span></code>. If the called notebook does not finish running within 60 seconds, an exception is thrown.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;My Other Notebook&quot;</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>

<span class="c1"># Out[14]: &#39;Exiting from My Other Notebook&#39;</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">notebook</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s">&quot;My Other Notebook&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">60</span><span class="p">)</span>

<span class="c1">// res2: String = Exiting from My Other Notebook</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="secrets-utility-dbutilssecrets">
<span id="dbutils-secrets"></span><h2>Secrets utility (dbutils.secrets)<a class="headerlink" href="#secrets-utility-dbutilssecrets" title="Permalink to this headline"> </a></h2>
<p><strong>Commands</strong>: <a class="reference internal" href="#dbutils-secrets-get"><span class="std std-ref">get</span></a>, <a class="reference internal" href="#dbutils-secrets-getbytes"><span class="std std-ref">getBytes</span></a>, <a class="reference internal" href="#dbutils-secrets-list"><span class="std std-ref">list</span></a>, <a class="reference internal" href="#dbutils-secrets-listscopes"><span class="std std-ref">listScopes</span></a></p>
<p>The secrets utility allows you to store and access sensitive credential information without making them visible in notebooks. See <a class="reference internal" href="../security/secrets/index.html"><span class="doc">Secret management</span></a> and <a class="reference internal" href="../security/secrets/example-secret-workflow.html#secret-example-notebook"><span class="std std-ref">Use the secrets in a notebook</span></a>. To list the available commands, run <code class="docutils literal notranslate"><span class="pre">dbutils.secrets.help()</span></code>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>get(scope: String, key: String): String -&gt; Gets the string representation of a secret value with scope and key
getBytes(scope: String, key: String): byte[] -&gt; Gets the bytes representation of a secret value with scope and key
list(scope: String): Seq -&gt; Lists secret metadata for secrets within a scope
listScopes: Seq -&gt; Lists secret scopes
</pre></div>
</div>
<div class="section" id="get-command-dbutilssecretsget">
<span id="dbutils-secrets-get"></span><h3>get command (dbutils.secrets.get)<a class="headerlink" href="#get-command-dbutilssecretsget" title="Permalink to this headline"> </a></h3>
<p>Gets the string representation of a secret value for the specified secrets scope and key.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Administrators, secret creators, and users granted <a class="reference internal" href="../security/auth-authz/access-control/secret-acl.html"><span class="doc">permission</span></a> can read Databricks secrets. While
Databricks makes an effort to redact secret values that might be displayed in notebooks, it is not possible to prevent such users from reading secrets. For more information, see <a class="reference internal" href="../security/secrets/redaction.html"><span class="doc">Secret redaction</span></a>.</p>
</div>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.secrets.help(&quot;get&quot;)</span></code>.</p>
<p>This example gets the string representation of the secret value for the scope named <code class="docutils literal notranslate"><span class="pre">my-scope</span></code> and the key named <code class="docutils literal notranslate"><span class="pre">my-key</span></code>.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;my-scope&quot;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;my-key&quot;</span><span class="p">)</span>

<span class="c1"># Out[14]: &#39;[REDACTED]&#39;</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.secrets.get</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s">&quot;my-scope&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="o">=</span><span class="s">&quot;my-key&quot;</span><span class="p">)</span>

<span class="c1"># [1] &quot;[REDACTED]&quot;</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">secrets</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s">&quot;my-scope&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="o">=</span><span class="s">&quot;my-key&quot;</span><span class="p">)</span>

<span class="c1">// res0: String = [REDACTED]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="getbytes-command-dbutilssecretsgetbytes">
<span id="dbutils-secrets-getbytes"></span><h3>getBytes command (dbutils.secrets.getBytes)<a class="headerlink" href="#getbytes-command-dbutilssecretsgetbytes" title="Permalink to this headline"> </a></h3>
<p>Gets the bytes representation of a secret value for the specified scope and key.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.secrets.help(&quot;getBytes&quot;)</span></code>.</p>
<p>This example gets the byte representation of the secret value (in this example, <code class="docutils literal notranslate"><span class="pre">a1!b2&#64;c3#</span></code>) for the scope named <code class="docutils literal notranslate"><span class="pre">my-scope</span></code> and the key named <code class="docutils literal notranslate"><span class="pre">my-key</span></code>.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">getBytes</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;my-scope&quot;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;my-key&quot;</span><span class="p">)</span>

<span class="c1"># Out[1]: b&#39;a1!b2@c3#&#39;</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.secrets.getBytes</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s">&quot;my-scope&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="o">=</span><span class="s">&quot;my-key&quot;</span><span class="p">)</span>

<span class="c1"># [1] 61 31 21 62 32 40 63 33 23</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">secrets</span><span class="p">.</span><span class="n">getBytes</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s">&quot;my-scope&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="o">=</span><span class="s">&quot;my-key&quot;</span><span class="p">)</span>

<span class="c1">// res1: Array[Byte] = Array(97, 49, 33, 98, 50, 64, 99, 51, 35)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="list-command-dbutilssecretslist">
<span id="dbutils-secrets-list"></span><h3>list command (dbutils.secrets.list)<a class="headerlink" href="#list-command-dbutilssecretslist" title="Permalink to this headline"> </a></h3>
<p>Lists the metadata for secrets within the specified scope.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.secrets.help(&quot;list&quot;)</span></code>.</p>
<p>This example lists the metadata for secrets within the scope named <code class="docutils literal notranslate"><span class="pre">my-scope</span></code>.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="s2">&quot;my-scope&quot;</span><span class="p">)</span>

<span class="c1"># Out[10]: [SecretMetadata(key=&#39;my-key&#39;)]</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.secrets.list</span><span class="p">(</span><span class="s">&quot;my-scope&quot;</span><span class="p">)</span>

<span class="c1"># [[1]]</span>
<span class="c1"># [[1]]$key</span>
<span class="c1"># [1] &quot;my-key&quot;</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">secrets</span><span class="p">.</span><span class="n">list</span><span class="p">(</span><span class="s">&quot;my-scope&quot;</span><span class="p">)</span>

<span class="c1">// res2: Seq[com.databricks.dbutils_v1.SecretMetadata] = ArrayBuffer(SecretMetadata(my-key))</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="listscopes-command-dbutilssecretslistscopes">
<span id="dbutils-secrets-listscopes"></span><h3>listScopes command (dbutils.secrets.listScopes)<a class="headerlink" href="#listscopes-command-dbutilssecretslistscopes" title="Permalink to this headline"> </a></h3>
<p>Lists the available scopes.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.secrets.help(&quot;listScopes&quot;)</span></code>.</p>
<p>This example lists the available scopes.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">listScopes</span><span class="p">()</span>

<span class="c1"># Out[14]: [SecretScope(name=&#39;my-scope&#39;)]</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.secrets.listScopes</span><span class="p">()</span>

<span class="c1"># [[1]]</span>
<span class="c1"># [[1]]$name</span>
<span class="c1"># [1] &quot;my-scope&quot;</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">secrets</span><span class="p">.</span><span class="n">listScopes</span><span class="p">()</span>

<span class="c1">// res3: Seq[com.databricks.dbutils_v1.SecretScope] = ArrayBuffer(SecretScope(my-scope))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="widgets-utility-dbutilswidgets">
<span id="dbutils-widgets"></span><h2>Widgets utility (dbutils.widgets)<a class="headerlink" href="#widgets-utility-dbutilswidgets" title="Permalink to this headline"> </a></h2>
<p><strong>Commands</strong>: <a class="reference internal" href="#dbutils-widgets-combobox"><span class="std std-ref">combobox</span></a>, <a class="reference internal" href="#dbutils-widgets-dropdown"><span class="std std-ref">dropdown</span></a>, <a class="reference internal" href="#dbutils-widgets-get"><span class="std std-ref">get</span></a>, <a class="reference internal" href="#dbutils-widgets-getargument"><span class="std std-ref">getArgument</span></a>, <a class="reference internal" href="#dbutils-widgets-multiselect"><span class="std std-ref">multiselect</span></a>, <a class="reference internal" href="#dbutils-widgets-remove"><span class="std std-ref">remove</span></a>, <a class="reference internal" href="#dbutils-widgets-removeall"><span class="std std-ref">removeAll</span></a>, <a class="reference internal" href="#dbutils-widgets-text"><span class="std std-ref">text</span></a></p>
<p>The widgets utility allows you to parameterize notebooks. See <a class="reference internal" href="../notebooks/widgets.html"><span class="doc">Databricks widgets</span></a>.</p>
<p>To list the available commands, run <code class="docutils literal notranslate"><span class="pre">dbutils.widgets.help()</span></code>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>combobox(name: String, defaultValue: String, choices: Seq, label: String): void -&gt; Creates a combobox input widget with a given name, default value and choices
dropdown(name: String, defaultValue: String, choices: Seq, label: String): void -&gt; Creates a dropdown input widget a with given name, default value and choices
get(name: String): String -&gt; Retrieves current value of an input widget
getArgument(name: String, optional: String): String -&gt; (DEPRECATED) Equivalent to get
multiselect(name: String, defaultValue: String, choices: Seq, label: String): void -&gt; Creates a multiselect input widget with a given name, default value and choices
remove(name: String): void -&gt; Removes an input widget from the notebook
removeAll: void -&gt; Removes all widgets in the notebook
text(name: String, defaultValue: String, label: String): void -&gt; Creates a text input widget with a given name and default value
</pre></div>
</div>
<div class="section" id="combobox-command-dbutilswidgetscombobox">
<span id="dbutils-widgets-combobox"></span><h3>combobox command (dbutils.widgets.combobox)<a class="headerlink" href="#combobox-command-dbutilswidgetscombobox" title="Permalink to this headline"> </a></h3>
<p>Creates and displays a combobox widget with the specified programmatic name, default value, choices, and optional label.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.widgets.help(&quot;combobox&quot;)</span></code>.</p>
<p>This example creates and displays a combobox widget with the programmatic name <code class="docutils literal notranslate"><span class="pre">fruits_combobox</span></code>. It offers the choices <code class="docutils literal notranslate"><span class="pre">apple</span></code>, <code class="docutils literal notranslate"><span class="pre">banana</span></code>, <code class="docutils literal notranslate"><span class="pre">coconut</span></code>, and <code class="docutils literal notranslate"><span class="pre">dragon</span> <span class="pre">fruit</span></code> and is set to the initial value of <code class="docutils literal notranslate"><span class="pre">banana</span></code>. This combobox widget has an accompanying label <code class="docutils literal notranslate"><span class="pre">Fruits</span></code>. This example ends by printing the initial value of the combobox widget, <code class="docutils literal notranslate"><span class="pre">banana</span></code>.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">combobox</span><span class="p">(</span>
  <span class="n">name</span><span class="o">=</span><span class="s1">&#39;fruits_combobox&#39;</span><span class="p">,</span>
  <span class="n">defaultValue</span><span class="o">=</span><span class="s1">&#39;banana&#39;</span><span class="p">,</span>
  <span class="n">choices</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;banana&#39;</span><span class="p">,</span> <span class="s1">&#39;coconut&#39;</span><span class="p">,</span> <span class="s1">&#39;dragon fruit&#39;</span><span class="p">],</span>
  <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Fruits&#39;</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">dbutils</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fruits_combobox&quot;</span><span class="p">))</span>

<span class="c1"># banana</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.widgets.combobox</span><span class="p">(</span>
<span class="w">  </span><span class="n">name</span><span class="o">=</span><span class="s">&#39;fruits_combobox&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="n">defaultValue</span><span class="o">=</span><span class="s">&#39;banana&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="n">choices</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="s">&#39;apple&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;banana&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;coconut&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;dragon fruit&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="n">label</span><span class="o">=</span><span class="s">&#39;Fruits&#39;</span>
<span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="nf">dbutils.widgets.get</span><span class="p">(</span><span class="s">&quot;fruits_combobox&quot;</span><span class="p">))</span>

<span class="c1"># [1] &quot;banana&quot;</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">widgets</span><span class="p">.</span><span class="n">combobox</span><span class="p">(</span>
<span class="w">  </span><span class="s">&quot;fruits_combobox&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="s">&quot;banana&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nc">Array</span><span class="p">(</span><span class="s">&quot;apple&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;banana&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;coconut&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;dragon fruit&quot;</span><span class="p">),</span>
<span class="w">  </span><span class="s">&quot;Fruits&quot;</span>
<span class="p">)</span>

<span class="n">print</span><span class="p">(</span><span class="n">dbutils</span><span class="p">.</span><span class="n">widgets</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;fruits_combobox&quot;</span><span class="p">))</span>

<span class="c1">// banana</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="dropdown-command-dbutilswidgetsdropdown">
<span id="dbutils-widgets-dropdown"></span><h3>dropdown command (dbutils.widgets.dropdown)<a class="headerlink" href="#dropdown-command-dbutilswidgetsdropdown" title="Permalink to this headline"> </a></h3>
<p>Creates and displays a dropdown widget with the specified programmatic name, default value, choices, and optional label.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.widgets.help(&quot;dropdown&quot;)</span></code>.</p>
<p>This example creates and displays a dropdown widget with the programmatic name <code class="docutils literal notranslate"><span class="pre">toys_dropdown</span></code>. It offers the choices <code class="docutils literal notranslate"><span class="pre">alphabet</span> <span class="pre">blocks</span></code>, <code class="docutils literal notranslate"><span class="pre">basketball</span></code>, <code class="docutils literal notranslate"><span class="pre">cape</span></code>, and <code class="docutils literal notranslate"><span class="pre">doll</span></code> and is set to the initial value of <code class="docutils literal notranslate"><span class="pre">basketball</span></code>. This dropdown widget has an accompanying label <code class="docutils literal notranslate"><span class="pre">Toys</span></code>. This example ends by printing the initial value of the dropdown widget, <code class="docutils literal notranslate"><span class="pre">basketball</span></code>.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">dropdown</span><span class="p">(</span>
  <span class="n">name</span><span class="o">=</span><span class="s1">&#39;toys_dropdown&#39;</span><span class="p">,</span>
  <span class="n">defaultValue</span><span class="o">=</span><span class="s1">&#39;basketball&#39;</span><span class="p">,</span>
  <span class="n">choices</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;alphabet blocks&#39;</span><span class="p">,</span> <span class="s1">&#39;basketball&#39;</span><span class="p">,</span> <span class="s1">&#39;cape&#39;</span><span class="p">,</span> <span class="s1">&#39;doll&#39;</span><span class="p">],</span>
  <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Toys&#39;</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">dbutils</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;toys_dropdown&quot;</span><span class="p">))</span>

<span class="c1"># basketball</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.widgets.dropdown</span><span class="p">(</span>
<span class="w">  </span><span class="n">name</span><span class="o">=</span><span class="s">&#39;toys_dropdown&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="n">defaultValue</span><span class="o">=</span><span class="s">&#39;basketball&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="n">choices</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="s">&#39;alphabet blocks&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;basketball&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;cape&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;doll&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="n">label</span><span class="o">=</span><span class="s">&#39;Toys&#39;</span>
<span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="nf">dbutils.widgets.get</span><span class="p">(</span><span class="s">&quot;toys_dropdown&quot;</span><span class="p">))</span>

<span class="c1"># [1] &quot;basketball&quot;</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">widgets</span><span class="p">.</span><span class="n">dropdown</span><span class="p">(</span>
<span class="w">  </span><span class="s">&quot;toys_dropdown&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="s">&quot;basketball&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nc">Array</span><span class="p">(</span><span class="s">&quot;alphabet blocks&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;basketball&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;cape&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;doll&quot;</span><span class="p">),</span>
<span class="w">  </span><span class="s">&quot;Toys&quot;</span>
<span class="p">)</span>

<span class="n">print</span><span class="p">(</span><span class="n">dbutils</span><span class="p">.</span><span class="n">widgets</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;toys_dropdown&quot;</span><span class="p">))</span>

<span class="c1">// basketball</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="get-command-dbutilswidgetsget">
<span id="dbutils-widgets-get"></span><h3>get command (dbutils.widgets.get)<a class="headerlink" href="#get-command-dbutilswidgetsget" title="Permalink to this headline"> </a></h3>
<p>Gets the current value of the widget with the specified programmatic name. This programmatic name can be either:</p>
<ul class="simple">
<li><p>The name of a custom widget in the notebook, for example <code class="docutils literal notranslate"><span class="pre">fruits_combobox</span></code> or <code class="docutils literal notranslate"><span class="pre">toys_dropdown</span></code>.</p></li>
<li><p>The name of a custom parameter passed to the notebook as part of a notebook task, for example <code class="docutils literal notranslate"><span class="pre">name</span></code> or <code class="docutils literal notranslate"><span class="pre">age</span></code>. For more information, see the coverage of parameters for notebook tasks in the <a class="reference internal" href="../workflows/jobs/create-run-jobs.html#create-a-job"><span class="std std-ref">Create a job</span></a> UI or the <code class="docutils literal notranslate"><span class="pre">notebook_params</span></code> field in the <a class="reference external" href="https://docs.databricks.com/api/workspace/jobs">Trigger a new job run</a> (<code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/jobs/run-now</span></code>) operation in the Jobs API.</p></li>
</ul>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.widgets.help(&quot;get&quot;)</span></code>.</p>
<p>This example gets the value of the widget that has the programmatic name <code class="docutils literal notranslate"><span class="pre">fruits_combobox</span></code>.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fruits_combobox&#39;</span><span class="p">)</span>

<span class="c1"># banana</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.widgets.get</span><span class="p">(</span><span class="s">&#39;fruits_combobox&#39;</span><span class="p">)</span>

<span class="c1"># [1] &quot;banana&quot;</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">widgets</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;fruits_combobox&quot;</span><span class="p">)</span>

<span class="c1">// res6: String = banana</span>
</pre></div>
</div>
</div>
<p>This example gets the value of the notebook task parameter that has the programmatic name <code class="docutils literal notranslate"><span class="pre">age</span></code>. This parameter was set to <code class="docutils literal notranslate"><span class="pre">35</span></code> when the related notebook task was run.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">)</span>

<span class="c1"># 35</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.widgets.get</span><span class="p">(</span><span class="s">&#39;age&#39;</span><span class="p">)</span>

<span class="c1"># [1] &quot;35&quot;</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">widgets</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;age&quot;</span><span class="p">)</span>

<span class="c1">// res6: String = 35</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="getargument-command-dbutilswidgetsgetargument">
<span id="dbutils-widgets-getargument"></span><h3>getArgument command (dbutils.widgets.getArgument)<a class="headerlink" href="#getargument-command-dbutilswidgetsgetargument" title="Permalink to this headline"> </a></h3>
<p>Gets the current value of the widget with the specified programmatic name. If the widget does not exist, an optional message can be returned.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command is deprecated. Use <a class="reference internal" href="#dbutils-widgets-get"><span class="std std-ref">dbutils.widgets.get</span></a> instead.</p>
</div>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.widgets.help(&quot;getArgument&quot;)</span></code>.</p>
<p>This example gets the value of the widget that has the programmatic name <code class="docutils literal notranslate"><span class="pre">fruits_combobox</span></code>. If this widget does not exist, the message <code class="docutils literal notranslate"><span class="pre">Error:</span> <span class="pre">Cannot</span> <span class="pre">find</span> <span class="pre">fruits</span> <span class="pre">combobox</span></code> is returned.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">getArgument</span><span class="p">(</span><span class="s1">&#39;fruits_combobox&#39;</span><span class="p">,</span> <span class="s1">&#39;Error: Cannot find fruits combobox&#39;</span><span class="p">)</span>

<span class="c1"># Deprecation warning: Use dbutils.widgets.text() or dbutils.widgets.dropdown() to create a widget and dbutils.widgets.get() to get its bound value.</span>
<span class="c1"># Out[3]: &#39;banana&#39;</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.widgets.getArgument</span><span class="p">(</span><span class="s">&#39;fruits_combobox&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;Error: Cannot find fruits combobox&#39;</span><span class="p">)</span>

<span class="c1"># Deprecation warning: Use dbutils.widgets.text() or dbutils.widgets.dropdown() to create a widget and dbutils.widgets.get() to get its bound value.</span>
<span class="c1"># [1] &quot;banana&quot;</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">widgets</span><span class="p">.</span><span class="n">getArgument</span><span class="p">(</span><span class="s">&quot;fruits_combobox&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Error: Cannot find fruits combobox&quot;</span><span class="p">)</span>

<span class="c1">// command-1234567890123456:1: warning: method getArgument in trait WidgetsUtils is deprecated: Use dbutils.widgets.text() or dbutils.widgets.dropdown() to create a widget and dbutils.widgets.get() to get its bound value.</span>
<span class="c1">// dbutils.widgets.getArgument(&quot;fruits_combobox&quot;, &quot;Error: Cannot find fruits combobox&quot;)</span>
<span class="c1">//                 ^</span>
<span class="c1">// res7: String = banana</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="multiselect-command-dbutilswidgetsmultiselect">
<span id="dbutils-widgets-multiselect"></span><h3>multiselect command (dbutils.widgets.multiselect)<a class="headerlink" href="#multiselect-command-dbutilswidgetsmultiselect" title="Permalink to this headline"> </a></h3>
<p>Creates and displays a multiselect widget with the specified programmatic name, default value, choices, and optional label.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.widgets.help(&quot;multiselect&quot;)</span></code>.</p>
<p>This example creates and displays a multiselect widget with the programmatic name <code class="docutils literal notranslate"><span class="pre">days_multiselect</span></code>. It offers the choices <code class="docutils literal notranslate"><span class="pre">Monday</span></code> through <code class="docutils literal notranslate"><span class="pre">Sunday</span></code> and is set to the initial value of <code class="docutils literal notranslate"><span class="pre">Tuesday</span></code>. This multiselect widget has an accompanying label <code class="docutils literal notranslate"><span class="pre">Days</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">Week</span></code>. This example ends by printing the initial value of the multiselect widget, <code class="docutils literal notranslate"><span class="pre">Tuesday</span></code>.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">multiselect</span><span class="p">(</span>
  <span class="n">name</span><span class="o">=</span><span class="s1">&#39;days_multiselect&#39;</span><span class="p">,</span>
  <span class="n">defaultValue</span><span class="o">=</span><span class="s1">&#39;Tuesday&#39;</span><span class="p">,</span>
  <span class="n">choices</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Monday&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Wednesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Thursday&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Friday&#39;</span><span class="p">,</span> <span class="s1">&#39;Saturday&#39;</span><span class="p">,</span> <span class="s1">&#39;Sunday&#39;</span><span class="p">],</span>
  <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Days of the Week&#39;</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">dbutils</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;days_multiselect&quot;</span><span class="p">))</span>

<span class="c1"># Tuesday</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.widgets.multiselect</span><span class="p">(</span>
<span class="w">  </span><span class="n">name</span><span class="o">=</span><span class="s">&#39;days_multiselect&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="n">defaultValue</span><span class="o">=</span><span class="s">&#39;Tuesday&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="n">choices</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="s">&#39;Monday&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;Tuesday&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;Wednesday&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;Thursday&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s">&#39;Friday&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;Saturday&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;Sunday&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="n">label</span><span class="o">=</span><span class="s">&#39;Days of the Week&#39;</span>
<span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="nf">dbutils.widgets.get</span><span class="p">(</span><span class="s">&quot;days_multiselect&quot;</span><span class="p">))</span>

<span class="c1"># [1] &quot;Tuesday&quot;</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">widgets</span><span class="p">.</span><span class="n">multiselect</span><span class="p">(</span>
<span class="w">  </span><span class="s">&quot;days_multiselect&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="s">&quot;Tuesday&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nc">Array</span><span class="p">(</span><span class="s">&quot;Monday&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Tuesday&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Wednesday&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Thursday&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s">&quot;Friday&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Saturday&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Sunday&quot;</span><span class="p">),</span>
<span class="w">  </span><span class="s">&quot;Days of the Week&quot;</span>
<span class="p">)</span>

<span class="n">print</span><span class="p">(</span><span class="n">dbutils</span><span class="p">.</span><span class="n">widgets</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;days_multiselect&quot;</span><span class="p">))</span>

<span class="c1">// Tuesday</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="remove-command-dbutilswidgetsremove">
<span id="dbutils-widgets-remove"></span><h3>remove command (dbutils.widgets.remove)<a class="headerlink" href="#remove-command-dbutilswidgetsremove" title="Permalink to this headline"> </a></h3>
<p>Removes the widget with the specified programmatic name.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.widgets.help(&quot;remove&quot;)</span></code>.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If you add a command to remove a widget, you cannot add a subsequent command to create a widget in the same cell. You must create the widget in another cell.</p>
</div>
<p>This example removes the widget with the programmatic name <code class="docutils literal notranslate"><span class="pre">fruits_combobox</span></code>.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;fruits_combobox&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.widgets.remove</span><span class="p">(</span><span class="s">&#39;fruits_combobox&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">widgets</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="s">&quot;fruits_combobox&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="removeall-command-dbutilswidgetsremoveall">
<span id="dbutils-widgets-removeall"></span><h3>removeAll command (dbutils.widgets.removeAll)<a class="headerlink" href="#removeall-command-dbutilswidgetsremoveall" title="Permalink to this headline"> </a></h3>
<p>Removes all widgets from the notebook.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.widgets.help(&quot;removeAll&quot;)</span></code>.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If you add a command to remove all widgets, you cannot add a subsequent command to create any widgets in the same cell. You must create the widgets in another cell.</p>
</div>
<p>This example removes all widgets from the notebook.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">removeAll</span><span class="p">()</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.widgets.removeAll</span><span class="p">()</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">widgets</span><span class="p">.</span><span class="n">removeAll</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="text-command-dbutilswidgetstext">
<span id="dbutils-widgets-text"></span><h3>text command (dbutils.widgets.text)<a class="headerlink" href="#text-command-dbutilswidgetstext" title="Permalink to this headline"> </a></h3>
<p>Creates and displays a text widget with the specified programmatic name, default value, and optional label.</p>
<p>To display help for this command, run <code class="docutils literal notranslate"><span class="pre">dbutils.widgets.help(&quot;text&quot;)</span></code>.</p>
<p>This example creates and displays a text widget with the programmatic name <code class="docutils literal notranslate"><span class="pre">your_name_text</span></code>. It is set to the initial value of <code class="docutils literal notranslate"><span class="pre">Enter</span> <span class="pre">your</span> <span class="pre">name</span></code>. This text widget has an accompanying label <code class="docutils literal notranslate"><span class="pre">Your</span> <span class="pre">name</span></code>. This example ends by printing the initial value of the text widget, <code class="docutils literal notranslate"><span class="pre">Enter</span> <span class="pre">your</span> <span class="pre">name</span></code>.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
  <span class="n">name</span><span class="o">=</span><span class="s1">&#39;your_name_text&#39;</span><span class="p">,</span>
  <span class="n">defaultValue</span><span class="o">=</span><span class="s1">&#39;Enter your name&#39;</span><span class="p">,</span>
  <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Your name&#39;</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">dbutils</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;your_name_text&quot;</span><span class="p">))</span>

<span class="c1"># Enter your name</span>
</pre></div>
</div>
<div class="compound-middle highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">dbutils.widgets.text</span><span class="p">(</span>
<span class="w">  </span><span class="n">name</span><span class="o">=</span><span class="s">&#39;your_name_text&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="n">defaultValue</span><span class="o">=</span><span class="s">&#39;Enter your name&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="n">label</span><span class="o">=</span><span class="s">&#39;Your name&#39;</span>
<span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="nf">dbutils.widgets.get</span><span class="p">(</span><span class="s">&quot;your_name_text&quot;</span><span class="p">))</span>

<span class="c1"># [1] &quot;Enter your name&quot;</span>
</pre></div>
</div>
<div class="compound-last highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="p">.</span><span class="n">widgets</span><span class="p">.</span><span class="n">text</span><span class="p">(</span>
<span class="w">  </span><span class="s">&quot;your_name_text&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="s">&quot;Enter your name&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="s">&quot;Your name&quot;</span>
<span class="p">)</span>

<span class="n">print</span><span class="p">(</span><span class="n">dbutils</span><span class="p">.</span><span class="n">widgets</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;your_name_text&quot;</span><span class="p">))</span>

<span class="c1">// Enter your name</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="databricks-utilities-api-library">
<span id="widgets-utility-dbutilswidgets"></span><span id="dbutils-api"></span><h2>Databricks Utilities API library<a class="headerlink" href="#databricks-utilities-api-library" title="Permalink to this headline"> </a></h2>
<p>To accelerate application development, it can be helpful to compile, build, and test applications before you deploy them as production jobs. To enable you to compile against Databricks Utilities, Databricks provides the <code class="docutils literal notranslate"><span class="pre">dbutils-api</span></code> library. You can download the <code class="docutils literal notranslate"><span class="pre">dbutils-api</span></code> library from the <a class="reference external" href="https://mvnrepository.com/artifact/com.databricks/dbutils-api">DBUtils API</a> webpage on the Maven Repository website or include the library by adding a dependency to your build file:</p>
<ul>
<li><p>SBT</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">libraryDependencies</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s">&quot;com.databricks&quot;</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="s">&quot;dbutils-api_TARGET&quot;</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="s">&quot;VERSION&quot;</span>
</pre></div>
</div>
</li>
<li><p>Maven</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>com.databricks<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>dbutils-api_TARGET<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;version&gt;</span>VERSION<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</pre></div>
</div>
</li>
<li><p>Gradle</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>compile<span class="w"> </span><span class="s1">&#39;com.databricks:dbutils-api_TARGET:VERSION&#39;</span>
</pre></div>
</div>
</li>
</ul>
<p>Replace <code class="docutils literal notranslate"><span class="pre">TARGET</span></code> with the desired target (for example <code class="docutils literal notranslate"><span class="pre">2.12</span></code>) and <code class="docutils literal notranslate"><span class="pre">VERSION</span></code> with the desired version (for example <code class="docutils literal notranslate"><span class="pre">0.0.5</span></code>). For a list of available targets and versions, see the <a class="reference external" href="https://mvnrepository.com/artifact/com.databricks/dbutils-api">DBUtils API</a> webpage on the Maven Repository website.</p>
<p>Once you build your application against this library, you can deploy the application.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The <code class="docutils literal notranslate"><span class="pre">dbutils-api</span></code> library allows you to locally compile an application that uses <code class="docutils literal notranslate"><span class="pre">dbutils</span></code>, but not to run it. To run the application, you must deploy it in Databricks.</p>
</div>
</div>
<div class="section" id="limitations">
<h2>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline"> </a></h2>
<p>Calling <code class="docutils literal notranslate"><span class="pre">dbutils</span></code> inside of executors can produce unexpected results or potentially result in errors.</p>
<p>If you need to run file system operations on executors using <code class="docutils literal notranslate"><span class="pre">dbutils</span></code>, there are several faster and more scalable alternatives available:</p>
<ul class="simple">
<li><p>For file copy or move operations, you can check a faster option of running filesystem operations described in <a class="reference external" href="https://kb.databricks.com/dbfs/parallelize-fs-operations.html">Parallelize filesystem operations</a>.</p></li>
<li><p>For file system list and delete operations, you can refer to parallel listing and delete methods utilizing Spark in <a class="reference external" href="https://kb.databricks.com/data/list-delete-files-faster.html">How to list and delete files faster in Databricks</a>.</p></li>
</ul>
<p>For information about executors, see <a class="reference external" href="https://spark.apache.org/docs/latest/cluster-overview.html">Cluster Mode Overview</a> on the Apache Spark website.</p>
</div>
</div>


    
          </div>
        </div>
        <div  class="suapp-rating">
  <div id="suPageRateApp">
     <su-app></su-app>
   </div> 
 </div>
<hr> 
<footer>
  <div role="contentinfo">
      <p class="copyright">
          &copy; Databricks 2023. All rights reserved. Apache, Apache Spark, Spark, and the Spark logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a>.
      </p>
      <p> 
        
          <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
        
     | <a href="https://databricks.com/privacy-policy">Privacy Policy</a> | <a href="https://databricks.com/terms-of-use">Terms of Use</a></p>

  </div> 

</footer>
      </div>
    </div>
  </section>
</main>

  </page>
  
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT: '../',
      VERSION: '1.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE: 'false'
    };
  </script>
  <script type="text/javascript" src="../_static/jquery.js"></script>
  <script type="text/javascript" src="../_static/underscore.js"></script>
  <script type="text/javascript" src="../_static/doctools.js"></script>
  <script type="text/javascript" src="../_static/language_data.js"></script>
  

  <script type="text/javascript" src="../_static/js/clipboard.min.js"></script>
  <script type="text/javascript" src="../_static/js/jquery.waypoints.min.js"></script>

  <!-- Select2 (https://select2.org/) -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <!-- End Select2 -->

  
  
  <script type="text/javascript" src="../_static/js/localized.js"></script>
  <script type="text/javascript" src="../_static/js/custom.js"></script>
  

  
  
  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.StickyNav.enable();
    });

  </script>
  
 



  <script>
  window.__searchunifyLoaderConfig = JSON.parse('{"clients": {"en": "02c2e804-27e9-11ee-aefb-0242ac120011", "ja": "6a42c3f2-2820-11ee-aefb-0242ac120011", "pt": "6a86badd-2821-11ee-aefb-0242ac120011"}}')
</script>
<script type="text/javascript" src="../_static/js/search-loader.js"></script>
</body>
<script type='text/javascript'>
  window.onload = function () {
    var description = document.querySelector('meta[name="description"]').getAttribute("content");
    let titleText = document.querySelector('h1').textContent;
    document.querySelector('meta[property="og:title"]').setAttribute("content", titleText);
    document.querySelector('meta[property="og:description"]').setAttribute("content", description);
    document.querySelector('meta[property="twitter:description"]').setAttribute("content", description);
  };
</script>

</html>