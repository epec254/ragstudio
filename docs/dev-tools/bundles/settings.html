

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en-US" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en-US"> <!--<![endif]-->

<head>
  <!-- cookie consent -->
  
    <!-- Combined Onetrust and Rudderstack Implementation Scripts -->
    <!-- Onetrust Initialization -->
    <script type="text/javascript" src="https://cdn.cookielaw.org/consent/92466579-1717-44d3-809d-a05fb02843ed-test/OtAutoBlock.js"></script>
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="92466579-1717-44d3-809d-a05fb02843ed-test"></script>
    <link rel="stylesheet" id="db-onetrust-style" href="https://www.databricks.com/wp-content/uploads/db_onetrust.css" media="all" />
    <!-- Setting Rudderstack Write Key -->
    <script>window.rudderstackKey = "2SOR9fvSr5Fi6tN2ihPbVHnX1SZ" </script>
    <!-- Rudderstack Initialization + Onetrust Integration + Rudderstack Custom Events -->
    <script type="text/javascript" src="https://www.databricks.com/sites/default/files/rudderstack/v1/db-rudderstack-events.js"></script>

  <!-- cookie consent -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta content="Learn about the syntax for creating Databricks Asset Bundle configuration files. Bundles enable programmatic management of Databricks workflows." name="description" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta property="og:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:title" content="Databricks Asset Bundle configurations">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://docs.databricks.com">
  <meta property="og:description" content="" id="og-description">
  <meta name="twitter:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta name="twitter:site" content="@databricks">
  <meta name="twitter:creator" content="@databricks">
  <meta property="twitter:description" content="">
  
  <title>Databricks Asset Bundle configurations &#124; Databricks on AWS</title>
  
  
  <link rel="canonical" href="https://docs.databricks.com/en/dev-tools/bundles/settings.html">
  <!-- Start hreflang tag -->
  <link rel="alternate" hreflang="en" href="https://docs.databricks.com/en/dev-tools/bundles/settings.html" />
<link rel="alternate" hreflang="x-default" href="https://docs.databricks.com/en/dev-tools/bundles/settings.html" />
  <!-- End hreflang tag -->
  
  
  <link rel="shortcut icon" href="../../_static/favicon.ico" />
  

  

  

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T85FQ33');</script>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWTKQQ');</script>
    
  <!-- End Google Tag Manager -->


  <!-- MaxMind / GEO IP -->
  <script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>
  <!-- End MaxMind / GEO IP -->

  
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600&display=swap" rel="stylesheet">
  <link rel="preload" href="../../_static/fonts/DMSans-Bold.ttf" as="font">
  <link rel="preload" href="../../_static/fonts/DMSans-Regular.ttf" as="font">
  <link rel="preload" href="../../_static/fonts/DMMono-Regular.ttf" as="font">
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/cloud-provider-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/translation-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/searchunify/main.css" type="text/css" />

  
  <link rel="index" title="Index" href="../../genindex.html" />
  <link rel="search" title="Search" href="../../search.html" />
  <link rel="top" title="Databricks on AWS" href="../../index.html" /> 
</head>

<body class="wy-body-for-nav" role="document">

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T85FQ33"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWTKQQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  
  <nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
    
<nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
  <div class="container-logo">
    <ul class="mobile-menu-toggle">
        <li class="menu-toggle">
            <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
            
            <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
              alt="Databricks" /></a>   
               
              </li>
    </ul>
    <ul class="su_nav-menu">
      <li class="menu-toggle">
        <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
        
          
        
        <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
            alt="Databricks" /></a></li>
        <!-- 
<li><a href="https://help.databricks.com/s/">Help Center</a></li>
<li class="active"><a href="https://docs.databricks.com/en/">Documentation</a></li>
<li><a href="https://kb.databricks.com/">Knowledge Base</a></li>
 -->
    </ul>
  </div>
  <div class="su_nav-right">
    <ul class="su_link-mobile">
  <!-- Mobile header code can go here -->
</ul>
<ul class="right-try-list">
   
</ul>
  </div>
</nav>
  </nav>

  <div class="su_sub-header">
    <div class="container">
      <div class="su_sub-header-inner">
        <!-- <div class="su_subnav-menu-right">
  <div id="auto" style="width: 100%;">
    <div ng-controller="SearchautoController">
      <div bind-html-compile="autocompleteHtml">
        <form class="su__search-box-1" disabled="disabled">
          <input class="su__search-input" type="search" name="Search box" id="su__search-b" placeholder="Search Documentation" disabled="disabled"/>
          <button class="su__search-button" type="submit" class="button button-success" disabled="disabled">
            <svg width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                fill="#333"></path>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>
</div> -->
        <div class="search-lng-gap"></div>
        <div style="margin-left: 16px; margin-right: 16px;">
          <!-- <select name="lng selector" id="lng-selector">
    <option value="../../../en/dev-tools/bundles/settings.html" class="notranslate">English</option>
    <option value="../../../ja/dev-tools/bundles/settings.html" class="notranslate">日本語</option>
    <option value="../../../pt/dev-tools/bundles/settings.html" class="notranslate">Português (Brasil)</option>
</select> -->
        </div>
        <div class="cloud-selector-container">
          <!-- <select name="cloud provider selector" id="cloud-provider-selector">
    <option value="aws" selected class="notranslate">
        Amazon Web Services
    </option>
    <option value="azure"  class="notranslate">
        Microsoft Azure
    </option>
    <option value="gcp"  class="notranslate">
        Google Cloud Platform
    </option>
</select> -->
        </div>
      </div>
    </div>
  </div>
  <page class="js-page-container">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side su_nav-side">
<div class="wy-side-scroll">
  <div class="wy-side-nav-search">
    

    

    

    
  </div>

  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      <a href="../../index.html" class="main-navigation-home">Databricks on AWS</a>
    

    
      

      
        <p class="caption"><span class="caption-text">Load &amp; manage data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rag-temp/index.html">RAG Studio</a></li>
</ul>

      
    
  </div>

  <div role="contentinfo">
    
  <p class="build_info notranslate"data-last-edit="December 23, 2023">
    Updated Jan 11, 2024
  </p>
<script>
  window.addEventListener('DOMContentLoaded',function(){
    var h1=document.querySelector('h1');
    var bi=document.querySelector('[data-last-edit]');
    if(h1 && bi){
      var ver = document.createElement('p');
      ver.className = 'version_info';
      ver.textContent = bi.getAttribute('data-last-edit');
      h1.parentElement.insertBefore(ver, h1.nextElementSibling);
    }
  });
</script>

    <p>
      
        <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
      
    </p>
  </div>
</div>
</nav>
    
    
<main class="wy-grid-for-nav su_nav-grid">
  <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
    <div class="wy-nav-content su__nav_content">
      <div class="rst-content">
        





<div role="navigation" aria-label="breadcrumbs navigation" class="wy-breadcrumbs-wrapper">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Documentation</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
    
      <li>Databricks Asset Bundle configurations</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>
</div>
        
        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
          <div itemprop="articleBody">
            
    
  <div class="section" id="databricks-asset-bundle-configurations">
<h1>Databricks Asset Bundle configurations<a class="headerlink" href="#databricks-asset-bundle-configurations" title="Permalink to this headline"> </a></h1>
<div class="preview admonition">
<p class="admonition-title">Preview</p>
<p>This feature is in <a class="reference internal" href="../../release-notes/release-types.html"><span class="doc">Public Preview</span></a>.</p>
</div>
<p>This article describes the syntax for <em>Databricks Asset Bundle configuration files</em>, which define Databricks Asset Bundles. See <a class="reference internal" href="index.html"><span class="doc">What are Databricks Asset Bundles?</span></a></p>
<p>A bundle configuration file must be expressed in YAML format and must contain at minimum the top-level <a class="reference internal" href="#bundle-syntax-mappings-bundle"><span class="std std-ref">bundle</span></a> mapping. Each bundle must contain at minimum one (and only one) bundle configuration file named <code class="docutils literal notranslate"><span class="pre">databricks.yml</span></code>. If there are multiple bundle configuration files, they must be referenced by the <code class="docutils literal notranslate"><span class="pre">databricks.yml</span></code> file.</p>
<p>For more information about YAML, see the official YAML <a class="reference external" href="https://yaml.org/spec/">specification</a> and <a class="reference external" href="https://learnxinyminutes.com/docs/yaml/">tutorial</a>.</p>
<p>To create and work with bundle configuration files, see <a class="reference internal" href="work-tasks.html"><span class="doc">Databricks Asset Bundles development work tasks</span></a>.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id2">Overview</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id3">Examples</a></p></li>
<li><p><a class="reference internal" href="#mappings" id="id4">Mappings</a></p></li>
<li><p><a class="reference internal" href="#custom-variables" id="id5">Custom variables</a></p></li>
<li><p><a class="reference internal" href="#git-settings" id="id6">Git settings</a></p></li>
<li><p><a class="reference internal" href="#substitutions" id="id7">Substitutions</a></p></li>
</ul>
</div>
<div class="section" id="overview">
<span id="bundle-syntax-overview"></span><h2><a class="toc-backref" href="#id2">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline"> </a></h2>
<p>This section provides a visual representation of the bundle configuration file schema. For details, see <a class="reference internal" href="#bundle-syntax-mappings"><span class="std std-ref">Mappings</span></a>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># These is the default bundle configuration if not otherwise overridden in</span>
<span class="c1"># the &quot;targets&quot; top-level mapping.</span>
<span class="nt">bundle</span><span class="p">:</span><span class="w"> </span><span class="c1"># Required.</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w"> </span><span class="c1"># Required.</span>
<span class="w">  </span><span class="nt">compute_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">  </span><span class="nt">git</span><span class="p">:</span>
<span class="w">    </span><span class="nt">origin_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">    </span><span class="nt">branch</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>

<span class="c1"># These are for any custom variables for use throughout the bundle.</span>
<span class="nt">variables</span><span class="p">:</span>
<span class="w">  </span><span class="nt">&lt;some-unique-variable-name&gt;</span><span class="p">:</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">    </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>

<span class="c1"># These are the default workspace settings if not otherwise overridden in</span>
<span class="c1"># the following &quot;targets&quot; top-level mapping.</span>
<span class="nt">workspace</span><span class="p">:</span>
<span class="w">  </span><span class="nt">artifact_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">  </span><span class="nt">auth_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">  </span><span class="nt">azure_client_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w"> </span><span class="c1"># For Azure Databricks only.</span>
<span class="w">  </span><span class="nt">azure_environment</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w"> </span><span class="c1"># For Azure Databricks only.</span>
<span class="w">  </span><span class="nt">azure_login_app_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w"> </span><span class="c1"># For Azure Databricks only. Non-operational and reserved for future use.</span>
<span class="w">  </span><span class="nt">azure_tenant_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w"> </span><span class="c1"># For Azure Databricks only.</span>
<span class="w">  </span><span class="nt">azure_use_msi</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true | false</span><span class="w"> </span><span class="c1"># For Azure Databricks only.</span>
<span class="w">  </span><span class="nt">azure_workspace_resource_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w"> </span><span class="c1"># For Azure Databricks only.</span>
<span class="w">  </span><span class="nt">client_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w"> </span><span class="c1"># For Databricks on AWS only.</span>
<span class="w">  </span><span class="nt">file_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">  </span><span class="nt">google_service_account</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w"> </span><span class="c1"># For Databricks on Google Cloud only.</span>
<span class="w">  </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">  </span><span class="nt">profile</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">  </span><span class="nt">root_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">  </span><span class="nt">state_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>

<span class="c1"># These are the default artifact settings if not otherwise overridden in</span>
<span class="c1"># the following &quot;targets&quot; top-level mapping.</span>
<span class="nt">artifacts</span><span class="p">:</span>
<span class="w">  </span><span class="nt">&lt;some-unique-artifact-identifier&gt;</span><span class="p">:</span>
<span class="w">    </span><span class="nt">build</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">    </span><span class="nt">files</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">source</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>

<span class="c1"># These are any additional configuration files to include.</span>
<span class="nt">include</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;&lt;some-file-or-path-glob-to-include&gt;&quot;</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;&lt;another-file-or-path-glob-to-include&gt;&quot;</span>

<span class="c1"># These are the default job and pipeline settings if not otherwise overridden in</span>
<span class="c1"># the following &quot;targets&quot; top-level mapping.</span>
<span class="nt">resources</span><span class="p">:</span>
<span class="w">  </span><span class="nt">experiments</span><span class="p">:</span>
<span class="w">    </span><span class="nt">&lt;some-unique-programmatic-identifier-for-this-experiment&gt;</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># See the Experiments API&#39;s create experiment request payload reference.</span>
<span class="w">  </span><span class="nt">jobs</span><span class="p">:</span>
<span class="w">    </span><span class="nt">&lt;some-unique-programmatic-identifier-for-this-job&gt;</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># See the Jobs API&#39;s create job request payload reference.</span>
<span class="w">  </span><span class="nt">models</span><span class="p">:</span>
<span class="w">    </span><span class="nt">&lt;some-unique-programmatic-identifier-for-this-model&gt;</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># See the Models API&#39;s create model request payload reference.</span>
<span class="w">  </span><span class="nt">pipelines</span><span class="p">:</span>
<span class="w">    </span><span class="nt">&lt;some-unique-programmatic-identifier-for-this-pipeline&gt;</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># See the Delta Live Tables API&#39;s create pipeline request payload reference.</span>

<span class="c1"># These are any additional files or paths to include or exclude.</span>
<span class="nt">sync</span><span class="p">:</span>
<span class="w">  </span><span class="nt">include</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;&lt;some-file-or-path-glob-to-include&gt;&quot;</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;&lt;another-file-or-path-glob-to-include&gt;&quot;</span>
<span class="w">  </span><span class="nt">exclude</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;&lt;some-file-or-path-glob-to-exclude&gt;&quot;</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;&lt;another-file-or-path-glob-to-exclude&gt;&quot;</span>

<span class="c1"># These are the targets to use for deployments and workflow runs. One and only one of these</span>
<span class="c1"># targets can be set to &quot;default: true&quot;.</span>
<span class="nt">targets</span><span class="p">:</span>
<span class="w">  </span><span class="nt">&lt;some-unique-programmatic-identifier-for-this-target&gt;</span><span class="p">:</span>
<span class="w">    </span><span class="nt">artifacts</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># See the preceding &quot;artifacts&quot; syntax.</span>
<span class="w">    </span><span class="nt">bundle</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># See the preceding &quot;bundle&quot; syntax.</span>
<span class="w">    </span><span class="nt">compute_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">    </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true | false</span>
<span class="w">    </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">development</span>
<span class="w">    </span><span class="nt">resources</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># See the preceding &quot;resources&quot; syntax.</span>
<span class="w">    </span><span class="nt">sync</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># See the preceding &quot;sync&quot; syntax.</span>
<span class="w">    </span><span class="nt">variables</span><span class="p">:</span>
<span class="w">      </span><span class="nt">&lt;preceding-unique-variable-name&gt;</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;non-default-value&gt;</span>
<span class="w">    </span><span class="nt">workspace</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># See the preceding &quot;workspace&quot; syntax.</span>
</pre></div>
</div>
</div>
<div class="section" id="examples">
<span id="bundle-syntax-examples"></span><h2><a class="toc-backref" href="#id3">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline"> </a></h2>
<p>Following is an example bundle configuration file. This bundle specifies the remote deployment of a local file named <code class="docutils literal notranslate"><span class="pre">hello.py</span></code> that is in the same directory as this local bundle configuration file named <code class="docutils literal notranslate"><span class="pre">databricks.yml</span></code>. It runs this notebook as a job by using the remote cluster with the specified cluster ID. The remote workspace URL and workspace authentication credentials are read from the caller’s local configuration profile named <code class="docutils literal notranslate"><span class="pre">DEFAULT</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Databricks recommends that you use the <code class="docutils literal notranslate"><span class="pre">host</span></code> mapping instead of the <code class="docutils literal notranslate"><span class="pre">default</span></code> mapping wherever possible, as this makes your bundle configuration files more portable. Setting the <code class="docutils literal notranslate"><span class="pre">host</span></code> mapping instructs the Databricks CLI to find a matching profile in your <code class="docutils literal notranslate"><span class="pre">.databrickscfg</span></code> file and then use that profile’s fields to determine which Databricks authentication type to use.  If multiple profiles with a matching <code class="docutils literal notranslate"><span class="pre">host</span></code> field exist within your <code class="docutils literal notranslate"><span class="pre">.databrickscfg</span></code> file, then you must use the <code class="docutils literal notranslate"><span class="pre">profile</span></code> to instruct the Databricks CLI about which specific profile to use. For an example, see the <code class="docutils literal notranslate"><span class="pre">prod</span></code> target declaration later in this section.</p>
</div>
<p>This technique enables you to reuse as well as to override the job definitions and settings within the <code class="docutils literal notranslate"><span class="pre">resources</span></code> block:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">bundle</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello-bundle</span>

<span class="nt">resources</span><span class="p">:</span>
<span class="w">  </span><span class="nt">jobs</span><span class="p">:</span>
<span class="w">    </span><span class="nt">hello-job</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello-job</span>
<span class="w">      </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">task_key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello-task</span>
<span class="w">          </span><span class="nt">existing_cluster_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1234-567890-abcde123</span>
<span class="w">          </span><span class="nt">notebook_task</span><span class="p">:</span>
<span class="w">            </span><span class="nt">notebook_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./hello.py</span>

<span class="nt">targets</span><span class="p">:</span>
<span class="w">  </span><span class="nt">dev</span><span class="p">:</span>
<span class="w">    </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
<p>While the following bundle configuration file is functionally equivalent, it is not modularized, which does not enable good reuse. Also, this declaration appends a task to the job rather the overriding the existing job:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">bundle</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello-bundle</span>

<span class="nt">targets</span><span class="p">:</span>
<span class="w">  </span><span class="nt">dev</span><span class="p">:</span>
<span class="w">    </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">resources</span><span class="p">:</span>
<span class="w">      </span><span class="nt">jobs</span><span class="p">:</span>
<span class="w">        </span><span class="nt">hello-job</span><span class="p">:</span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello-job</span>
<span class="w">          </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">task_key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello-task</span>
<span class="w">              </span><span class="nt">existing_cluster_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1234-567890-abcde123</span>
<span class="w">              </span><span class="nt">notebook_task</span><span class="p">:</span>
<span class="w">                </span><span class="nt">notebook_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./hello.py</span>
</pre></div>
</div>
<p>Following is the previous modularized example but with the addition of a target with the programmatic (or logical) name <code class="docutils literal notranslate"><span class="pre">prod</span></code> that uses a different remote workspace URL and workspace authentication credentials, which are read from the caller’s <code class="docutils literal notranslate"><span class="pre">.databrickscfg</span></code> file’s matching <code class="docutils literal notranslate"><span class="pre">host</span></code> entry with the specified workspace URL. This job runs the same notebook but uses a different remote cluster with the specified cluster ID. Notice that you do not need to declare the <code class="docutils literal notranslate"><span class="pre">notebook_task</span></code> mapping within the <code class="docutils literal notranslate"><span class="pre">prod</span></code> mapping, as it falls back to use the <code class="docutils literal notranslate"><span class="pre">notebook_task</span></code> mapping within the top-level <code class="docutils literal notranslate"><span class="pre">resources</span></code> mapping, if the <code class="docutils literal notranslate"><span class="pre">notebook_task</span></code> mapping is not explicitly overridden within the <code class="docutils literal notranslate"><span class="pre">prod</span></code> mapping.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">bundle</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello-bundle</span>

<span class="nt">resources</span><span class="p">:</span>
<span class="w">  </span><span class="nt">jobs</span><span class="p">:</span>
<span class="w">    </span><span class="nt">hello-job</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello-job</span>
<span class="w">      </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">task_key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello-task</span>
<span class="w">          </span><span class="nt">existing_cluster_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1234-567890-abcde123</span>
<span class="w">          </span><span class="nt">notebook_task</span><span class="p">:</span>
<span class="w">            </span><span class="nt">notebook_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./hello.py</span>

<span class="nt">targets</span><span class="p">:</span>
<span class="w">  </span><span class="nt">dev</span><span class="p">:</span>
<span class="w">    </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">prod</span><span class="p">:</span>
<span class="w">    </span><span class="nt">workspace</span><span class="p">:</span>
<span class="w">      </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://&lt;production-workspace-url&gt;</span>
<span class="w">    </span><span class="nt">resources</span><span class="p">:</span>
<span class="w">      </span><span class="nt">jobs</span><span class="p">:</span>
<span class="w">        </span><span class="nt">hello-job</span><span class="p">:</span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello-job</span>
<span class="w">          </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">task_key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello-task</span>
<span class="w">              </span><span class="nt">existing_cluster_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2345-678901-fabcd456</span>
</pre></div>
</div>
<p>To validate, deploy, and run this job within the <code class="docutils literal notranslate"><span class="pre">dev</span></code> target, run the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Because the &quot;dev&quot; target is set to &quot;default: true&quot;,</span>
<span class="c1"># you do not need to specify &quot;-t dev&quot;:</span>
databricks<span class="w"> </span>bundle<span class="w"> </span>validate
databricks<span class="w"> </span>bundle<span class="w"> </span>deploy
databricks<span class="w"> </span>bundle<span class="w"> </span>run<span class="w"> </span>hello_job

<span class="c1"># But you can still explicitly specify it, if you want or need to:</span>
databricks<span class="w"> </span>bundle<span class="w"> </span>validate
databricks<span class="w"> </span>bundle<span class="w"> </span>deploy<span class="w"> </span>-t<span class="w"> </span>dev
databricks<span class="w"> </span>bundle<span class="w"> </span>run<span class="w"> </span>-t<span class="w"> </span>dev<span class="w"> </span>hello_job
</pre></div>
</div>
<p>To validate, deploy, and run this job within the <code class="docutils literal notranslate"><span class="pre">prod</span></code> target instead, run the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># You must specify &quot;-t prod&quot;, because the &quot;dev&quot; target</span>
<span class="c1"># is already set to &quot;default: true&quot;:</span>
databricks<span class="w"> </span>bundle<span class="w"> </span>validate
databricks<span class="w"> </span>bundle<span class="w"> </span>deploy<span class="w"> </span>-t<span class="w"> </span>prod
databricks<span class="w"> </span>bundle<span class="w"> </span>run<span class="w"> </span>-t<span class="w"> </span>prod<span class="w"> </span>hello_job
</pre></div>
</div>
<p>Following is the previous example but split up into component files for even more modularization and better reuse across multiple bundle configuration files. This technique enables you to not only reuse various definitions and settings, but you can also swap out any of these files with other files that provide completely different declarations:</p>
<p><code class="docutils literal notranslate"><span class="pre">databricks.yml</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">bundle</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello-bundle</span>

<span class="nt">include</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;bundle*.yml&quot;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">bundle.resources.yml</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">resources</span><span class="p">:</span>
<span class="w">  </span><span class="nt">jobs</span><span class="p">:</span>
<span class="w">    </span><span class="nt">hello-job</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello-job</span>
<span class="w">      </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">task_key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello-task</span>
<span class="w">          </span><span class="nt">existing_cluster_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1234-567890-abcde123</span>
<span class="w">          </span><span class="nt">notebook_task</span><span class="p">:</span>
<span class="w">            </span><span class="nt">notebook_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./hello.py</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">bundle.targets.yml</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">targets</span><span class="p">:</span>
<span class="w">  </span><span class="nt">dev</span><span class="p">:</span>
<span class="w">    </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">prod</span><span class="p">:</span>
<span class="w">    </span><span class="nt">workspace</span><span class="p">:</span>
<span class="w">      </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://&lt;production-workspace-url&gt;</span>
<span class="w">    </span><span class="nt">resources</span><span class="p">:</span>
<span class="w">      </span><span class="nt">jobs</span><span class="p">:</span>
<span class="w">        </span><span class="nt">hello-job</span><span class="p">:</span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello-job</span>
<span class="w">          </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">task_key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello-task</span>
<span class="w">              </span><span class="nt">existing_cluster_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2345-678901-fabcd456</span>
</pre></div>
</div>
<p>For more examples, see the <a class="reference external" href="https://github.com/databricks/bundle-examples">bundle examples repository in GitHub</a>.</p>
</div>
<div class="section" id="mappings">
<span id="bundle-syntax-mappings"></span><h2><a class="toc-backref" href="#id4">Mappings</a><a class="headerlink" href="#mappings" title="Permalink to this headline"> </a></h2>
<p>The following sections describe the bundle configuration file syntax, by top-level mapping.</p>
<div class="contents local topic" id="id1">
<ul class="simple">
<li><p><a class="reference internal" href="#bundle" id="id8">bundle</a></p></li>
<li><p><a class="reference internal" href="#variables" id="id9">variables</a></p></li>
<li><p><a class="reference internal" href="#workspace" id="id10">workspace</a></p></li>
<li><p><a class="reference internal" href="#artifacts" id="id11">artifacts</a></p></li>
<li><p><a class="reference internal" href="#include" id="id12">include</a></p></li>
<li><p><a class="reference internal" href="#resources" id="id13">resources</a></p></li>
<li><p><a class="reference internal" href="#sync" id="id14">sync</a></p></li>
<li><p><a class="reference internal" href="#targets" id="id15">targets</a></p></li>
</ul>
</div>
<div class="section" id="bundle">
<span id="bundle-syntax-mappings-bundle"></span><h3><a class="toc-backref" href="#id8">bundle</a><a class="headerlink" href="#bundle" title="Permalink to this headline"> </a></h3>
<p>A bundle configuration file must contain only one top-level <code class="docutils literal notranslate"><span class="pre">bundle</span></code> mapping that associates the bundle’s contents and Databricks workspace settings.</p>
<p>This <code class="docutils literal notranslate"><span class="pre">bundle</span></code> mapping must contain a <code class="docutils literal notranslate"><span class="pre">name</span></code> mapping that specifies a programmatic (or logical) name for the bundle. The following example declares a bundle with the programmatic (or logical) name <code class="docutils literal notranslate"><span class="pre">hello-bundle</span></code>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">bundle</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello-bundle</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">bundle</span></code> mapping can have a child <code class="docutils literal notranslate"><span class="pre">compute_id</span></code> mapping. This mapping enables you to specify the ID of a cluster to use as an override for any and all clusters defined elsewhere in the bundle configuration file. This override is intended for development-only scenarios prior to production. The <code class="docutils literal notranslate"><span class="pre">compute_id</span></code> mapping works only for the target that has its <code class="docutils literal notranslate"><span class="pre">mode</span></code> mapping set to <code class="docutils literal notranslate"><span class="pre">development</span></code>. For more information about the <code class="docutils literal notranslate"><span class="pre">compute_id</span></code> mapping, see the <a class="reference internal" href="#bundle-syntax-mappings-targets"><span class="std std-ref">targets</span></a> mapping.</p>
<p>The bundle configuration file can also contain a top-level <a class="reference internal" href="#bundle-syntax-git"><span class="std std-ref">git</span></a> mapping.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">bundle</span></code> mapping can also be a child of one or more of the targets in the top-level <a class="reference internal" href="#bundle-syntax-mappings-targets"><span class="std std-ref">targets</span></a> mapping. Each of these child <code class="docutils literal notranslate"><span class="pre">bundle</span></code> mappings specify any non-default overrides at the target level. However, the top-level <code class="docutils literal notranslate"><span class="pre">bundle</span></code> mapping’s <code class="docutils literal notranslate"><span class="pre">name</span></code> value cannot be overridden at the target level.</p>
</div>
<div class="section" id="variables">
<span id="bundle-syntax-mappings-variables"></span><h3><a class="toc-backref" href="#id9">variables</a><a class="headerlink" href="#variables" title="Permalink to this headline"> </a></h3>
<p>The bundles settings file can contain one top-level <code class="docutils literal notranslate"><span class="pre">variables</span></code> mapping to specify variable settings to use. See <a class="reference internal" href="#bundle-syntax-custom-variables"><span class="std std-ref">Custom variables</span></a>.</p>
</div>
<div class="section" id="workspace">
<span id="bundle-syntax-mappings-workspace"></span><h3><a class="toc-backref" href="#id10">workspace</a><a class="headerlink" href="#workspace" title="Permalink to this headline"> </a></h3>
<p>The bundle configuration file can contain only one top-level <code class="docutils literal notranslate"><span class="pre">workspace</span></code> mapping to specify any non-default Databricks workspace settings to use.</p>
<p>This <code class="docutils literal notranslate"><span class="pre">workspace</span></code> mapping can contain a <code class="docutils literal notranslate"><span class="pre">root_path</span></code> mapping to specify a non-default root path to use within the workspace for both deployments and workflow runs, for example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">workspace</span><span class="p">:</span>
<span class="w">  </span><span class="nt">root_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/Users/${workspace.current_user.userName}/.bundle/${bundle.name}/my-envs/${bundle.target}</span>
</pre></div>
</div>
<p>By default, for <code class="docutils literal notranslate"><span class="pre">root_path</span></code> the Databricks CLI uses the default path of <code class="docutils literal notranslate"><span class="pre">/Users/${workspace.current_user.userName}/.bundle/${bundle.name}/${bundle.target}</span></code>, which uses <a class="reference internal" href="#bundle-syntax-custom-substitutions"><span class="std std-ref">substitutions</span></a>.</p>
<p>This <code class="docutils literal notranslate"><span class="pre">workspace</span></code> mapping can also contain an <code class="docutils literal notranslate"><span class="pre">artifact_path</span></code> mapping to specify a non-default artifact path to use within the workspace for both deployments and workflow runs, for example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">workspace</span><span class="p">:</span>
<span class="w">  </span><span class="nt">artifact_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/Users/${workspace.current_user.userName}/.bundle/${bundle.name}/my-envs/${bundle.target}/artifacts</span>
</pre></div>
</div>
<p>By default, for <code class="docutils literal notranslate"><span class="pre">artifact_path</span></code> the Databricks CLI uses the default path of <code class="docutils literal notranslate"><span class="pre">${workspace.root}/artifacts</span></code>, which uses <a class="reference internal" href="#bundle-syntax-custom-substitutions"><span class="std std-ref">substitutions</span></a>.</p>
<p>This <code class="docutils literal notranslate"><span class="pre">workspace</span></code> mapping can also contain a <code class="docutils literal notranslate"><span class="pre">file_path</span></code> mapping to specify a non-default file path to use within the workspace for both deployments and workflow runs, for example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">workspace</span><span class="p">:</span>
<span class="w">  </span><span class="nt">file_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/Users/${workspace.current_user.userName}/.bundle/${bundle.name}/my-envs/${bundle.target}/files</span>
</pre></div>
</div>
<p>By default, for <code class="docutils literal notranslate"><span class="pre">file_path</span></code> the Databricks CLI uses the default path of <code class="docutils literal notranslate"><span class="pre">${workspace.root}/files</span></code>, which uses <a class="reference internal" href="#bundle-syntax-custom-substitutions"><span class="std std-ref">substitutions</span></a>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">state_path</span></code> mapping defaults to the default path of <code class="docutils literal notranslate"><span class="pre">${workspace.root}/state</span></code> and represents the path within your workspace to store Terraform state information about deployments.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">workspace</span></code> mapping can also contain the following optional mappings to specify the Databricks authentication mechanism to use. If they are not specified within this <code class="docutils literal notranslate"><span class="pre">workspace</span></code> mapping, they must be specified in a <code class="docutils literal notranslate"><span class="pre">workspace</span></code> mapping as a child of one or more of the targets in the top-level <a class="reference internal" href="#bundle-syntax-mappings-targets"><span class="std std-ref">targets</span></a> mapping.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>You must hard-code values for the following <code class="docutils literal notranslate"><span class="pre">workspace</span></code> mappings for Databricks authentication. For instance, you cannot specify <a class="reference internal" href="#bundle-syntax-custom-variables"><span class="std std-ref">custom variables</span></a> for these mappings’ values by using the <code class="docutils literal notranslate"><span class="pre">${var.*}</span></code> syntax.</p>
</div>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">profile</span></code> mapping specifies the name of a configuration profile to use with this workspace for Databricks authentication. This configuration profile maps to the one that you created when you set up the Databricks CLI.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Databricks recommends that you use the <code class="docutils literal notranslate"><span class="pre">host</span></code> mapping instead of the <code class="docutils literal notranslate"><span class="pre">profile</span></code> mapping, as this makes your bundle configuration files more portable. Setting the <code class="docutils literal notranslate"><span class="pre">host</span></code> mapping instructs the Databricks CLI to find a matching profile in your <code class="docutils literal notranslate"><span class="pre">.databrickscfg</span></code> file and then use that profile’s fields to determine which Databricks authentication type to use. If multiple profiles with a matching <code class="docutils literal notranslate"><span class="pre">host</span></code> field exist within your <code class="docutils literal notranslate"><span class="pre">.databrickscfg</span></code> file, then you must use the <code class="docutils literal notranslate"><span class="pre">profile</span></code> to instruct the Databricks CLI about which profile to use. For an example, see the <code class="docutils literal notranslate"><span class="pre">prod</span></code> target declaration in the <a class="reference internal" href="#bundle-syntax-examples"><span class="std std-ref">examples</span></a>.</p>
</div>
</li>
</ul>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">host</span></code> mapping specifies the URL for your Databricks workspace. See <a class="reference internal" href="../../workspace/workspace-details.html#workspace-url"><span class="std std-ref">Workspace instance names, URLs, and IDs</span></a>.</p></li>
<li><p>For OAuth machine-to-machine (M2M) authentication, the mapping <code class="docutils literal notranslate"><span class="pre">client_id</span></code> is used. Alternatively, you can set this value in the local environment variable <code class="docutils literal notranslate"><span class="pre">DATABRICKS_CLIENT_ID</span></code>. Or you can create a configuration profile with the <code class="docutils literal notranslate"><span class="pre">client_id</span></code> value and then specify the profile’s name with the <code class="docutils literal notranslate"><span class="pre">profile</span></code> mapping. See <a class="reference internal" href="../auth/oauth-m2m.html"><span class="doc">OAuth machine-to-machine (M2M) authentication</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You cannot specify a client secret value in the bundle configuration file. Instead, set the local environment variable <code class="docutils literal notranslate"><span class="pre">DATABRICKS_CLIENT_SECRET</span></code>. Or you can add the <code class="docutils literal notranslate"><span class="pre">client_secret</span></code> value to a configuration profile and then specify the profile’s name with the <code class="docutils literal notranslate"><span class="pre">profile</span></code> mapping.</p>
</div>
</li>
</ul>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">auth_type</span></code> mapping specifies the Databricks authentication type to use, especially in cases where the Databricks CLI infers an unexpected authentication type. See the <a class="reference internal" href="../auth/index.html#authentication-type-field"><span class="std std-ref">Authentication type field</span></a>.</p></li>
</ul>
</div>
<div class="section" id="artifacts">
<span id="bundle-syntax-mappings-artifacts"></span><h3><a class="toc-backref" href="#id11">artifacts</a><a class="headerlink" href="#artifacts" title="Permalink to this headline"> </a></h3>
<p>The top-level <code class="docutils literal notranslate"><span class="pre">artifacts</span></code> mapping specifies one or more artifacts that are automatically built during bundle deployments and can be used later in bundle runs. Each child artifact supports the following mappings:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code> is required. To build a Python wheel before deploying, this mapping must be set to <code class="docutils literal notranslate"><span class="pre">whl</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">path</span></code> is an optional, relative path from the location of the bundle configuration file to the location of the Python wheel’s <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> file. If <code class="docutils literal notranslate"><span class="pre">path</span></code> is not included, the Databricks CLI will attempt to find the Python wheel’s <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> file in the bundle’s root.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">files</span></code> is an optional mapping that includes a child <code class="docutils literal notranslate"><span class="pre">source</span></code> mapping, which you can use to specify non-default locations to include for complex build instructions. Locations are specified as relative paths from the location of the bundle configuration file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">build</span></code> is an optional set of non-default build commands that you want to run locally before deployment. For Python wheel builds, the Databricks CLI assumes that it can find a local install of the Python <code class="docutils literal notranslate"><span class="pre">wheel</span></code> package to run builds, and it runs the command <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">bdist_wheel</span></code> by default during each bundle deployment. To specify multiple build commands, separate each command with double-ampersand (<code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code>) characters.</p></li>
</ul>
<p>For more information, including a sample bundle that uses <code class="docutils literal notranslate"><span class="pre">artifacts</span></code>, see <a class="reference internal" href="python-wheel.html"><span class="doc">Develop a Python wheel by using Databricks Asset Bundles</span></a>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can define, combine, and override the settings for artifacts in bundles by using the techniques described in <a class="reference internal" href="artifact-overrides.html"><span class="doc">Define artifact settings dynamically in Databricks Asset Bundles</span></a>.</p>
</div>
</div>
<div class="section" id="include">
<span id="bundle-syntax-mappings-include"></span><h3><a class="toc-backref" href="#id12">include</a><a class="headerlink" href="#include" title="Permalink to this headline"> </a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">include</span></code> array specifies a list of path globs that contain configuration files to include within the bundle. These path globs are relative to the location of the bundle configuration file in which the path globs are specified.</p>
<p>The Databricks CLI does not include any configuration files by default within the bundle. You must use the <code class="docutils literal notranslate"><span class="pre">include</span></code> array to specify any and all configuration files to include within the bundle, other than the <code class="docutils literal notranslate"><span class="pre">databricks.yml</span></code> file itself.</p>
<p>This <code class="docutils literal notranslate"><span class="pre">include</span></code> array can appear only as a top-level mapping.</p>
<p>The following example in a bundle configuration file includes the four specified configuration files. These files are in the same directory as the bundle configuration file:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">include</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;bundle.artifacts.yml&quot;</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;bundle.resources.yml&quot;</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;bundle.resources.yml&quot;</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;bundle.targets.yml&quot;</span>
</pre></div>
</div>
<p>The following example in a bundle configuration file includes all files with filenames that begin with <code class="docutils literal notranslate"><span class="pre">bundle</span></code> and end with <code class="docutils literal notranslate"><span class="pre">.yml</span></code>. These files are in the same directory as the bundle configuration file:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">include</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;bundle*.yml&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="resources">
<span id="bundle-syntax-mappings-resources"></span><h3><a class="toc-backref" href="#id13">resources</a><a class="headerlink" href="#resources" title="Permalink to this headline"> </a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">resources</span></code> mapping specifies information about the Databricks jobs to use, the Delta Live Tables pipelines to use, or both.</p>
<p>This <code class="docutils literal notranslate"><span class="pre">resources</span></code> mapping can appear as a top-level mapping, or it can be a child of one or more of the targets in the top-level <a class="reference internal" href="#bundle-syntax-mappings-targets"><span class="std std-ref">targets</span></a> mapping.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">resources</span></code> mapping includes zero or one of each of the following mappings: <code class="docutils literal notranslate"><span class="pre">experiments</span></code>, <code class="docutils literal notranslate"><span class="pre">jobs</span></code>, <code class="docutils literal notranslate"><span class="pre">models</span></code>, and <code class="docutils literal notranslate"><span class="pre">pipelines</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">jobs</span></code> and <code class="docutils literal notranslate"><span class="pre">pipelines</span></code> mappings includes one or more job or pipeline declarations. Each declaration is a separate child mapping, which must each have a unique programmatic (or logical) name.</p>
<p>Each experiment uses the mappings within the create experiment operation’s request payload as defined in <a class="reference external" href="https://docs.databricks.com/api/workspace/experiments/createexperiment">POST /api/2.0/mlflow/experiments/create</a> in the REST API reference, expressed in YAML format.</p>
<p>Each job mapping uses the mappings within the create job operation’s request payload as defined in <a class="reference external" href="https://docs.databricks.com/api/workspace/jobs/create">POST /api/2.1/jobs/create</a> in the REST API reference, expressed in YAML format.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can define, combine, and override the settings for new job clusters in bundles by using the techniques described in <a class="reference internal" href="cluster-override.html"><span class="doc">Override cluster settings in Databricks Asset Bundles</span></a>.</p>
</div>
<p>Each model mapping uses the mappings within the create model operation’s request payload as defined in <a class="reference external" href="https://docs.databricks.com/api/workspace/modelregistry/createmodel">POST /api/2.0/mlflow/registered-models/create</a> in the REST API reference, expressed in YAML format.</p>
<p>Each pipeline mapping uses the mappings within the create pipeline operation’s request payload as defined in <a class="reference external" href="https://docs.databricks.com/api/workspace/pipelines/create">POST /api/2.0/pipelines</a> in the REST API reference, expressed in YAML format.</p>
<p>All paths to included folders and files are relative to the location of the bundle configuration file in which these paths are specified.</p>
<p>The following example declares a job with the programmatic (or logical) name of <code class="docutils literal notranslate"><span class="pre">hello-job</span></code> and a pipeline with the programmatic (or logical) name of <code class="docutils literal notranslate"><span class="pre">hello-pipeline</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">resources</span><span class="p">:</span>
<span class="w">  </span><span class="nt">jobs</span><span class="p">:</span>
<span class="w">    </span><span class="nt">hello-job</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello-job</span>
<span class="w">      </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">task_key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello-task</span>
<span class="w">          </span><span class="nt">existing_cluster_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1234-567890-abcde123</span>
<span class="w">          </span><span class="nt">notebook_task</span><span class="p">:</span>
<span class="w">            </span><span class="nt">notebook_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./hello.py</span>
<span class="w">  </span><span class="nt">pipelines</span><span class="p">:</span>
<span class="w">    </span><span class="nt">hello-pipeline</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello-pipeline</span>
<span class="w">      </span><span class="nt">clusters</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="w">          </span><span class="nt">num_workers</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">development</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">      </span><span class="nt">continuous</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">      </span><span class="nt">channel</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CURRENT</span>
<span class="w">      </span><span class="nt">edition</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CORE</span>
<span class="w">      </span><span class="nt">photon</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">      </span><span class="nt">libraries</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">notebook</span><span class="p">:</span>
<span class="w">            </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./pipeline.py</span>
</pre></div>
</div>
<p>The preceding example uses <a class="reference internal" href="#bundle-syntax-custom-substitutions"><span class="std std-ref">substitutions</span></a>.</p>
</div>
<div class="section" id="sync">
<span id="bundle-syntax-mappings-sync"></span><h3><a class="toc-backref" href="#id14">sync</a><a class="headerlink" href="#sync" title="Permalink to this headline"> </a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">sync</span></code> array specifies a list of file or path globs to include within bundle deployments or to exclude from bundle deployments, depending on the following rules:</p>
<ul class="simple">
<li><p>Based on any list of file and path globs in a <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> file in the bundle’s root, the <code class="docutils literal notranslate"><span class="pre">include</span></code> mapping can contain a list of file globs, path globs, or both, relative to the bundle’s root, to explicitly include.</p></li>
<li><p>Based on any list of file and path globs in a <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> file in the bundle’s root, plus the list of file and path globs in the <code class="docutils literal notranslate"><span class="pre">include</span></code> mapping, the <code class="docutils literal notranslate"><span class="pre">exclude</span></code> mapping can contain a list of file globs, path globs, or both, relative to the bundle’s root, to explicitly exclude.</p></li>
</ul>
<p>All paths to specified folders and files are relative to the location of the bundle configuration file in which these paths are specified.</p>
<p>The syntax for <code class="docutils literal notranslate"><span class="pre">include</span></code> and <code class="docutils literal notranslate"><span class="pre">exclude</span></code> file and path patterns follow standard <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> pattern syntax. See <a class="reference external" href="https://git-scm.com/docs/gitignore#_pattern_format">gitignore Pattern Format</a>.</p>
<p>For example, if the following <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> file contains the following entries:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>.databricks
my_package/dist
</pre></div>
</div>
<p>And the bundle configuration file contains the following <code class="docutils literal notranslate"><span class="pre">include</span></code> mapping:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">sync</span><span class="p">:</span>
<span class="w">  </span><span class="nt">include</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_package/dist/*.whl</span>
</pre></div>
</div>
<p>Then all of the files in the <code class="docutils literal notranslate"><span class="pre">my_package/dist</span></code> folder with a file extension of <code class="docutils literal notranslate"><span class="pre">*.whl</span></code> are included. Any other files in the <code class="docutils literal notranslate"><span class="pre">my_package/dist</span></code> folder are not included.</p>
<p>However, if the bundle configuration file also contains the following <code class="docutils literal notranslate"><span class="pre">exclude</span></code> mapping:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">sync</span><span class="p">:</span>
<span class="w">  </span><span class="nt">include</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_package/dist/*.whl</span>
<span class="w">  </span><span class="nt">exclude</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_package/dist/delete-me.whl</span>
</pre></div>
</div>
<p>Then all of the files in the <code class="docutils literal notranslate"><span class="pre">my_package/dist</span></code> folder with a file extension of <code class="docutils literal notranslate"><span class="pre">*.whl</span></code>, except for the file named <code class="docutils literal notranslate"><span class="pre">delete-me.whl</span></code>, are included. Any other files in the <code class="docutils literal notranslate"><span class="pre">my_package/dist</span></code> folder are also not included.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">sync</span></code> array can also be declared in the <code class="docutils literal notranslate"><span class="pre">targets</span></code> mapping for a specific target. Any <code class="docutils literal notranslate"><span class="pre">sync</span></code> array declared in a target is merged with any top-level <code class="docutils literal notranslate"><span class="pre">sync</span></code> array declarations. For example, continuing with the preceding example, the following <code class="docutils literal notranslate"><span class="pre">include</span></code> mapping at the <code class="docutils literal notranslate"><span class="pre">targets</span></code> level merges with the <code class="docutils literal notranslate"><span class="pre">include</span></code> mapping in the top-level <code class="docutils literal notranslate"><span class="pre">sync</span></code> array:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">targets</span><span class="p">:</span>
<span class="w">  </span><span class="nt">dev</span><span class="p">:</span>
<span class="w">    </span><span class="nt">sync</span><span class="p">:</span>
<span class="w">      </span><span class="nt">include</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_package/dist/delete-me.whl</span>
</pre></div>
</div>
<p>When you run <code class="docutils literal notranslate"><span class="pre">databricks</span> <span class="pre">bundle</span> <span class="pre">validate</span></code>, the relevant portion of the resulting graph is as follows:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="nt">&quot;sync&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;include&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">&quot;my_package/dist/*.whl&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;my_package/dist/delete-me.whl&quot;</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;exclude&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">&quot;my_package/dist/delete-me.whl&quot;</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="targets">
<span id="bundle-syntax-mappings-targets"></span><h3><a class="toc-backref" href="#id15">targets</a><a class="headerlink" href="#targets" title="Permalink to this headline"> </a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">targets</span></code> mapping specifies one or more contexts in which to run Databricks workflows. Each <em>target</em> is a unique collection of artifacts, Databricks workspace settings, and Databricks job or pipeline details.</p>
<p>This <code class="docutils literal notranslate"><span class="pre">targets</span></code> mapping is optional but highly recommended. If it is specified, it can appear only as a top-level mapping. If the <code class="docutils literal notranslate"><span class="pre">targets</span></code> mapping is not specified, then the settings in the top-level <a class="reference internal" href="#bundle-syntax-mappings-workspace"><span class="std std-ref">workspace</span></a>, <a class="reference internal" href="#bundle-syntax-mappings-artifacts"><span class="std std-ref">artifacts</span></a>, and <a class="reference internal" href="#bundle-syntax-mappings-resources"><span class="std std-ref">resources</span></a> mappings are always used.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">targets</span></code> mapping consists of one or more target mappings, which must each have a unique programmatic (or logical) name.</p>
<p>If a target mapping does not specify <code class="docutils literal notranslate"><span class="pre">workspace</span></code>, <code class="docutils literal notranslate"><span class="pre">artifacts</span></code>, or <code class="docutils literal notranslate"><span class="pre">resources</span></code> child mappings, then that target uses the settings in the top-level <code class="docutils literal notranslate"><span class="pre">workspace</span></code>, <code class="docutils literal notranslate"><span class="pre">artifacts</span></code>, and <code class="docutils literal notranslate"><span class="pre">resources</span></code> mappings.</p>
<p>If a target mapping specifies a <code class="docutils literal notranslate"><span class="pre">workspace</span></code>, <code class="docutils literal notranslate"><span class="pre">artifacts</span></code>, or <code class="docutils literal notranslate"><span class="pre">resources</span></code> mapping, and a top-level <code class="docutils literal notranslate"><span class="pre">workspace</span></code>, <code class="docutils literal notranslate"><span class="pre">artifacts</span></code>, or <code class="docutils literal notranslate"><span class="pre">resources</span></code> mapping also exists, then any conflicting settings are overridden by the settings within the target.</p>
<p>A target can also override the values of any top-level <a class="reference internal" href="#custom-variables"><span class="std std-ref">variables</span></a>.</p>
<p>To specify that a target is the default one unless otherwise specified, add the <code class="docutils literal notranslate"><span class="pre">default</span></code> mapping, set to <code class="docutils literal notranslate"><span class="pre">true</span></code>. For example, this target named <code class="docutils literal notranslate"><span class="pre">dev</span></code> is the default target:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">targets</span><span class="p">:</span>
<span class="w">  </span><span class="nt">dev</span><span class="p">:</span>
<span class="w">    </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
<p>To specify that a target is treated as a development target, add the <code class="docutils literal notranslate"><span class="pre">mode</span></code> mapping, set to <code class="docutils literal notranslate"><span class="pre">development</span></code>. To specify that a target is treated production target, add the <code class="docutils literal notranslate"><span class="pre">mode</span></code> mapping, set to <code class="docutils literal notranslate"><span class="pre">production</span></code>. For example, this target named <code class="docutils literal notranslate"><span class="pre">prod</span></code> is treated as a production target:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">targets</span><span class="p">:</span>
<span class="w">  </span><span class="nt">prod</span><span class="p">:</span>
<span class="w">    </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">production</span>
</pre></div>
</div>
<p>Specifying <code class="docutils literal notranslate"><span class="pre">mode</span></code> provides a collection of corresponding default behaviors for pre-production and production workflows. For details, see <a class="reference internal" href="deployment-modes.html"><span class="doc">Databricks Asset Bundle deployment modes</span></a>.</p>
<p>The following example declares two targets. The first target has a programmatic (or logical) name of <code class="docutils literal notranslate"><span class="pre">dev</span></code> and is the default target. The second target has a programmatic (or logical) name of <code class="docutils literal notranslate"><span class="pre">prod</span></code> and is not the default target. This second target uses a Databricks connection profile named <code class="docutils literal notranslate"><span class="pre">PROD</span></code> for authentication:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">targets</span><span class="p">:</span>
<span class="w">  </span><span class="nt">dev</span><span class="p">:</span>
<span class="w">    </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">prod</span><span class="p">:</span>
<span class="w">    </span><span class="nt">workspace</span><span class="p">:</span>
<span class="w">      </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://&lt;production-workspace-url&gt;</span>
</pre></div>
</div>
<p>To validate, deploy, and run jobs or pipelines within the <code class="docutils literal notranslate"><span class="pre">dev</span></code> target, run the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Because the &quot;dev&quot; target is set to &quot;default: true&quot;,</span>
<span class="c1"># you do not need to specify &quot;-t dev&quot;:</span>
databricks<span class="w"> </span>bundle<span class="w"> </span>validate
databricks<span class="w"> </span>bundle<span class="w"> </span>deploy
databricks<span class="w"> </span>bundle<span class="w"> </span>run<span class="w"> </span>&lt;job-or-pipeline-programmatic-name&gt;

<span class="c1"># But you can still explicitly specify it, if you want or need to:</span>
databricks<span class="w"> </span>bundle<span class="w"> </span>validate
databricks<span class="w"> </span>bundle<span class="w"> </span>deploy<span class="w"> </span>-t<span class="w"> </span>dev
databricks<span class="w"> </span>bundle<span class="w"> </span>run<span class="w"> </span>-t<span class="w"> </span>dev<span class="w"> </span>&lt;job-or-pipeline-programmatic-name&gt;
</pre></div>
</div>
<p>To validate, deploy, and run this job within the <code class="docutils literal notranslate"><span class="pre">prod</span></code> target instead, run the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># You must specify &quot;-t prod&quot;, because the &quot;dev&quot; target</span>
<span class="c1"># is already set to &quot;default: true&quot;:</span>
databricks<span class="w"> </span>bundle<span class="w"> </span>validate
databricks<span class="w"> </span>bundle<span class="w"> </span>deploy<span class="w"> </span>-t<span class="w"> </span>prod
databricks<span class="w"> </span>bundle<span class="w"> </span>run<span class="w"> </span>-t<span class="w"> </span>prod<span class="w"> </span>&lt;job-or-pipeline-programmatic-name&gt;
</pre></div>
</div>
</div>
</div>
<div class="section" id="custom-variables">
<span id="bundle-syntax-custom-variables"></span><h2><a class="toc-backref" href="#id5">Custom variables</a><a class="headerlink" href="#custom-variables" title="Permalink to this headline"> </a></h2>
<p>You can use custom variables to make your bundle configuration files more modular and reusable. For example, you might declare a variable that represents the ID of an existing cluster, and then you want to change that variable’s value to different cluster IDs for various workflow runs within multiple targets, without changing your bundle configuration files’ original code.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Variables work only with string-based values.</p>
<p>For specifying, combining, and overriding new job cluster settings in bundles, Databricks recommends that you use the techniques as described in <a class="reference internal" href="cluster-override.html"><span class="doc">Override cluster settings in Databricks Asset Bundles</span></a>, instead of using variables.</p>
</div>
<p>First, declare one or more variables within your bundle configuration files. To do this, use a <code class="docutils literal notranslate"><span class="pre">variables</span></code> mapping, following this format:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">variables</span><span class="p">:</span>
<span class="w">  </span><span class="nt">&lt;variable-name&gt;</span><span class="p">:</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;optional-description&gt;</span>
<span class="w">    </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;optional-default-value&gt;</span>
</pre></div>
</div>
<p>For example, to declare a variable named <code class="docutils literal notranslate"><span class="pre">my_cluster_id</span></code> with the default value of <code class="docutils literal notranslate"><span class="pre">1234-567890-abcde123</span></code>, and a variable named <code class="docutils literal notranslate"><span class="pre">my_notebook_path</span></code> with the default value of <code class="docutils literal notranslate"><span class="pre">./hello.py</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">variables</span><span class="p">:</span>
<span class="w">  </span><span class="nt">my_cluster_id</span><span class="p">:</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">The ID of an existing cluster.</span>
<span class="w">    </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1234-567890-abcde123</span>
<span class="w">  </span><span class="nt">my_notebook_path</span><span class="p">:</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">The path to an existing notebook.</span>
<span class="w">    </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./hello.py</span>
</pre></div>
</div>
<p>If you do not provide a <code class="docutils literal notranslate"><span class="pre">default</span></code> value for a variable as part of this declaration, you must provide the value later at the command line, through an environment variable, or elsewhere within your bundle configuration files. These approaches are described later in this section.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Whichever approach you choose to provide variable values, you should provide the same values during both the deployment and run stages. Otherwise, you might get unpredictable results between the time of a deployment and a job or pipeline run that is based on that existing deployment.</p>
</div>
<p>Second, to reference your declared variables within your bundle configuration files, use <a class="reference internal" href="#substitutions"><span class="std std-ref">substitutions</span></a>. For variables, use the format <code class="docutils literal notranslate"><span class="pre">${var.&lt;variable_name&gt;}</span></code>. For example, to reference variables named <code class="docutils literal notranslate"><span class="pre">my_cluster_id</span></code> and <code class="docutils literal notranslate"><span class="pre">my_notebook_path</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">resources</span><span class="p">:</span>
<span class="w">  </span><span class="nt">jobs</span><span class="p">:</span>
<span class="w">    </span><span class="nt">hello-job</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello-job</span>
<span class="w">      </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">task_key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello-task</span>
<span class="w">          </span><span class="nt">existing_cluster_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${var.my_cluster_id}</span>
<span class="w">          </span><span class="nt">notebook_task</span><span class="p">:</span>
<span class="w">            </span><span class="nt">notebook_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${var.my_notebook_path}</span>
</pre></div>
</div>
<p>Third, if you have not provided a <code class="docutils literal notranslate"><span class="pre">default</span></code> value for a variable, or if you want to temporarily override the <code class="docutils literal notranslate"><span class="pre">default</span></code> value for a variable, provide the variable’s new temporary value from among the following approaches:</p>
<ul>
<li><p>Provide the variable’s value as part of a <code class="docutils literal notranslate"><span class="pre">bundle</span></code> command such as <code class="docutils literal notranslate"><span class="pre">validate</span></code>, <code class="docutils literal notranslate"><span class="pre">deploy</span></code>, or <code class="docutils literal notranslate"><span class="pre">run</span></code>. To do this, use the option <code class="docutils literal notranslate"><span class="pre">--var=&quot;&lt;key&gt;=&lt;value&gt;&quot;</span></code>, where <code class="docutils literal notranslate"><span class="pre">&lt;key&gt;</span></code> is the variable’s name, and <code class="docutils literal notranslate"><span class="pre">&lt;value&gt;</span></code> is the variable’s value. For example, as part of the <code class="docutils literal notranslate"><span class="pre">bundle</span> <span class="pre">validate</span></code> command, to provide the value of <code class="docutils literal notranslate"><span class="pre">1234-567890-abcde123</span></code> to the variable named <code class="docutils literal notranslate"><span class="pre">my_cluster_id</span></code>, and to provide the value of <code class="docutils literal notranslate"><span class="pre">./hello.py</span></code> to the variable named <code class="docutils literal notranslate"><span class="pre">my_notebook_path</span></code>, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>databricks<span class="w"> </span>bundle<span class="w"> </span>validate<span class="w"> </span>--var<span class="o">=</span><span class="s2">&quot;my_cluster_id=1234-567890-abcde123,my_notebook_path=./hello.py&quot;</span>

<span class="c1"># Or:</span>
databricks<span class="w"> </span>bundle<span class="w"> </span>validate<span class="w"> </span>--var<span class="o">=</span><span class="s2">&quot;my_cluster_id=1234-567890-abcde123&quot;</span><span class="w"> </span>--var<span class="o">=</span><span class="s2">&quot;my_notebook_path=./hello.py&quot;</span>
</pre></div>
</div>
</li>
<li><p>Provide the variable’s value by setting an environment variable. The environment variable’s name must start with <code class="docutils literal notranslate"><span class="pre">BUNDLE_VAR_</span></code>. To set environment variables, see your operating system’s documentation. For example, to provide the value of <code class="docutils literal notranslate"><span class="pre">1234-567890-abcde123</span></code> to the variable named <code class="docutils literal notranslate"><span class="pre">my_cluster_id</span></code>, and to provide the value of <code class="docutils literal notranslate"><span class="pre">./hello.py</span></code> to the variable named <code class="docutils literal notranslate"><span class="pre">my_notebook_path</span></code>, run the following command before you call a <code class="docutils literal notranslate"><span class="pre">bundle</span></code> command such as <code class="docutils literal notranslate"><span class="pre">validate</span></code>, <code class="docutils literal notranslate"><span class="pre">deploy</span></code>, or <code class="docutils literal notranslate"><span class="pre">run</span></code>:</p>
<p>For Linux and macOS:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">BUNDLE_VAR_my_cluster_id</span><span class="o">=</span><span class="m">1234</span>-567890-abcde123<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">BUNDLE_VAR_my_notebook_path</span><span class="o">=</span>./hello.py
</pre></div>
</div>
<p>For Windows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;set BUNDLE_VAR_my_cluster_id=1234-567890-abcde123&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="s2">&quot;set BUNDLE_VAR_my_notebook_path=./hello.py&quot;</span>
</pre></div>
</div>
<p>Or, provide the variable’s value as part of a <code class="docutils literal notranslate"><span class="pre">bundle</span></code> command such as <code class="docutils literal notranslate"><span class="pre">validate</span></code>, <code class="docutils literal notranslate"><span class="pre">deploy</span></code>, or <code class="docutils literal notranslate"><span class="pre">run</span></code>, for example for Linux and macOS:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">BUNDLE_VAR_my_cluster_id</span><span class="o">=</span><span class="m">1234</span>-567890-abcde123<span class="w"> </span><span class="nv">BUNDLE_VAR_my_notebook_path</span><span class="o">=</span>./hello.py<span class="w"> </span>databricks<span class="w"> </span>bundle<span class="w"> </span>validate
</pre></div>
</div>
<p>Or for Windows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;set BUNDLE_VAR_my_cluster_id=1234-567890-abcde123&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="s2">&quot;set BUNDLE_VAR_my_notebook_path=./hello.py&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="s2">&quot;databricks bundle validate&quot;</span>
</pre></div>
</div>
</li>
<li><p>Provide the variable’s value within your bundle configuration files. To do this, use a <code class="docutils literal notranslate"><span class="pre">variables</span></code> mapping within the <code class="docutils literal notranslate"><span class="pre">targets</span></code> mapping, following this format:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">variables</span><span class="p">:</span>
<span class="w">  </span><span class="nt">&lt;variable-name&gt;</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;value&gt;</span>
</pre></div>
</div>
<p>For example, to provide values for the variables named <code class="docutils literal notranslate"><span class="pre">my_cluster_id</span></code> and <code class="docutils literal notranslate"><span class="pre">my_notebook_path</span></code> for two separate targets:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">targets</span><span class="p">:</span>
<span class="w">  </span><span class="nt">dev</span><span class="p">:</span>
<span class="w">    </span><span class="nt">variables</span><span class="p">:</span>
<span class="w">      </span><span class="nt">my_cluster_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1234-567890-abcde123</span>
<span class="w">      </span><span class="nt">my_notebook_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./hello.py</span>
<span class="w">  </span><span class="nt">prod</span><span class="p">:</span>
<span class="w">    </span><span class="nt">variables</span><span class="p">:</span>
<span class="w">      </span><span class="nt">my_cluster_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2345-678901-bcdef234</span>
<span class="w">      </span><span class="nt">my_notebook_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./hello.py</span>
</pre></div>
</div>
</li>
</ul>
<p>In the preceding examples, the Databricks CLI looks for values for the variables <code class="docutils literal notranslate"><span class="pre">my_cluster_id</span></code> and <code class="docutils literal notranslate"><span class="pre">my_notebook_path</span></code> in the following order, stopping when it finds a value for each matching variable, skipping any other locations for that variable:</p>
<ol class="arabic simple">
<li><p>Within any <code class="docutils literal notranslate"><span class="pre">--var</span></code> options specified as part of the <code class="docutils literal notranslate"><span class="pre">bundle</span></code> command.</p></li>
<li><p>Within any environment variables set that begin with <code class="docutils literal notranslate"><span class="pre">BUNDLE_VAR_</span></code>.</p></li>
<li><p>Within any <code class="docutils literal notranslate"><span class="pre">variables</span></code> mappings, among the <code class="docutils literal notranslate"><span class="pre">targets</span></code> mappings within your bundle configuration files.</p></li>
<li><p>Any <code class="docutils literal notranslate"><span class="pre">default</span></code> value for that variable’s definition, among the top-level <code class="docutils literal notranslate"><span class="pre">variables</span></code> mappings within your bundle configuration files.</p></li>
</ol>
</div>
<div class="section" id="git-settings">
<span id="bundle-syntax-git"></span><h2><a class="toc-backref" href="#id6">Git settings</a><a class="headerlink" href="#git-settings" title="Permalink to this headline"> </a></h2>
<p>You can retrieve and override version control details that are associated with your bundle. This is useful for annotating your deployed resources. For example, you might want to include the origin URL of your repository within the description of a machine learning model that you deploy.</p>
<p>Whenever you run a <code class="docutils literal notranslate"><span class="pre">bundle</span></code> command such as <code class="docutils literal notranslate"><span class="pre">validate</span></code>, <code class="docutils literal notranslate"><span class="pre">deploy</span></code> or <code class="docutils literal notranslate"><span class="pre">run</span></code>, the <code class="docutils literal notranslate"><span class="pre">bundle</span></code> command populates the command’s configuration tree with the following default settings:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bundle.git.origin_url</span></code>, which represents the origin URL of the repo. This is the same value that you would get if you ran the command <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span> <span class="pre">--get</span> <span class="pre">remote.origin.url</span></code> from your cloned repo. You can use <a class="reference internal" href="#bundle-syntax-custom-substitutions"><span class="std std-ref">substitutions</span></a> to refer to this value with your bundle configuration files, as <code class="docutils literal notranslate"><span class="pre">${bundle.git.origin_url}</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bundle.git.branch</span></code>, which represents the current branch within the repo. This is the same value that you would get if you ran the command <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span> <span class="pre">--show-current</span></code> from your cloned repo. You can use <a class="reference internal" href="#bundle-syntax-custom-substitutions"><span class="std std-ref">substitutions</span></a> to refer to this value with your bundle configuration files, as <code class="docutils literal notranslate"><span class="pre">${bundle.git.branch}</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bundle.git.commit</span></code>, which represents the <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> commit within the repo. This is the same value that you would get if you ran the command <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rev-parse</span> <span class="pre">HEAD</span></code> from your cloned repo. You can use <a class="reference internal" href="#bundle-syntax-custom-substitutions"><span class="std std-ref">substitutions</span></a> to refer to this value with your bundle configuration files, as <code class="docutils literal notranslate"><span class="pre">${bundle.git.commit}</span></code>.</p></li>
</ul>
<p>To retrieve or override Git settings, your bundle must be within a directory that is associated with a Git repository, for example a local directory that is initialized by running the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span></code> command. If the directory is not associated with a Git repository, these Git settings are empty.</p>
<p>You can override the <code class="docutils literal notranslate"><span class="pre">origin_url</span></code> and <code class="docutils literal notranslate"><span class="pre">branch</span></code> settings within the <code class="docutils literal notranslate"><span class="pre">git</span></code> mapping of your top-level <code class="docutils literal notranslate"><span class="pre">bundle</span></code> mapping if needed, as follows:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">bundle</span><span class="p">:</span>
<span class="w">  </span><span class="nt">git</span><span class="p">:</span>
<span class="w">    </span><span class="nt">origin_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;some-non-default-origin-url&gt;</span>
<span class="w">    </span><span class="nt">branch</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;some-non-current-branch-name&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="substitutions">
<span id="bundle-syntax-custom-substitutions"></span><h2><a class="toc-backref" href="#id7">Substitutions</a><a class="headerlink" href="#substitutions" title="Permalink to this headline"> </a></h2>
<p>You can use substitutions to make your bundle configuration files more modular and reusable.</p>
<p>For example, when you run the <code class="docutils literal notranslate"><span class="pre">bundle</span> <span class="pre">validate</span></code> command, you might see a graph like this (the ellipses indicate omitted content, for brevity):</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;bundle&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hello-bundle&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dev&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;...&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;workspace&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;...&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;current_user&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;...&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;userName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;someone@example.com&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;...&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;...&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;...&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;...&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In the preceding example, you could refer to the value <code class="docutils literal notranslate"><span class="pre">someone&#64;example.com</span></code> in your bundle configuration file with the substitution <code class="docutils literal notranslate"><span class="pre">${workspace.current_user.userName}</span></code>.</p>
<p>Similarly, the following substitutions:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>/Users/${workspace.current_user.userName}/.bundle/${bundle.name}/my-envs/${bundle.target}
</pre></div>
</div>
<p>In a bundle configuration file such as the following (the ellipsis indicates omitted content, for brevity):</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">bundle</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hello-bundle</span>

<span class="nt">workspace</span><span class="p">:</span>
<span class="w">  </span><span class="nt">root_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/Users/${workspace.current_user.userName}/.bundle/${bundle.name}/my-envs/${bundle.target}</span>

<span class="c1"># ...</span>

<span class="nt">targets</span><span class="p">:</span>
<span class="w">  </span><span class="nt">dev</span><span class="p">:</span>
<span class="w">    </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
<p>Would resolve to the following graph when you run the <code class="docutils literal notranslate"><span class="pre">bundle</span> <span class="pre">validate</span></code> command (the ellipses indicate omitted content, for brevity):</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;bundle&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hello-bundle&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dev&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;...&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;workspace&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;profile&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DEFAULT&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;current_user&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;...&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;userName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;someone@example.com&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;...&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;root&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/Users/someone@example.com/.bundle/hello-bundle/my-envs/dev&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;...&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;...&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;...&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>


    
          </div>
        </div>
        <div  class="suapp-rating">
  <div id="suPageRateApp">
     <su-app></su-app>
   </div> 
 </div>
<hr> 
<footer>
  <div role="contentinfo">
      <p class="copyright">
          &copy; Databricks 2023. All rights reserved. Apache, Apache Spark, Spark, and the Spark logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a>.
      </p>
      <p> 
        
          <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
        
     | <a href="https://databricks.com/privacy-policy">Privacy Policy</a> | <a href="https://databricks.com/terms-of-use">Terms of Use</a></p>

  </div> 

</footer>
      </div>
    </div>
  </section>
</main>

  </page>
  
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT: '../../',
      VERSION: '1.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE: 'false'
    };
  </script>
  <script type="text/javascript" src="../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../_static/underscore.js"></script>
  <script type="text/javascript" src="../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../_static/language_data.js"></script>
  

  <script type="text/javascript" src="../../_static/js/clipboard.min.js"></script>
  <script type="text/javascript" src="../../_static/js/jquery.waypoints.min.js"></script>

  <!-- Select2 (https://select2.org/) -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <!-- End Select2 -->

  
  
  <script type="text/javascript" src="../../_static/js/localized.js"></script>
  <script type="text/javascript" src="../../_static/js/custom.js"></script>
  

  
  
  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.StickyNav.enable();
    });

  </script>
  
 



  <script>
  window.__searchunifyLoaderConfig = JSON.parse('{"clients": {"en": "02c2e804-27e9-11ee-aefb-0242ac120011", "ja": "6a42c3f2-2820-11ee-aefb-0242ac120011", "pt": "6a86badd-2821-11ee-aefb-0242ac120011"}}')
</script>
<script type="text/javascript" src="../../_static/js/search-loader.js"></script>
</body>
<script type='text/javascript'>
  window.onload = function () {
    var description = document.querySelector('meta[name="description"]').getAttribute("content");
    let titleText = document.querySelector('h1').textContent;
    document.querySelector('meta[property="og:title"]').setAttribute("content", titleText);
    document.querySelector('meta[property="og:description"]').setAttribute("content", description);
    document.querySelector('meta[property="twitter:description"]').setAttribute("content", description);
  };
</script>

</html>