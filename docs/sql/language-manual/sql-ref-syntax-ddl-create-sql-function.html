

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en-US" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en-US"> <!--<![endif]-->

<head>
  <!-- cookie consent -->
  
    <!-- Combined Onetrust and Rudderstack Implementation Scripts -->
    <!-- Onetrust Initialization -->
    <script type="text/javascript" src="https://cdn.cookielaw.org/consent/92466579-1717-44d3-809d-a05fb02843ed-test/OtAutoBlock.js"></script>
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="92466579-1717-44d3-809d-a05fb02843ed-test"></script>
    <link rel="stylesheet" id="db-onetrust-style" href="https://www.databricks.com/wp-content/uploads/db_onetrust.css" media="all" />
    <!-- Setting Rudderstack Write Key -->
    <script>window.rudderstackKey = "2SOR9fvSr5Fi6tN2ihPbVHnX1SZ" </script>
    <!-- Rudderstack Initialization + Onetrust Integration + Rudderstack Custom Events -->
    <script type="text/javascript" src="https://www.databricks.com/sites/default/files/rudderstack/v1/db-rudderstack-events.js"></script>

  <!-- cookie consent -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta content="Learn how to create and use native SQL functions in Databricks SQL and Databricks Runtime." name="description" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta property="og:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:title" content="CREATE FUNCTION (SQL and Python)">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://docs.databricks.com">
  <meta property="og:description" content="" id="og-description">
  <meta name="twitter:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta name="twitter:site" content="@databricks">
  <meta name="twitter:creator" content="@databricks">
  <meta property="twitter:description" content="">
  
  <title>CREATE FUNCTION (SQL and Python) &#124; Databricks on AWS</title>
  
  
  <link rel="canonical" href="https://docs.databricks.com/en/sql/language-manual/sql-ref-syntax-ddl-create-sql-function.html">
  <!-- Start hreflang tag -->
  <link rel="alternate" hreflang="en" href="https://docs.databricks.com/en/sql/language-manual/sql-ref-syntax-ddl-create-sql-function.html" />
<link rel="alternate" hreflang="x-default" href="https://docs.databricks.com/en/sql/language-manual/sql-ref-syntax-ddl-create-sql-function.html" />
  <!-- End hreflang tag -->
  
  
  <link rel="shortcut icon" href="../../_static/favicon.ico" />
  

  

  

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T85FQ33');</script>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWTKQQ');</script>
    
  <!-- End Google Tag Manager -->


  <!-- MaxMind / GEO IP -->
  <script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>
  <!-- End MaxMind / GEO IP -->

  
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600&display=swap" rel="stylesheet">
  <link rel="preload" href="../../_static/fonts/DMSans-Bold.ttf" as="font">
  <link rel="preload" href="../../_static/fonts/DMSans-Regular.ttf" as="font">
  <link rel="preload" href="../../_static/fonts/DMMono-Regular.ttf" as="font">
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/cloud-provider-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/translation-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/searchunify/main.css" type="text/css" />

  
  <link rel="index" title="Index" href="../../genindex.html" />
  <link rel="search" title="Search" href="../../search.html" />
  <link rel="top" title="Databricks on AWS" href="../../index.html" /> 
</head>

<body class="wy-body-for-nav" role="document">

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T85FQ33"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWTKQQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  
  <nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
    
<nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
  <div class="container-logo">
    <ul class="mobile-menu-toggle">
        <li class="menu-toggle">
            <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
            
            <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
              alt="Databricks" /></a>   
               
              </li>
    </ul>
    <ul class="su_nav-menu">
      <li class="menu-toggle">
        <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
        
          
        
        <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
            alt="Databricks" /></a></li>
        <!-- 
<li><a href="https://help.databricks.com/s/">Help Center</a></li>
<li class="active"><a href="https://docs.databricks.com/en/">Documentation</a></li>
<li><a href="https://kb.databricks.com/">Knowledge Base</a></li>
 -->
    </ul>
  </div>
  <div class="su_nav-right">
    <ul class="su_link-mobile">
  <!-- Mobile header code can go here -->
</ul>
<ul class="right-try-list">
   
</ul>
  </div>
</nav>
  </nav>

  <div class="su_sub-header">
    <div class="container">
      <div class="su_sub-header-inner">
        <!-- <div class="su_subnav-menu-right">
  <div id="auto" style="width: 100%;">
    <div ng-controller="SearchautoController">
      <div bind-html-compile="autocompleteHtml">
        <form class="su__search-box-1" disabled="disabled">
          <input class="su__search-input" type="search" name="Search box" id="su__search-b" placeholder="Search Documentation" disabled="disabled"/>
          <button class="su__search-button" type="submit" class="button button-success" disabled="disabled">
            <svg width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                fill="#333"></path>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>
</div> -->
        <div class="search-lng-gap"></div>
        <div style="margin-left: 16px; margin-right: 16px;">
          <!-- <select name="lng selector" id="lng-selector">
    <option value="../../../en/sql/language-manual/sql-ref-syntax-ddl-create-sql-function.html" class="notranslate">English</option>
    <option value="../../../ja/sql/language-manual/sql-ref-syntax-ddl-create-sql-function.html" class="notranslate">日本語</option>
    <option value="../../../pt/sql/language-manual/sql-ref-syntax-ddl-create-sql-function.html" class="notranslate">Português (Brasil)</option>
</select> -->
        </div>
        <div class="cloud-selector-container">
          <!-- <select name="cloud provider selector" id="cloud-provider-selector">
    <option value="aws" selected class="notranslate">
        Amazon Web Services
    </option>
    <option value="azure"  class="notranslate">
        Microsoft Azure
    </option>
    <option value="gcp"  class="notranslate">
        Google Cloud Platform
    </option>
</select> -->
        </div>
      </div>
    </div>
  </div>
  <page class="js-page-container">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side su_nav-side">
<div class="wy-side-scroll">
  <div class="wy-side-nav-search">
    

    

    

    
  </div>

  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      <a href="../../index.html" class="main-navigation-home">Databricks on AWS</a>
    

    
      

      
        <p class="caption"><span class="caption-text">Load &amp; manage data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rag-temp/index.html">RAG Studio</a></li>
</ul>

      
    
  </div>

  <div role="contentinfo">
    
  <p class="build_info notranslate"data-last-edit="December 23, 2023">
    Updated Jan 11, 2024
  </p>
<script>
  window.addEventListener('DOMContentLoaded',function(){
    var h1=document.querySelector('h1');
    var bi=document.querySelector('[data-last-edit]');
    if(h1 && bi){
      var ver = document.createElement('p');
      ver.className = 'version_info';
      ver.textContent = bi.getAttribute('data-last-edit');
      h1.parentElement.insertBefore(ver, h1.nextElementSibling);
    }
  });
</script>

    <p>
      
        <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
      
    </p>
  </div>
</div>
</nav>
    
    
<main class="wy-grid-for-nav su_nav-grid">
  <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
    <div class="wy-nav-content su__nav_content">
      <div class="rst-content">
        





<div role="navigation" aria-label="breadcrumbs navigation" class="wy-breadcrumbs-wrapper">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Documentation</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
    
      <li>CREATE FUNCTION (SQL and Python)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>
</div>
        
        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
          <div itemprop="articleBody">
            
    
  <div class="section" id="create-function-sql-and-python">
<h1>CREATE FUNCTION (SQL and Python)<a class="headerlink" href="#create-function-sql-and-python" title="Permalink to this headline"> </a></h1>
<p><strong>Applies to:</strong> <img alt="check marked yes" src="../../_images/check.png" /> Databricks SQL <img alt="check marked yes" src="../../_images/check.png" /> Databricks Runtime 9.1 and above</p>
<p>Creates a SQL scalar or table function that takes a set of arguments and returns a scalar value or a set of rows.</p>
<p><strong>Applies to:</strong> <img alt="check marked yes" src="../../_images/check.png" /> Databricks SQL <img alt="check marked yes" src="../../_images/check.png" /> Databricks Runtime 13.2 and above</p>
<p>Creates a Python scalar function that takes a set of arguments and returns a scalar value.</p>
<p>Python UDFs require Unity Catalog on serverless or pro SQL warehouses, or a shared or single user Unity Catalog cluster.</p>
<p><strong>Applies to:</strong> <img alt="check marked yes" src="../../_images/check.png" /> Databricks SQL <img alt="check marked yes" src="../../_images/check.png" /> Databricks Runtime 14.1 and above</p>
<p>In addition to <a class="reference internal" href="sql-ref-function-invocation.html#positional-parameter-invocation"><span class="std std-ref">positional parameter invocation</span></a>, you can also invoke SQL and Python UDF using <a class="reference internal" href="sql-ref-function-invocation.html#named-parameter-invocation"><span class="std std-ref">named parameter invocation</span></a>.</p>
<div class="section" id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline"> </a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="p">[</span><span class="n">OR</span> <span class="n">REPLACE</span><span class="p">]</span> <span class="p">[</span><span class="n">TEMPORARY</span><span class="p">]</span> <span class="n">FUNCTION</span> <span class="p">[</span><span class="n">IF</span> <span class="n">NOT</span> <span class="n">EXISTS</span><span class="p">]</span>
    <span class="n">function_name</span> <span class="p">(</span> <span class="p">[</span> <span class="n">function_parameter</span> <span class="p">[,</span> <span class="o">...</span><span class="p">]</span> <span class="p">]</span> <span class="p">)</span>
    <span class="p">{</span> <span class="p">[</span> <span class="n">RETURNS</span> <span class="n">data_type</span> <span class="p">]</span> <span class="o">|</span>
      <span class="n">RETURNS</span> <span class="n">TABLE</span> <span class="p">[</span> <span class="p">(</span> <span class="n">column_spec</span> <span class="p">[,</span> <span class="o">...</span><span class="p">])</span> <span class="p">]</span> <span class="p">}</span>
    <span class="p">[</span> <span class="n">characteristic</span> <span class="p">[</span><span class="o">...</span><span class="p">]</span> <span class="p">]</span>
    <span class="p">{</span> <span class="n">AS</span> <span class="n">dollar_quoted_string</span> <span class="o">|</span> <span class="n">RETURN</span> <span class="p">{</span> <span class="n">expression</span> <span class="o">|</span> <span class="n">query</span> <span class="p">}</span> <span class="p">}</span>

<span class="n">function_parameter</span>
    <span class="n">parameter_name</span> <span class="n">data_type</span> <span class="p">[</span><span class="n">DEFAULT</span> <span class="n">default_expression</span><span class="p">]</span> <span class="p">[</span><span class="n">COMMENT</span> <span class="n">parameter_comment</span><span class="p">]</span>

<span class="n">column_spec</span>
    <span class="n">column_name</span> <span class="n">data_type</span> <span class="p">[</span><span class="n">COMMENT</span> <span class="n">column_comment</span><span class="p">]</span>

<span class="n">characteristic</span>
  <span class="p">{</span> <span class="n">LANGUAGE</span> <span class="p">{</span> <span class="n">SQL</span> <span class="o">|</span> <span class="n">PYTHON</span> <span class="p">}</span> <span class="o">|</span>
    <span class="p">[</span><span class="n">NOT</span><span class="p">]</span> <span class="n">DETERMINISTIC</span> <span class="o">|</span>
    <span class="n">COMMENT</span> <span class="n">function_comment</span> <span class="o">|</span>
    <span class="p">[</span><span class="n">CONTAINS</span> <span class="n">SQL</span> <span class="o">|</span> <span class="n">READS</span> <span class="n">SQL</span> <span class="n">DATA</span><span class="p">]</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline"> </a></h2>
<ul>
<li><p><strong>OR REPLACE</strong></p>
<p>If specified, the function with the same name and signature (number of parameters and parameter types) is replaced. You cannot replace an existing function with a different signature. This is mainly useful to update the function body and the return type of the function. You cannot specify this parameter with <code class="docutils literal notranslate"><span class="pre">IF</span> <span class="pre">NOT</span> <span class="pre">EXISTS</span></code>.</p>
</li>
<li><p><strong>TEMPORARY</strong></p>
<p>The scope of the function being created. When you specify <code class="docutils literal notranslate"><span class="pre">TEMPORARY</span></code>, the created function is valid and visible in the current session. No persistent entry is made in the catalog.</p>
</li>
<li><p><strong>IF NOT EXISTS</strong></p>
<p>If specified, creates the function only when it does not exist. The creation of the function succeeds (no error is thrown) if the specified function already exists in the system. You cannot specify this parameter with <code class="docutils literal notranslate"><span class="pre">OR</span> <span class="pre">REPLACE</span></code>.</p>
</li>
<li><p><strong><a class="reference internal" href="sql-ref-names.html#function-name"><span class="std std-ref">function_name</span></a></strong></p>
<p>A name for the function. For a permanent function, you can optionally qualify the function name with a schema name.
If the name is not qualified the permanent function is created in the current schema.</p>
</li>
<li><p><strong>function_parameter</strong></p>
<p>Specifies a parameter of the function.</p>
<ul>
<li><p><strong><a class="reference internal" href="sql-ref-identifiers.html"><span class="doc">parameter_name</span></a></strong></p>
<p>The parameter name must be unique within the function.</p>
</li>
<li><p><strong><a class="reference internal" href="sql-ref-datatypes.html"><span class="doc">data_type</span></a></strong></p>
<p>Any supported data type.
For Python, <code class="docutils literal notranslate"><span class="pre">data_type</span></code> is cast to a Python data type according to this <a class="reference internal" href="sql-ref-datatypes.html"><span class="doc">language mapping</span></a>.</p>
</li>
<li><p><strong>DEFAULT <a class="reference internal" href="sql-ref-expression.html"><span class="doc">default_expression</span></a></strong></p>
<p><strong>Applies to:</strong> <img alt="check marked yes" src="../../_images/check.png" /> Databricks SQL <img alt="check marked yes" src="../../_images/check.png" /> Databricks Runtime 10.4 and above</p>
<p>An optional default to be used when a function invocation does not assign an argument to the parameter.
<code class="docutils literal notranslate"><span class="pre">default_expression</span></code> must be <a class="reference internal" href="sql-ref-datatype-rules.html"><span class="doc">castable</span></a> to <code class="docutils literal notranslate"><span class="pre">data_type</span></code>.
The expression must not reference another parameter or contain a subquery.</p>
<p>When you specify a default for one parameter, all following parameters must also have a default.</p>
<p><code class="docutils literal notranslate"><span class="pre">DEFAULT</span></code> is supported for <code class="docutils literal notranslate"><span class="pre">LANGUAGE</span> <span class="pre">SQL</span></code> only.</p>
</li>
<li><p><strong>COMMENT comment</strong></p>
<p>An optional description of the parameter. <code class="docutils literal notranslate"><span class="pre">comment</span></code> must be a <code class="docutils literal notranslate"><span class="pre">STRING</span></code> literal.</p>
</li>
</ul>
</li>
<li><p><strong>RETURNS <a class="reference internal" href="sql-ref-datatypes.html"><span class="doc">data_type</span></a></strong></p>
<p>The return data type of the scalar function.
For Python UDFs, return values must exactly match the data type as specified in <code class="docutils literal notranslate"><span class="pre">data_type</span></code>.
Otherwise, to prevent unanticipated type conversions, the function will fail.</p>
<p>For SQL UDF this clause is optional. The data type will be derived from the function body if it is not provided.</p>
</li>
<li><p><strong>RETURNS TABLE [ (column_spec [,…] ) ]</strong></p>
<p>This clause marks the function as a table function.
Optionally it also specifies the signature of the result of the table function.
If no column_spec is specified it will be derived from the body of the SQL UDF.</p>
<p><code class="docutils literal notranslate"><span class="pre">RETURNS</span> <span class="pre">TABLE</span></code> is supported for <code class="docutils literal notranslate"><span class="pre">LANGUAGE</span> <span class="pre">SQL</span></code> only.</p>
<ul>
<li><p><strong><a class="reference internal" href="sql-ref-identifiers.html"><span class="doc">column_name</span></a></strong></p>
<p>The column name must be unique within the signature.</p>
</li>
<li><p><strong><a class="reference internal" href="sql-ref-datatypes.html"><span class="doc">data_type</span></a></strong></p>
<p>Any supported data type.</p>
</li>
<li><p><strong>COMMENT column_comment</strong></p>
<p>An optional description of the column. <code class="docutils literal notranslate"><span class="pre">comment</span></code> must be a <code class="docutils literal notranslate"><span class="pre">STRING</span></code> literal.</p>
</li>
</ul>
</li>
<li><p><strong>RETURN { <a class="reference internal" href="sql-ref-expression.html"><span class="doc">expression</span></a> | <a class="reference internal" href="sql-ref-syntax-qry-select.html"><span class="doc">query</span></a> }</strong></p>
<p>The body of the function. For a scalar function, it can either be a query or an expression. For a table function, it can only be a query. The expression cannot contain:</p>
<ul class="simple">
<li><p><a class="reference internal" href="sql-ref-functions-builtin.html#aggregate-functions"><span class="std std-ref">Aggregate functions</span></a></p></li>
<li><p><a class="reference internal" href="sql-ref-functions-builtin.html#analytic-window-functions"><span class="std std-ref">Window functions</span></a></p></li>
<li><p><a class="reference internal" href="sql-ref-functions-builtin.html#ranking-window-functions"><span class="std std-ref">Ranking functions</span></a></p></li>
<li><p>Row producing functions such as <a class="reference internal" href="functions/explode.html"><span class="doc">explode</span></a></p></li>
</ul>
<p>Within the body of the function you can refer to parameter by its unqualified name or by qualifying the parameter with the function name.</p>
</li>
<li><p><strong>AS dollar_quoted_definition</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">dollar_quoted_definition</span></code> is the Python function <code class="docutils literal notranslate"><span class="pre">body</span></code> enclosed by two matching <code class="docutils literal notranslate"><span class="pre">$[tag]$body$[tag]$</span></code>.
<code class="docutils literal notranslate"><span class="pre">tag</span></code> can be an empty string.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$$
  return “Hello world”
$$

$py$
  return &quot;Hello World&quot;
$py$
</pre></div>
</div>
</li>
<li><p><strong>characteristic</strong></p>
<p>All characteristic clauses are optional.
You can specify any number of them in any order, but you can specify each clause only once.</p>
<ul>
<li><p><strong>LANGUAGE SQL</strong> or <strong>LANGUAGE PYTHON</strong></p>
<p>The language of the function implementation.</p>
</li>
<li><p><strong>[NOT] DETERMINISTIC</strong></p>
<p>Whether the function is deterministic.
A function is deterministic when it returns only one result for a given set of arguments.
You may mark a function as <code class="docutils literal notranslate"><span class="pre">DETERMINISTIC</span></code> when its body is not and vice versa.
A reason for this may be to encourage or discourage query optimizations such as constant
folding or query caching.
If you do not specify ths option it is derived from the function body.</p>
</li>
<li><p><strong>COMMENT function_comment</strong></p>
<p>A comment for the function. <code class="docutils literal notranslate"><span class="pre">function_comment</span></code> must be String literal.</p>
</li>
<li><p><strong>CONTAINS SQL</strong> or <strong>READS SQL DATA</strong></p>
<p>Whether a function reads data directly or indirectly from a table or a view.
When the function reads SQL data, you cannot specify <code class="docutils literal notranslate"><span class="pre">CONTAINS</span> <span class="pre">SQL</span></code>.
If you don’t specify either clause, the property is derived from the function body.</p>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="supported-libraries-in-python-udfs">
<h2>Supported Libraries in Python UDFs<a class="headerlink" href="#supported-libraries-in-python-udfs" title="Permalink to this headline"> </a></h2>
<p>To use any dependencies, use <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">&lt;package&gt;</span></code> within the function body. For example, see the following:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="p">[</span><span class="err">…</span><span class="p">]</span>
<span class="k">AS</span><span class="w"> </span><span class="err">$$</span>
<span class="w">   </span><span class="n">import</span><span class="w"> </span><span class="n">json</span>
<span class="w">   </span><span class="p">[...</span><span class="w"> </span><span class="p">(</span><span class="n">rest</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">definition</span><span class="p">)]</span>
<span class="err">$$</span>
</pre></div>
</div>
<p>Dependencies are limited to the standard Python library and the following libraries:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Package</p></th>
<th class="head"><p>Version</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bleach</p></td>
<td><p>4.0.0</p></td>
</tr>
<tr class="row-odd"><td><p>chardet</p></td>
<td><p>4.0.0</p></td>
</tr>
<tr class="row-even"><td><p>charset-normalizer</p></td>
<td><p>2.0.4</p></td>
</tr>
<tr class="row-odd"><td><p>defusedxml</p></td>
<td><p>0.7.1</p></td>
</tr>
<tr class="row-even"><td><p>googleapis-common-protos</p></td>
<td><p>1.56.4</p></td>
</tr>
<tr class="row-odd"><td><p>grpcio</p></td>
<td><p>1.47.0</p></td>
</tr>
<tr class="row-even"><td><p>grpcio-status</p></td>
<td><p>1.47.0</p></td>
</tr>
<tr class="row-odd"><td><p>jmespath</p></td>
<td><p>0.10.0</p></td>
</tr>
<tr class="row-even"><td><p>joblib</p></td>
<td><p>1.1.0</p></td>
</tr>
<tr class="row-odd"><td><p>numpy</p></td>
<td><p>1.20.3</p></td>
</tr>
<tr class="row-even"><td><p>packaging</p></td>
<td><p>21.3</p></td>
</tr>
<tr class="row-odd"><td><p>pandas</p></td>
<td><p>1.3.4</p></td>
</tr>
<tr class="row-even"><td><p>patsy</p></td>
<td><p>0.5.2</p></td>
</tr>
<tr class="row-odd"><td><p>protobuf</p></td>
<td><p>4.21.5</p></td>
</tr>
<tr class="row-even"><td><p>pyarrow</p></td>
<td><p>7.0.0</p></td>
</tr>
<tr class="row-odd"><td><p>pyparsing</p></td>
<td><p>3.0.9</p></td>
</tr>
<tr class="row-even"><td><p>python-dateutil</p></td>
<td><p>2.8.2</p></td>
</tr>
<tr class="row-odd"><td><p>pytz</p></td>
<td><p>2021.3</p></td>
</tr>
<tr class="row-even"><td><p>scikit-learn</p></td>
<td><p>0.24.2”</p></td>
</tr>
<tr class="row-odd"><td><p>scipy</p></td>
<td><p>1.7.1”</p></td>
</tr>
<tr class="row-even"><td><p>setuptools</p></td>
<td><p>65.2.0</p></td>
</tr>
<tr class="row-odd"><td><p>six</p></td>
<td><p>1.16.0</p></td>
</tr>
<tr class="row-even"><td><p>threadpoolctl</p></td>
<td><p>3.1.0</p></td>
</tr>
<tr class="row-odd"><td><p>webencodings</p></td>
<td><p>0.5.1</p></td>
</tr>
<tr class="row-even"><td><p>user-agents</p></td>
<td><p>2.2.0</p></td>
</tr>
<tr class="row-odd"><td><p>cryptography</p></td>
<td><p>38.0.4</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline"> </a></h2>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#create-and-use-a-sql-scalar-function" id="id1">Create and use a SQL scalar function</a></p></li>
<li><p><a class="reference internal" href="#create-and-use-a-function-that-uses-defaults" id="id2">Create and use a function that uses DEFAULTs</a></p></li>
<li><p><a class="reference internal" href="#create-a-sql-table-function" id="id3">Create a SQL table function</a></p></li>
<li><p><a class="reference internal" href="#replace-a-sql-function" id="id4">Replace a SQL function</a></p></li>
<li><p><a class="reference internal" href="#describe-a-sql-function" id="id5">Describe a SQL function</a></p></li>
<li><p><a class="reference internal" href="#create-python-functions" id="id6">Create Python functions</a></p></li>
</ul>
</div>
<div class="section" id="create-and-use-a-sql-scalar-function">
<h3><a class="toc-backref" href="#id1">Create and use a SQL scalar function</a><a class="headerlink" href="#create-and-use-a-sql-scalar-function" title="Permalink to this headline"> </a></h3>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="n">t</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span><span class="w"> </span><span class="n">c2</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Create a temporary function with no parameter.</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">TEMPORARY</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">hello</span><span class="p">()</span><span class="w"> </span><span class="k">RETURNS</span><span class="w"> </span><span class="n">STRING</span><span class="w"> </span><span class="k">RETURN</span><span class="w"> </span><span class="s1">&#39;Hello World!&#39;</span><span class="p">;</span>

<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">hello</span><span class="p">();</span>
<span class="w">  </span><span class="n">Hello</span><span class="w"> </span><span class="n">World</span><span class="o">!</span>

<span class="c1">-- Create a permanent function with parameters.</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">area</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="n">DOUBLE</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">DOUBLE</span><span class="p">)</span><span class="w"> </span><span class="k">RETURNS</span><span class="w"> </span><span class="n">DOUBLE</span><span class="w"> </span><span class="k">RETURN</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>

<span class="c1">-- Use a SQL function in the SELECT clause of a query.</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">area</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span><span class="w"> </span><span class="n">c2</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">t</span><span class="p">;</span>
<span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span>
<span class="w"> </span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span>

<span class="c1">-- Use a SQL function in the WHERE clause of a query.</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">area</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span><span class="w"> </span><span class="n">c2</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="mi">2</span>

<span class="c1">-- Compose SQL functions.</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">square</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="n">DOUBLE</span><span class="p">)</span><span class="w"> </span><span class="k">RETURNS</span><span class="w"> </span><span class="n">DOUBLE</span><span class="w"> </span><span class="k">RETURN</span><span class="w"> </span><span class="n">area</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">);</span>

<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">c1</span><span class="p">,</span><span class="w"> </span><span class="n">square</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">square</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">t</span><span class="p">;</span>
<span class="w">  </span><span class="mi">0</span><span class="w">  </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span>
<span class="w">  </span><span class="mi">1</span><span class="w">  </span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span>

<span class="c1">-- Create a non-deterministic function</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">roll_dice</span><span class="p">()</span>
<span class="w">    </span><span class="k">RETURNS</span><span class="w"> </span><span class="nb">INT</span>
<span class="w">    </span><span class="k">NOT</span><span class="w"> </span><span class="k">DETERMINISTIC</span>
<span class="w">    </span><span class="k">CONTAINS</span><span class="w"> </span><span class="k">SQL</span>
<span class="w">    </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;Roll a single 6 sided die&#39;</span>
<span class="w">    </span><span class="k">RETURN</span><span class="w"> </span><span class="p">(</span><span class="n">rand</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">6</span><span class="p">)::</span><span class="nb">INT</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="c1">-- Roll a single 6-sided die</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">roll_dice</span><span class="p">();</span>
<span class="w"> </span><span class="mi">3</span>
</pre></div>
</div>
</div>
<div class="section" id="create-and-use-a-function-that-uses-defaults">
<h3><a class="toc-backref" href="#id2">Create and use a function that uses DEFAULTs</a><a class="headerlink" href="#create-and-use-a-function-that-uses-defaults" title="Permalink to this headline"> </a></h3>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Extend the function to support variable number of sides and dice.</span>
<span class="c1">-- Use defaults to support a variable number of arguments</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">DROP</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">roll_dice</span><span class="p">;</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">roll_dice</span><span class="p">(</span><span class="n">num_dice</span><span class="w">  </span><span class="nb">INT</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;number of dice to roll (Default: 1)&#39;</span><span class="p">,</span>
<span class="w">                            </span><span class="n">num_sides</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;number of sides per die (Default: 6)&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="k">RETURNS</span><span class="w"> </span><span class="nb">INT</span>
<span class="w">    </span><span class="k">NOT</span><span class="w"> </span><span class="k">DETERMINISTIC</span>
<span class="w">    </span><span class="k">CONTAINS</span><span class="w"> </span><span class="k">SQL</span>
<span class="w">    </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;Roll a number of n-sided dice&#39;</span>
<span class="w">    </span><span class="k">RETURN</span><span class="w"> </span><span class="k">aggregate</span><span class="p">(</span><span class="n">sequence</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">roll_dice</span><span class="p">.</span><span class="n">num_dice</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span>
<span class="w">                     </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                     </span><span class="p">(</span><span class="n">acc</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">rand</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">roll_dice</span><span class="p">.</span><span class="n">num_sides</span><span class="p">)::</span><span class="nb">int</span><span class="p">,</span>
<span class="w">                     </span><span class="n">acc</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">acc</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">roll_dice</span><span class="p">.</span><span class="n">num_dice</span><span class="p">);</span>

<span class="c1">-- Roll a single 6-sided die still works</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">roll_dice</span><span class="p">();</span>
<span class="w"> </span><span class="mi">3</span>

<span class="c1">-- Roll 3 6-sided dice</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">roll_dice</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="w"> </span><span class="mi">15</span>

<span class="c1">-- Roll 3 10-sided dice</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">roll_dice</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<span class="w"> </span><span class="mi">21</span>

<span class="c1">-- Roll 3 10-sided dice using named parameter invocation</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">roll_dice</span><span class="p">(</span><span class="mi">10</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">num_sides</span><span class="p">,</span><span class="w"> </span><span class="n">num_dice</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
<span class="w"> </span><span class="mi">17</span>

<span class="c1">-- Create a SQL function with a scalar subquery.</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="n">scores</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="n">score</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>

<span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">avg_score</span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="nb">INT</span><span class="p">)</span><span class="w"> </span><span class="k">RETURNS</span><span class="w"> </span><span class="nb">FLOAT</span>
<span class="w">    </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;get an average score of the player&#39;</span>
<span class="w">    </span><span class="k">RETURN</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">AVG</span><span class="p">(</span><span class="n">score</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">scores</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">player</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="p">;</span>

<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">c1</span><span class="p">,</span><span class="w"> </span><span class="n">avg_score</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">t</span><span class="p">;</span>
<span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="mi">1</span><span class="p">.</span><span class="mi">5</span>
<span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="mi">3</span><span class="p">.</span><span class="mi">5</span>
</pre></div>
</div>
</div>
<div class="section" id="create-a-sql-table-function">
<h3><a class="toc-backref" href="#id3">Create a SQL table function</a><a class="headerlink" href="#create-a-sql-table-function" title="Permalink to this headline"> </a></h3>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Produce all weekdays between two dates</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">weekdays</span><span class="p">(</span><span class="k">start</span><span class="w"> </span><span class="nb">DATE</span><span class="p">,</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="nb">DATE</span><span class="p">)</span>
<span class="w">    </span><span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="p">(</span><span class="n">day_of_week</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="w"> </span><span class="k">day</span><span class="w"> </span><span class="nb">DATE</span><span class="p">)</span>
<span class="w">    </span><span class="k">RETURN</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">extract</span><span class="p">(</span><span class="n">DAYOFWEEK_ISO</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="k">day</span><span class="p">),</span><span class="w"> </span><span class="k">day</span>
<span class="w">             </span><span class="k">FROM</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">sequence</span><span class="p">(</span><span class="n">weekdays</span><span class="p">.</span><span class="k">start</span><span class="p">,</span><span class="w"> </span><span class="n">weekdays</span><span class="p">.</span><span class="k">end</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">T</span><span class="p">(</span><span class="n">days</span><span class="p">)</span>
<span class="w">                  </span><span class="k">LATERAL</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="n">explode</span><span class="p">(</span><span class="n">days</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">day</span>
<span class="w">             </span><span class="k">WHERE</span><span class="w"> </span><span class="k">extract</span><span class="p">(</span><span class="n">DAYOFWEEK_ISO</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="k">day</span><span class="p">)</span><span class="w"> </span><span class="k">BETWEEN</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>

<span class="c1">-- Return all weekdays</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">weekdays</span><span class="p">.</span><span class="n">day_of_week</span><span class="p">,</span><span class="w"> </span><span class="k">day</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="n">weekdays</span><span class="p">(</span><span class="nb">DATE</span><span class="s1">&#39;2022-01-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="nb">DATE</span><span class="s1">&#39;2022-01-14&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="mi">1</span><span class="w">     </span><span class="mi">2022</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">03</span>
<span class="w">  </span><span class="mi">2</span><span class="w">     </span><span class="mi">2022</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">04</span>
<span class="w">  </span><span class="mi">3</span><span class="w">     </span><span class="mi">2022</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">05</span>
<span class="w">  </span><span class="mi">4</span><span class="w">     </span><span class="mi">2022</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">06</span>
<span class="w">  </span><span class="mi">5</span><span class="w">     </span><span class="mi">2022</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">07</span>
<span class="w">  </span><span class="mi">1</span><span class="w">     </span><span class="mi">2022</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">10</span>
<span class="w">  </span><span class="mi">2</span><span class="w">     </span><span class="mi">2022</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">11</span>
<span class="w">  </span><span class="mi">3</span><span class="w">     </span><span class="mi">2022</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span>
<span class="w">  </span><span class="mi">4</span><span class="w">     </span><span class="mi">2022</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">13</span>
<span class="w">  </span><span class="mi">5</span><span class="w">     </span><span class="mi">2022</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">14</span>

<span class="c1">-- Return weekdays for date ranges originating from a LATERAL correlation</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">weekdays</span><span class="p">.</span><span class="o">*</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="nb">DATE</span><span class="s1">&#39;2020-01-01&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="p">(</span><span class="nb">DATE</span><span class="s1">&#39;2021-01-01&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="p">(</span><span class="nb">DATE</span><span class="s1">&#39;2022-01-01&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">starts</span><span class="p">(</span><span class="k">start</span><span class="p">),</span>
<span class="w">         </span><span class="k">LATERAL</span><span class="w"> </span><span class="n">weekdays</span><span class="p">(</span><span class="k">start</span><span class="p">,</span><span class="w"> </span><span class="k">start</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="s1">&#39;7&#39;</span><span class="w"> </span><span class="n">DAYS</span><span class="p">);</span>
<span class="w">  </span><span class="mi">3</span><span class="w">     </span><span class="mi">2020</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span>
<span class="w">  </span><span class="mi">4</span><span class="w">     </span><span class="mi">2020</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span>
<span class="w">  </span><span class="mi">5</span><span class="w">     </span><span class="mi">2020</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">03</span>
<span class="w">  </span><span class="mi">1</span><span class="w">     </span><span class="mi">2020</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">06</span>
<span class="w">  </span><span class="mi">2</span><span class="w">     </span><span class="mi">2020</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">07</span>
<span class="w">  </span><span class="mi">3</span><span class="w">     </span><span class="mi">2020</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">08</span>
<span class="w">  </span><span class="mi">5</span><span class="w">     </span><span class="mi">2021</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span>
<span class="w">  </span><span class="mi">1</span><span class="w">     </span><span class="mi">2021</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">04</span>
<span class="w">  </span><span class="mi">2</span><span class="w">     </span><span class="mi">2021</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">05</span>
<span class="w">  </span><span class="mi">3</span><span class="w">     </span><span class="mi">2021</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">06</span>
<span class="w">  </span><span class="mi">4</span><span class="w">     </span><span class="mi">2021</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">07</span>
<span class="w">  </span><span class="mi">5</span><span class="w">     </span><span class="mi">2021</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">08</span>
<span class="w">  </span><span class="mi">1</span><span class="w">     </span><span class="mi">2022</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">03</span>
<span class="w">  </span><span class="mi">2</span><span class="w">     </span><span class="mi">2022</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">04</span>
<span class="w">  </span><span class="mi">3</span><span class="w">     </span><span class="mi">2022</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">05</span>
<span class="w">  </span><span class="mi">4</span><span class="w">     </span><span class="mi">2022</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">06</span>
<span class="w">  </span><span class="mi">5</span><span class="w">     </span><span class="mi">2022</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">07</span>
</pre></div>
</div>
</div>
<div class="section" id="replace-a-sql-function">
<h3><a class="toc-backref" href="#id4">Replace a SQL function</a><a class="headerlink" href="#replace-a-sql-function" title="Permalink to this headline"> </a></h3>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Replace a SQL scalar function.</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="k">REPLACE</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">square</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="n">DOUBLE</span><span class="p">)</span><span class="w"> </span><span class="k">RETURNS</span><span class="w"> </span><span class="n">DOUBLE</span><span class="w"> </span><span class="k">RETURN</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>

<span class="c1">-- Replace a SQL table function.</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="k">REPLACE</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">getemps</span><span class="p">(</span><span class="n">deptno</span><span class="w"> </span><span class="nb">INT</span><span class="p">)</span>
<span class="w">    </span><span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="n">STRING</span><span class="p">)</span>
<span class="w">    </span><span class="k">RETURN</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">employee</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">deptno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getemps</span><span class="p">.</span><span class="n">deptno</span><span class="p">;</span>

<span class="c1">-- Describe a SQL table function.</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">DESCRIBE</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">getemps</span><span class="p">;</span>
<span class="w"> </span><span class="k">Function</span><span class="p">:</span><span class="w"> </span><span class="k">default</span><span class="p">.</span><span class="n">getemps</span>
<span class="w"> </span><span class="k">Type</span><span class="p">:</span><span class="w">     </span><span class="k">TABLE</span>
<span class="w"> </span><span class="k">Input</span><span class="p">:</span><span class="w">    </span><span class="n">deptno</span><span class="w"> </span><span class="nb">INT</span>
<span class="w"> </span><span class="k">Returns</span><span class="p">:</span><span class="w">  </span><span class="n">id</span><span class="w">   </span><span class="nb">INT</span>
<span class="w">           </span><span class="n">name</span><span class="w"> </span><span class="n">STRING</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You cannot replace an existing function with a different signature.</p>
</div>
</div>
<div class="section" id="describe-a-sql-function">
<h3><a class="toc-backref" href="#id5">Describe a SQL function</a><a class="headerlink" href="#describe-a-sql-function" title="Permalink to this headline"> </a></h3>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">DESCRIBE</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">hello</span><span class="p">;</span>
<span class="w"> </span><span class="k">Function</span><span class="p">:</span><span class="w"> </span><span class="n">hello</span>
<span class="w"> </span><span class="k">Type</span><span class="p">:</span><span class="w">     </span><span class="n">SCALAR</span>
<span class="w"> </span><span class="k">Input</span><span class="p">:</span><span class="w">    </span><span class="p">()</span>
<span class="w"> </span><span class="k">Returns</span><span class="p">:</span><span class="w">  </span><span class="n">STRING</span>

<span class="o">&gt;</span><span class="w"> </span><span class="k">DESCRIBE</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">area</span><span class="p">;</span>
<span class="w"> </span><span class="k">Function</span><span class="p">:</span><span class="w"> </span><span class="k">default</span><span class="p">.</span><span class="n">area</span>
<span class="w"> </span><span class="k">Type</span><span class="p">:</span><span class="w">     </span><span class="n">SCALAR</span>
<span class="w"> </span><span class="k">Input</span><span class="p">:</span><span class="w">    </span><span class="n">x</span><span class="w"> </span><span class="n">DOUBLE</span>
<span class="w">           </span><span class="n">y</span><span class="w"> </span><span class="n">DOUBLE</span>
<span class="w"> </span><span class="k">Returns</span><span class="p">:</span><span class="w">  </span><span class="n">DOUBLE</span>

<span class="o">&gt;</span><span class="w"> </span><span class="k">DESCRIBE</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">roll_dice</span><span class="p">;</span>
<span class="w"> </span><span class="k">Function</span><span class="p">:</span><span class="w"> </span><span class="k">default</span><span class="p">.</span><span class="n">roll_dice</span>
<span class="w"> </span><span class="k">Type</span><span class="p">:</span><span class="w">     </span><span class="n">SCALAR</span>
<span class="w"> </span><span class="k">Input</span><span class="p">:</span><span class="w">    </span><span class="n">num_dice</span><span class="w">  </span><span class="nb">INT</span>
<span class="w">           </span><span class="n">num_sides</span><span class="w"> </span><span class="nb">INT</span>
<span class="w"> </span><span class="k">Returns</span><span class="p">:</span><span class="w">  </span><span class="nb">INT</span>

<span class="o">&gt;</span><span class="w"> </span><span class="k">DESCRIBE</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">EXTENDED</span><span class="w"> </span><span class="n">roll_dice</span><span class="p">;</span>
<span class="w"> </span><span class="k">Function</span><span class="p">:</span><span class="w">      </span><span class="k">default</span><span class="p">.</span><span class="n">roll_dice</span>
<span class="w"> </span><span class="k">Type</span><span class="p">:</span><span class="w">          </span><span class="n">SCALAR</span>
<span class="w"> </span><span class="k">Input</span><span class="p">:</span><span class="w">         </span><span class="n">num_dice</span><span class="w">  </span><span class="nb">INT</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="s1">&#39;number of dice to roll (Default: 1)&#39;</span>
<span class="w">                </span><span class="n">num_sides</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="s1">&#39;number of sides per dice (Default: 6)&#39;</span>
<span class="w"> </span><span class="k">Returns</span><span class="p">:</span><span class="w">       </span><span class="nb">INT</span>
<span class="w"> </span><span class="k">Comment</span><span class="p">:</span><span class="w">       </span><span class="n">Roll</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nb">number</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">m</span><span class="o">-</span><span class="n">sided</span><span class="w"> </span><span class="n">dice</span>
<span class="w"> </span><span class="k">Deterministic</span><span class="p">:</span><span class="w"> </span><span class="k">false</span>
<span class="w"> </span><span class="k">Data</span><span class="w"> </span><span class="k">Access</span><span class="p">:</span><span class="w">   </span><span class="k">CONTAINS</span><span class="w"> </span><span class="k">SQL</span>
<span class="w"> </span><span class="n">Configs</span><span class="p">:</span><span class="w">       </span><span class="p">...</span>
<span class="w"> </span><span class="k">Owner</span><span class="p">:</span><span class="w">         </span><span class="n">the</span><span class="p">.</span><span class="n">house</span><span class="o">@</span><span class="n">always</span><span class="p">.</span><span class="n">wins</span>
<span class="w"> </span><span class="k">Create</span><span class="w"> </span><span class="k">Time</span><span class="p">:</span><span class="w">   </span><span class="n">Sat</span><span class="w"> </span><span class="n">Feb</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">09</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">02</span><span class="w"> </span><span class="n">PST</span><span class="w"> </span><span class="mi">2022</span>
<span class="w"> </span><span class="n">Body</span><span class="p">:</span><span class="w">          </span><span class="k">aggregate</span><span class="p">(</span><span class="n">sequence</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">roll_dice</span><span class="p">.</span><span class="n">num_dice</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span>
<span class="w">                      </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                      </span><span class="p">(</span><span class="n">acc</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">rand</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">roll_dice</span><span class="p">.</span><span class="n">num_sides</span><span class="p">)::</span><span class="nb">int</span><span class="p">,</span>
<span class="w">                      </span><span class="n">acc</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">acc</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">roll_dice</span><span class="p">.</span><span class="n">num_dice</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="create-python-functions">
<h3><a class="toc-backref" href="#id6">Create Python functions</a><a class="headerlink" href="#create-python-functions" title="Permalink to this headline"> </a></h3>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="err">—</span><span class="o">-</span><span class="w"> </span><span class="n">Hello</span><span class="w"> </span><span class="n">World</span><span class="o">-</span><span class="k">like</span><span class="w"> </span><span class="n">functionality</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">Python</span><span class="w"> </span><span class="n">UDFs</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">main</span><span class="p">.</span><span class="k">default</span><span class="p">.</span><span class="n">greet</span><span class="p">(</span><span class="n">s</span><span class="w"> </span><span class="n">STRING</span><span class="p">)</span>
<span class="w">  </span><span class="k">RETURNS</span><span class="w"> </span><span class="n">STRING</span>
<span class="w">  </span><span class="k">LANGUAGE</span><span class="w"> </span><span class="n">PYTHON</span>
<span class="w">  </span><span class="k">AS</span><span class="w"> </span><span class="err">$$</span>
<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">greet</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="ss">&quot;Hello &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ss">&quot;!&quot;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">greet</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">None</span>
<span class="w">  </span><span class="err">$$</span>

<span class="err">—</span><span class="o">-</span><span class="w"> </span><span class="n">Can</span><span class="w"> </span><span class="n">import</span><span class="w"> </span><span class="n">functions</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">std</span><span class="w"> </span><span class="n">library</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">environment</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">main</span><span class="p">.</span><span class="k">default</span><span class="p">.</span><span class="n">isleapyear</span><span class="p">(</span><span class="k">year</span><span class="w"> </span><span class="nb">INT</span><span class="p">)</span>
<span class="w">  </span><span class="k">RETURNS</span><span class="w"> </span><span class="nb">BOOLEAN</span>
<span class="w">  </span><span class="k">LANGUAGE</span><span class="w"> </span><span class="n">PYTHON</span>
<span class="w">  </span><span class="k">AS</span><span class="w"> </span><span class="err">$$</span>
<span class="w">    </span><span class="n">import</span><span class="w"> </span><span class="n">calendar</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">calendar</span><span class="p">.</span><span class="n">isleap</span><span class="p">(</span><span class="k">year</span><span class="p">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">year</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">None</span>
<span class="w">  </span><span class="err">$$</span>

<span class="err">—</span><span class="o">-</span><span class="w"> </span><span class="n">Must</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">correct</span><span class="w"> </span><span class="k">type</span><span class="p">.</span><span class="w"> </span><span class="n">Otherwise</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">fail</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="n">runtime</span><span class="p">.</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">main</span><span class="p">.</span><span class="k">default</span><span class="p">.</span><span class="n">a_number</span><span class="p">()</span>
<span class="w">  </span><span class="k">RETURNS</span><span class="w"> </span><span class="nb">INTEGER</span>
<span class="w">  </span><span class="k">LANGUAGE</span><span class="w"> </span><span class="n">PYTHON</span>
<span class="w">  </span><span class="k">AS</span><span class="w"> </span><span class="err">$$</span>
<span class="w">    </span><span class="o">#</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">work</span><span class="p">:</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="ss">&quot;10&quot;</span>
<span class="w">    </span><span class="o">#</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">work</span><span class="p">:</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">3</span><span class="p">.</span><span class="mi">14</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">10</span>
<span class="w">  </span><span class="err">$$</span>

<span class="err">—</span><span class="o">-</span><span class="w"> </span><span class="n">Deal</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">exceptions</span><span class="p">.</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">main</span><span class="p">.</span><span class="k">default</span><span class="p">.</span><span class="n">custom_divide</span><span class="p">(</span><span class="n">n1</span><span class="w"> </span><span class="nb">INT</span><span class="p">,</span><span class="w"> </span><span class="n">n2</span><span class="w"> </span><span class="nb">INT</span><span class="p">)</span>
<span class="w">  </span><span class="k">RETURNS</span><span class="w"> </span><span class="nb">FLOAT</span>
<span class="w">  </span><span class="k">LANGUAGE</span><span class="w"> </span><span class="n">PYTHON</span>
<span class="w">  </span><span class="k">AS</span><span class="w"> </span><span class="err">$$</span>
<span class="w">    </span><span class="n">try</span><span class="p">:</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">n1</span><span class="o">/</span><span class="n">n2</span>
<span class="w">    </span><span class="k">except</span><span class="w"> </span><span class="n">ZeroDivisionException</span><span class="p">:</span>
<span class="w">    </span><span class="o">#</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="k">NULL</span><span class="p">.</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">None</span>
<span class="w">  </span><span class="err">$$</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="related-articles">
<h2>Related articles<a class="headerlink" href="#related-articles" title="Permalink to this headline"> </a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="sql-ref-syntax-ddl-drop-function.html"><span class="doc">DROP FUNCTION</span></a></p></li>
<li><p><a class="reference internal" href="sql-ref-syntax-aux-show-functions.html"><span class="doc">SHOW FUNCTIONS</span></a></p></li>
<li><p><a class="reference internal" href="sql-ref-syntax-aux-describe-function.html"><span class="doc">DESCRIBE FUNCTION</span></a></p></li>
<li><p><a class="reference internal" href="security-grant.html"><span class="doc">GRANT</span></a></p></li>
<li><p><a class="reference internal" href="security-revoke.html"><span class="doc">REVOKE</span></a></p></li>
</ul>
</div>
</div>


    
          </div>
        </div>
        <div  class="suapp-rating">
  <div id="suPageRateApp">
     <su-app></su-app>
   </div> 
 </div>
<hr> 
<footer>
  <div role="contentinfo">
      <p class="copyright">
          &copy; Databricks 2023. All rights reserved. Apache, Apache Spark, Spark, and the Spark logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a>.
      </p>
      <p> 
        
          <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
        
     | <a href="https://databricks.com/privacy-policy">Privacy Policy</a> | <a href="https://databricks.com/terms-of-use">Terms of Use</a></p>

  </div> 

</footer>
      </div>
    </div>
  </section>
</main>

  </page>
  
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT: '../../',
      VERSION: '1.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE: 'false'
    };
  </script>
  <script type="text/javascript" src="../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../_static/underscore.js"></script>
  <script type="text/javascript" src="../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../_static/language_data.js"></script>
  

  <script type="text/javascript" src="../../_static/js/clipboard.min.js"></script>
  <script type="text/javascript" src="../../_static/js/jquery.waypoints.min.js"></script>

  <!-- Select2 (https://select2.org/) -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <!-- End Select2 -->

  
  
  <script type="text/javascript" src="../../_static/js/localized.js"></script>
  <script type="text/javascript" src="../../_static/js/custom.js"></script>
  

  
  
  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.StickyNav.enable();
    });

  </script>
  
 



  <script>
  window.__searchunifyLoaderConfig = JSON.parse('{"clients": {"en": "02c2e804-27e9-11ee-aefb-0242ac120011", "ja": "6a42c3f2-2820-11ee-aefb-0242ac120011", "pt": "6a86badd-2821-11ee-aefb-0242ac120011"}}')
</script>
<script type="text/javascript" src="../../_static/js/search-loader.js"></script>
</body>
<script type='text/javascript'>
  window.onload = function () {
    var description = document.querySelector('meta[name="description"]').getAttribute("content");
    let titleText = document.querySelector('h1').textContent;
    document.querySelector('meta[property="og:title"]').setAttribute("content", titleText);
    document.querySelector('meta[property="og:description"]').setAttribute("content", description);
    document.querySelector('meta[property="twitter:description"]').setAttribute("content", description);
  };
</script>

</html>