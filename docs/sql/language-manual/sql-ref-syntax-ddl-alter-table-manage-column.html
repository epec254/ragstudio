

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en-US" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en-US"> <!--<![endif]-->

<head>
  <!-- cookie consent -->
  
    <!-- Combined Onetrust and Rudderstack Implementation Scripts -->
    <!-- Onetrust Initialization -->
    <script type="text/javascript" src="https://cdn.cookielaw.org/consent/92466579-1717-44d3-809d-a05fb02843ed-test/OtAutoBlock.js"></script>
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="92466579-1717-44d3-809d-a05fb02843ed-test"></script>
    <link rel="stylesheet" id="db-onetrust-style" href="https://www.databricks.com/wp-content/uploads/db_onetrust.css" media="all" />
    <!-- Setting Rudderstack Write Key -->
    <script>window.rudderstackKey = "2SOR9fvSr5Fi6tN2ihPbVHnX1SZ" </script>
    <!-- Rudderstack Initialization + Onetrust Integration + Rudderstack Custom Events -->
    <script type="text/javascript" src="https://www.databricks.com/sites/default/files/rudderstack/v1/db-rudderstack-events.js"></script>

  <!-- cookie consent -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta content="Learn how to use the ALTER TABLE … COLUMN syntax of the SQL language in Databricks SQL and Databricks Runtime." name="description" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta property="og:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:title" content="ALTER TABLE … COLUMN clause">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://docs.databricks.com">
  <meta property="og:description" content="" id="og-description">
  <meta name="twitter:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta name="twitter:site" content="@databricks">
  <meta name="twitter:creator" content="@databricks">
  <meta property="twitter:description" content="">
  
  <title>ALTER TABLE … COLUMN clause &#124; Databricks on AWS</title>
  
  
  <link rel="canonical" href="https://docs.databricks.com/en/sql/language-manual/sql-ref-syntax-ddl-alter-table-manage-column.html">
  <!-- Start hreflang tag -->
  <link rel="alternate" hreflang="en" href="https://docs.databricks.com/en/sql/language-manual/sql-ref-syntax-ddl-alter-table-manage-column.html" />
<link rel="alternate" hreflang="x-default" href="https://docs.databricks.com/en/sql/language-manual/sql-ref-syntax-ddl-alter-table-manage-column.html" />
  <!-- End hreflang tag -->
  
  
  <link rel="shortcut icon" href="../../_static/favicon.ico" />
  

  

  

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T85FQ33');</script>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWTKQQ');</script>
    
  <!-- End Google Tag Manager -->


  <!-- MaxMind / GEO IP -->
  <script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>
  <!-- End MaxMind / GEO IP -->

  
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600&display=swap" rel="stylesheet">
  <link rel="preload" href="../../_static/fonts/DMSans-Bold.ttf" as="font">
  <link rel="preload" href="../../_static/fonts/DMSans-Regular.ttf" as="font">
  <link rel="preload" href="../../_static/fonts/DMMono-Regular.ttf" as="font">
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/cloud-provider-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/translation-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/searchunify/main.css" type="text/css" />

  
  <link rel="index" title="Index" href="../../genindex.html" />
  <link rel="search" title="Search" href="../../search.html" />
  <link rel="top" title="Databricks on AWS" href="../../index.html" /> 
</head>

<body class="wy-body-for-nav" role="document">

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T85FQ33"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWTKQQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  
  <nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
    
<nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
  <div class="container-logo">
    <ul class="mobile-menu-toggle">
        <li class="menu-toggle">
            <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
            
            <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
              alt="Databricks" /></a>   
               
              </li>
    </ul>
    <ul class="su_nav-menu">
      <li class="menu-toggle">
        <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
        
          
        
        <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
            alt="Databricks" /></a></li>
        <!-- 
<li><a href="https://help.databricks.com/s/">Help Center</a></li>
<li class="active"><a href="https://docs.databricks.com/en/">Documentation</a></li>
<li><a href="https://kb.databricks.com/">Knowledge Base</a></li>
 -->
    </ul>
  </div>
  <div class="su_nav-right">
    <ul class="su_link-mobile">
  <!-- Mobile header code can go here -->
</ul>
<ul class="right-try-list">
   
</ul>
  </div>
</nav>
  </nav>

  <div class="su_sub-header">
    <div class="container">
      <div class="su_sub-header-inner">
        <!-- <div class="su_subnav-menu-right">
  <div id="auto" style="width: 100%;">
    <div ng-controller="SearchautoController">
      <div bind-html-compile="autocompleteHtml">
        <form class="su__search-box-1" disabled="disabled">
          <input class="su__search-input" type="search" name="Search box" id="su__search-b" placeholder="Search Documentation" disabled="disabled"/>
          <button class="su__search-button" type="submit" class="button button-success" disabled="disabled">
            <svg width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                fill="#333"></path>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>
</div> -->
        <div class="search-lng-gap"></div>
        <div style="margin-left: 16px; margin-right: 16px;">
          <!-- <select name="lng selector" id="lng-selector">
    <option value="../../../en/sql/language-manual/sql-ref-syntax-ddl-alter-table-manage-column.html" class="notranslate">English</option>
    <option value="../../../ja/sql/language-manual/sql-ref-syntax-ddl-alter-table-manage-column.html" class="notranslate">日本語</option>
    <option value="../../../pt/sql/language-manual/sql-ref-syntax-ddl-alter-table-manage-column.html" class="notranslate">Português (Brasil)</option>
</select> -->
        </div>
        <div class="cloud-selector-container">
          <!-- <select name="cloud provider selector" id="cloud-provider-selector">
    <option value="aws" selected class="notranslate">
        Amazon Web Services
    </option>
    <option value="azure"  class="notranslate">
        Microsoft Azure
    </option>
    <option value="gcp"  class="notranslate">
        Google Cloud Platform
    </option>
</select> -->
        </div>
      </div>
    </div>
  </div>
  <page class="js-page-container">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side su_nav-side">
<div class="wy-side-scroll">
  <div class="wy-side-nav-search">
    

    

    

    
  </div>

  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      <a href="../../index.html" class="main-navigation-home">Databricks on AWS</a>
    

    
      

      
        <p class="caption"><span class="caption-text">Load &amp; manage data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rag-temp/index.html">RAG Studio</a></li>
</ul>

      
    
  </div>

  <div role="contentinfo">
    
  <p class="build_info notranslate"data-last-edit="December 23, 2023">
    Updated Jan 11, 2024
  </p>
<script>
  window.addEventListener('DOMContentLoaded',function(){
    var h1=document.querySelector('h1');
    var bi=document.querySelector('[data-last-edit]');
    if(h1 && bi){
      var ver = document.createElement('p');
      ver.className = 'version_info';
      ver.textContent = bi.getAttribute('data-last-edit');
      h1.parentElement.insertBefore(ver, h1.nextElementSibling);
    }
  });
</script>

    <p>
      
        <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
      
    </p>
  </div>
</div>
</nav>
    
    
<main class="wy-grid-for-nav su_nav-grid">
  <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
    <div class="wy-nav-content su__nav_content">
      <div class="rst-content">
        





<div role="navigation" aria-label="breadcrumbs navigation" class="wy-breadcrumbs-wrapper">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Documentation</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
    
      <li>ALTER TABLE … COLUMN clause</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>
</div>
        
        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
          <div itemprop="articleBody">
            
    
  <div class="section" id="alter-table--column-clause">
<h1>ALTER TABLE … COLUMN clause<a class="headerlink" href="#alter-table--column-clause" title="Permalink to this headline"> </a></h1>
<p><strong>Applies to:</strong> <img alt="check marked yes" src="../../_images/check.png" /> Databricks SQL <img alt="check marked yes" src="../../_images/check.png" /> Databricks Runtime</p>
<p>Adds, modifies, or drops a column in a table or a field in a column in a Delta Lake table.</p>
<div class="section" id="required-permissions">
<h2>Required permissions<a class="headerlink" href="#required-permissions" title="Permalink to this headline"> </a></h2>
<p>If you use Unity Catalog you must have <code class="docutils literal notranslate"><span class="pre">MODIFY</span></code> permission to:</p>
<ul class="simple">
<li><p>ALTER COLUMN</p></li>
<li><p>ADD COLUMN</p></li>
<li><p>DROP COLUMN</p></li>
</ul>
<p>All other operations require ownership of the table.</p>
</div>
<div class="section" id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline"> </a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ALTER</span> <span class="n">TABLE</span> <span class="n">table_name</span>
   <span class="p">{</span> <span class="n">ADD</span> <span class="n">COLUMN</span> <span class="n">clause</span> <span class="o">|</span>
     <span class="n">ALTER</span> <span class="n">COLUMN</span> <span class="n">clause</span> <span class="o">|</span>
     <span class="n">DROP</span> <span class="n">COLUMN</span> <span class="n">clause</span> <span class="o">|</span>
     <span class="n">RENAME</span> <span class="n">COLUMN</span> <span class="n">clause</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="add-column-clause">
<span id="add-column"></span><h2>ADD COLUMN clause<a class="headerlink" href="#add-column-clause" title="Permalink to this headline"> </a></h2>
<p>This clause is not supported for <code class="docutils literal notranslate"><span class="pre">JDBC</span></code> data sources.</p>
<p>Adds one or more columns to the table, or fields to existing columns in a Delta Lake table.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When you add a column to an existing Delta table, you cannot define a <code class="docutils literal notranslate"><span class="pre">DEFAULT</span></code> value. All columns added to Delta tables are treated as <code class="docutils literal notranslate"><span class="pre">NULL</span></code> for existing rows. After adding a column, you can optionally define a default value for the column, but this is only applied for new rows inserted into the table. Use the following syntax:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">table_name</span><span class="w"> </span><span class="k">ALTER</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="k">column_name</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">default_expression</span>
</pre></div>
</div>
</div>
<div class="section" id="syntax">
<span id="syntax-1"></span><h3>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline"> </a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="n">ADD</span> <span class="p">[</span> <span class="n">COLUMN</span> <span class="o">|</span> <span class="n">COLUMNS</span> <span class="p">]</span>
  <span class="p">(</span> <span class="p">{</span> <span class="p">{</span> <span class="n">column_identifier</span> <span class="o">|</span> <span class="n">field_name</span> <span class="p">}</span> <span class="n">data_type</span>
      <span class="p">[</span> <span class="n">DEFAULT</span> <span class="n">clause</span> <span class="p">]</span> <span class="p">[</span> <span class="n">COMMENT</span> <span class="n">comment</span> <span class="p">]</span> <span class="p">[</span> <span class="n">FIRST</span> <span class="o">|</span> <span class="n">AFTER</span> <span class="n">identifier</span> <span class="p">]</span>
      <span class="p">[</span> <span class="n">MASK</span> <span class="n">clause</span> <span class="p">]</span> <span class="p">}</span> <span class="p">[,</span> <span class="o">...</span><span class="p">]</span> <span class="p">)</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline"> </a></h3>
<ul>
<li><p><strong><a class="reference internal" href="sql-ref-identifiers.html"><span class="doc">column_identifier</span></a></strong></p>
<p>The name of the column to be added. The name must be unique within the table.</p>
<p>Unless <code class="docutils literal notranslate"><span class="pre">FIRST</span></code> or <code class="docutils literal notranslate"><span class="pre">AFTER</span> <span class="pre">name</span></code> are specified the column or field will be appended at the end.</p>
</li>
<li><p><strong><a class="reference internal" href="sql-ref-names.html#field-name"><span class="std std-ref">field_name</span></a></strong></p>
<p>The fully qualified name of the field to be added to an existing column.
All components of the path to the nested field must exist and the field name itself must be unique.</p>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">DEFAULT</span> <span class="pre">default_expression</span></code></strong></p>
<p><strong>Applies to:</strong> <img alt="check marked yes" src="../../_images/check.png" /> Databricks SQL <a class="reference internal" href="../release-notes/index.html"><span class="doc">SQL warehouse version 2022.35</span></a> or higher <img alt="check marked yes" src="../../_images/check.png" /> Databricks Runtime 11.2 and above</p>
<p>Defines a <code class="docutils literal notranslate"><span class="pre">DEFAULT</span></code> value for the column which is used on <code class="docutils literal notranslate"><span class="pre">INSERT</span></code> and <code class="docutils literal notranslate"><span class="pre">MERGE</span> <span class="pre">...</span> <span class="pre">INSERT</span></code> when the column is not specified.</p>
<p>If no default is specified, <code class="docutils literal notranslate"><span class="pre">DEFAULT</span> <span class="pre">NULL</span></code> is implied for nullable columns.</p>
<p><code class="docutils literal notranslate"><span class="pre">default_expression</span></code> may be composed of literals, and built-in SQL functions or operators except:</p>
<ul class="simple">
<li><p><a class="reference internal" href="sql-ref-functions-builtin.html#aggregate-functions"><span class="std std-ref">Aggregate functions</span></a></p></li>
<li><p><a class="reference internal" href="sql-ref-functions-builtin.html#analytic-window-functions"><span class="std std-ref">Analytic window functions</span></a></p></li>
<li><p><a class="reference internal" href="sql-ref-functions-builtin.html#ranking-window-functions"><span class="std std-ref">Ranking window functions</span></a></p></li>
<li><p>Table valued generator functions</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">default_expression</span></code> must not contain any <a class="reference internal" href="sql-ref-syntax-qry-query.html"><span class="doc">subquery</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">DEFAULT</span></code> is supported for <code class="docutils literal notranslate"><span class="pre">CSV</span></code>, <code class="docutils literal notranslate"><span class="pre">JSON</span></code>, <code class="docutils literal notranslate"><span class="pre">PARQUET</span></code>, and <code class="docutils literal notranslate"><span class="pre">ORC</span></code> sources.</p>
</li>
<li><p><strong><a class="reference internal" href="sql-ref-datatypes.html"><span class="doc">data_type</span></a></strong></p>
<p>Specifies the data type of the column or field.
Not all <a class="reference internal" href="sql-ref-datatypes.html"><span class="doc">data types</span></a> supported by Databricks are supported by all data sources.</p>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">COMMENT</span> <span class="pre">comment</span></code></strong></p>
<p>An optional <code class="docutils literal notranslate"><span class="pre">STRING</span></code> literal describing the added column or field.</p>
<p>If you want to add an AI-generated comment for a table or table column managed by Unity Catalog, see <a class="reference internal" href="../../catalog-explorer/ai-comments.html"><span class="doc">Add AI-generated comments to a table</span></a>.</p>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">FIRST</span></code></strong></p>
<p>If specified the column will be added as the first column of the table, or the field will be added as the first field of in the containing struct.</p>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">AFTER</span></code> <a class="reference internal" href="sql-ref-identifiers.html"><span class="doc">identifier</span></a></strong></p>
<p>If specified the column or field will be added immediately after the field or column <code class="docutils literal notranslate"><span class="pre">identifier</span></code>.</p>
</li>
<li><p><strong><a class="reference internal" href="sql-ref-syntax-ddl-column-mask.html"><span class="doc">MASK clause</span></a></strong></p>
<p><strong>Applies to:</strong> <img alt="check marked yes" src="../../_images/check.png" /> Databricks SQL <img alt="check marked yes" src="../../_images/check.png" /> Databricks Runtime 12.2 and above <img alt="check marked yes" src="../../_images/check.png" /> Unity Catalog</p>
<div class="preview admonition">
<p class="admonition-title">Preview</p>
<p>This feature is in <a class="reference internal" href="../../release-notes/release-types.html"><span class="doc">Public Preview</span></a>.</p>
</div>
<p>Adds a column mask function to anonymize sensitive data.
All future queries from that column will receive the result of evaluating that
function over the column in place of the column’s original value.
This can be useful for fine-grained access control purposes wherein the function
can inspect the identity and/or group memberships of the invoking user in order
to decide whether to redact the value.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="alter-column-clause">
<span id="alter-column"></span><h2>ALTER COLUMN clause<a class="headerlink" href="#alter-column-clause" title="Permalink to this headline"> </a></h2>
<p><strong>Applies to:</strong> <img alt="check marked yes" src="../../_images/check.png" /> Databricks SQL <img alt="check marked yes" src="../../_images/check.png" /> Databricks Runtime</p>
<p>Changes a property or the location of a column.</p>
<div class="section" id="syntax">
<span id="syntax-2"></span><h3>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline"> </a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="p">{</span> <span class="n">ALTER</span> <span class="o">|</span> <span class="n">CHANGE</span> <span class="p">}</span> <span class="p">[</span> <span class="n">COLUMN</span> <span class="p">]</span> <span class="p">{</span> <span class="n">column_identifier</span> <span class="o">|</span> <span class="n">field_name</span> <span class="p">}</span>
  <span class="p">{</span> <span class="n">COMMENT</span> <span class="n">comment</span> <span class="o">|</span>
    <span class="p">{</span> <span class="n">FIRST</span> <span class="o">|</span> <span class="n">AFTER</span> <span class="n">column_identifier</span> <span class="p">}</span> <span class="o">|</span>
    <span class="p">{</span> <span class="n">SET</span> <span class="o">|</span> <span class="n">DROP</span> <span class="p">}</span> <span class="n">NOT</span> <span class="n">NULL</span> <span class="o">|</span>
    <span class="n">SET</span> <span class="n">DEFAULT</span> <span class="n">clause</span> <span class="o">|</span>
    <span class="n">DROP</span> <span class="n">DEFAULT</span> <span class="o">|</span>
    <span class="n">SYNC</span> <span class="n">IDENTITY</span> <span class="o">|</span>
    <span class="n">SET</span> <span class="p">{</span> <span class="n">MASK</span> <span class="n">clause</span> <span class="p">}</span> <span class="o">|</span>
    <span class="n">DROP</span> <span class="n">MASK</span> <span class="o">|</span>
    <span class="n">SET</span> <span class="n">TAGS</span> <span class="n">clause</span> <span class="o">|</span>
    <span class="n">UNSET</span> <span class="n">TAGS</span> <span class="n">clause</span> <span class="p">}</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="parameters">
<span id="parameters-1"></span><h3>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline"> </a></h3>
<ul>
<li><p><strong><a class="reference internal" href="sql-ref-identifiers.html"><span class="doc">`column_identifier`</span></a></strong></p>
<p>The name of the column to be altered.</p>
</li>
<li><p><strong><a class="reference internal" href="sql-ref-names.html#field-name"><span class="std std-ref">`field_name`</span></a></strong></p>
<p>The fully qualified name of the field to be altered.
All components of the path to the nested field must exist.</p>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">COMMENT</span> <span class="pre">comment</span></code></strong></p>
<p>Changes the description of the <code class="docutils literal notranslate"><span class="pre">column_name</span></code> column. <code class="docutils literal notranslate"><span class="pre">comment</span></code> must be a <code class="docutils literal notranslate"><span class="pre">STRING</span></code> literal.</p>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">FIRST</span></code></strong> or <strong><code class="docutils literal notranslate"><span class="pre">AFTER</span></code> <a class="reference internal" href="sql-ref-identifiers.html"><span class="doc">identifier</span></a></strong></p>
<p>Moves the column from its current position to the front (<code class="docutils literal notranslate"><span class="pre">FIRST</span></code>) or immediately <code class="docutils literal notranslate"><span class="pre">AFTER</span></code> the <code class="docutils literal notranslate"><span class="pre">identifier</span></code>.
This clause is only supported if <code class="docutils literal notranslate"><span class="pre">table_name</span></code> is a Delta table.</p>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">NOT</span> <span class="pre">NULL</span></code></strong> or <strong><code class="docutils literal notranslate"><span class="pre">DROP</span> <span class="pre">NOT</span> <span class="pre">NULL</span></code></strong></p>
<p>Changes the domain of valid column values to exclude nulls <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">NOT</span> <span class="pre">NULL</span></code>, or include nulls <code class="docutils literal notranslate"><span class="pre">DROP</span> <span class="pre">NOT</span> <span class="pre">NULL</span></code>.
This option is only supported for Delta Lake tables.
Delta Lake will ensure the constraint is valid for all existing and new data.</p>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">SYNC</span> <span class="pre">IDENTITY</span></code></strong></p>
<p><strong>Applies to:</strong> <img alt="check marked yes" src="../../_images/check.png" /> Databricks SQL <img alt="check marked yes" src="../../_images/check.png" /> Databricks Runtime 10.3 and above</p>
<p>Synchronize the metadata of an identity column with the actual data. When you write your own values to an identity column, it might not comply with the metadata. This option evaluates the state and updates the metadata to be consistent with the actual data. After this command, the next automatically assigned identity value will start from <code class="docutils literal notranslate"><span class="pre">start</span> <span class="pre">+</span> <span class="pre">(n</span> <span class="pre">+</span> <span class="pre">1)</span> <span class="pre">*</span> <span class="pre">step</span></code>, where <code class="docutils literal notranslate"><span class="pre">n</span></code> is the smallest value that satisfies <code class="docutils literal notranslate"><span class="pre">start</span> <span class="pre">+</span> <span class="pre">n</span> <span class="pre">*</span> <span class="pre">step</span> <span class="pre">&gt;=</span> <span class="pre">max()</span></code> (for a positive step).</p>
<p>This option is only supported for identity columns on Delta Lake tables.</p>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">DROP</span> <span class="pre">DEFAULT</span></code></strong></p>
<p><strong>Applies to:</strong> <img alt="check marked yes" src="../../_images/check.png" /> Databricks SQL <a class="reference internal" href="../release-notes/index.html"><span class="doc">SQL warehouse version 2022.35</span></a> or higher <img alt="check marked yes" src="../../_images/check.png" /> Databricks Runtime 11.2 and above</p>
<p>Removes the default expression from the column. For nullable columns this is equivalent to <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DEFAULT</span> <span class="pre">NULL</span></code>. For columns defined with <code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">NULL</span></code> you need to provide a value on every future <code class="docutils literal notranslate"><span class="pre">INSERT</span></code> operation</p>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">DEFAULT</span> <span class="pre">default_expression</span></code></strong></p>
<p><strong>Applies to:</strong> <img alt="check marked yes" src="../../_images/check.png" /> Databricks SQL <a class="reference internal" href="../release-notes/index.html"><span class="doc">SQL warehouse version 2022.35</span></a> or higher <img alt="check marked yes" src="../../_images/check.png" /> Databricks Runtime 11.2 and above</p>
<p>Defines a <code class="docutils literal notranslate"><span class="pre">DEFAULT</span></code> value for the column which is used on <code class="docutils literal notranslate"><span class="pre">INSERT</span></code> and <code class="docutils literal notranslate"><span class="pre">MERGE</span> <span class="pre">...</span> <span class="pre">INSERT</span></code> when the column is not specified.</p>
<p>If no default is specified <code class="docutils literal notranslate"><span class="pre">DEFAULT</span> <span class="pre">NULL</span></code> is implied for nullable columns.</p>
<p><code class="docutils literal notranslate"><span class="pre">default_expression</span></code> may be composed of literals, built-in SQL functions, or operators except:</p>
<ul class="simple">
<li><p><a class="reference internal" href="sql-ref-functions-builtin.html#aggregate-functions"><span class="std std-ref">Aggregate functions</span></a></p></li>
<li><p><a class="reference internal" href="sql-ref-functions-builtin.html#analytic-window-functions"><span class="std std-ref">Analytic window functions</span></a></p></li>
<li><p><a class="reference internal" href="sql-ref-functions-builtin.html#ranking-window-functions"><span class="std std-ref">Ranking window functions</span></a></p></li>
<li><p>Table valued generator functions</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">default_expression</span></code> must not contain a <a class="reference internal" href="sql-ref-syntax-qry-query.html"><span class="doc">subquery</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">DEFAULT</span></code> is supported for <code class="docutils literal notranslate"><span class="pre">CSV</span></code>, <code class="docutils literal notranslate"><span class="pre">JSON</span></code>, <code class="docutils literal notranslate"><span class="pre">ORC</span></code>, and <code class="docutils literal notranslate"><span class="pre">PARQUET</span></code> sources.</p>
<p>When you define the default for a newly added column, the default applies to all pre-existing rows.
If the default includes a non-deterministic function such as <code class="docutils literal notranslate"><span class="pre">rand</span></code> or <code class="docutils literal notranslate"><span class="pre">current_timestamp</span></code> the value is computed once when the <code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">TABLE</span></code> is executed,
and applied as a constant to pre-existing rows.
For newly inserted rows, the default expression runs once per rows.</p>
<p>When you set a default using <code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">COLUMN</span></code>, existing rows are not affected by that change.</p>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">SET</span></code> <a class="reference internal" href="sql-ref-syntax-ddl-column-mask.html"><span class="doc">MASK clause</span></a></strong></p>
<p><strong>Applies to:</strong> <img alt="check marked yes" src="../../_images/check.png" /> Databricks SQL <img alt="check marked yes" src="../../_images/check.png" /> Databricks Runtime 12.2 and above <img alt="check marked yes" src="../../_images/check.png" /> Unity Catalog</p>
<div class="preview admonition">
<p class="admonition-title">Preview</p>
<p>This feature is in <a class="reference internal" href="../../release-notes/release-types.html"><span class="doc">Public Preview</span></a>.</p>
</div>
<p>Adds a column mask function to anonymize sensitive data.
All future queries from that column will receive the result of evaluating that
function over the column in place of the column’s original value.
This can be useful for fine-grained access control purposes wherein the function
can inspect the identity and/or group memberships of the invoking user in order
to decide whether to redact the value.</p>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">DROP</span> <span class="pre">MASK</span></code></strong></p>
<p><strong>Applies to:</strong> <img alt="check marked yes" src="../../_images/check.png" /> Unity Catalog</p>
<div class="preview admonition">
<p class="admonition-title">Preview</p>
<p>This feature is in <a class="reference internal" href="../../release-notes/release-types.html"><span class="doc">Public Preview</span></a>.</p>
</div>
<p>Removes the column mask for this column, if any.
Future queries from this column will receive the column’s original values.</p>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">TAGS</span> <span class="pre">(</span> <span class="pre">{</span> <span class="pre">tag_name</span> <span class="pre">=</span> <span class="pre">tag_value</span> <span class="pre">}</span> <span class="pre">[,</span> <span class="pre">...]</span> <span class="pre">)</span></code></strong></p>
<p><strong>Applies to:</strong> <img alt="check marked yes" src="../../_images/check.png" /> Databricks SQL <img alt="check marked yes" src="../../_images/check.png" /> Databricks Runtime 13.3 LTS and above</p>
<p>Apply tags to the column. You need to have <code class="docutils literal notranslate"><span class="pre">apply_tag</span></code> permission to add tags to the column.</p>
<ul>
<li><p><strong>tag_name</strong></p>
<p>A literal <code class="docutils literal notranslate"><span class="pre">STRING</span></code>. The <code class="docutils literal notranslate"><span class="pre">tag_name</span></code> must be unique within the table or column.</p>
</li>
<li><p><strong>tag_value</strong></p>
<p>A literal <code class="docutils literal notranslate"><span class="pre">STRING</span></code>.</p>
</li>
</ul>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">UNSET</span> <span class="pre">TAGS</span> <span class="pre">(</span> <span class="pre">tag_name</span> <span class="pre">[,</span> <span class="pre">...]</span> <span class="pre">)</span></code></strong></p>
<p><strong>Applies to:</strong> <img alt="check marked yes" src="../../_images/check.png" /> Databricks SQL <img alt="check marked yes" src="../../_images/check.png" /> Databricks Runtime 13.3 LTS and above</p>
<p>Remove tags from the column. You need to have <code class="docutils literal notranslate"><span class="pre">apply_tag</span></code> permission to remove tags from the column.</p>
<ul>
<li><p><strong>tag_name</strong></p>
<p>A literal <code class="docutils literal notranslate"><span class="pre">STRING</span></code>. The <code class="docutils literal notranslate"><span class="pre">tag_name</span></code> must be unique within the table or column.</p>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="drop-column-clause">
<span id="drop-column"></span><h2>DROP COLUMN clause<a class="headerlink" href="#drop-column-clause" title="Permalink to this headline"> </a></h2>
<div class="preview admonition">
<p class="admonition-title">Preview</p>
<p>This feature is in <a class="reference internal" href="../../release-notes/release-types.html"><span class="doc">Public Preview</span></a>.</p>
</div>
<p><strong>Applies to:</strong> <img alt="check marked yes" src="../../_images/check.png" /> Databricks SQL <img alt="check marked yes" src="../../_images/check.png" /> Databricks Runtime 11.0 and above</p>
<p>Drop one or more columns or fields in a Delta Lake table.</p>
<p>When you drop a column or field, you must drop dependent check constraints and generated columns.</p>
<p>For requirements, see <a class="reference internal" href="../../delta/delta-column-mapping.html"><span class="doc">Rename and drop columns with Delta Lake column mapping</span></a>.</p>
<div class="section" id="syntax">
<span id="syntax-3"></span><h3>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline"> </a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DROP</span> <span class="p">[</span><span class="n">COLUMN</span> <span class="o">|</span> <span class="n">COLUMNS</span><span class="p">]</span> <span class="p">[</span> <span class="n">IF</span> <span class="n">EXISTS</span> <span class="p">]</span> <span class="p">(</span> <span class="p">{</span> <span class="p">{</span><span class="n">column_identifier</span> <span class="o">|</span> <span class="n">field_name</span><span class="p">}</span> <span class="p">[,</span> <span class="o">...</span><span class="p">]</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="parameters">
<span id="parameters-2"></span><h3>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline"> </a></h3>
<ul>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">IF</span> <span class="pre">EXISTS</span></code></strong></p>
<p>When you specify <code class="docutils literal notranslate"><span class="pre">IF</span> <span class="pre">EXISTS</span></code>, Databricks ignores an attempt to drop columns that do not exist. Otherwise, dropping non-existing columns will cause an error.</p>
</li>
<li><p><strong><a class="reference internal" href="sql-ref-identifiers.html"><span class="doc">column_identifier</span></a></strong></p>
<p>The name of the existing column.</p>
</li>
<li><p><strong><a class="reference internal" href="sql-ref-names.html#field-name"><span class="std std-ref">field_name</span></a></strong></p>
<p>The fully qualified name of an existing field.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="rename-column-clause">
<span id="rename-column"></span><h2>RENAME COLUMN clause<a class="headerlink" href="#rename-column-clause" title="Permalink to this headline"> </a></h2>
<div class="preview admonition">
<p class="admonition-title">Preview</p>
<p>This feature is in <a class="reference internal" href="../../release-notes/release-types.html"><span class="doc">Public Preview</span></a>.</p>
</div>
<p><strong>Applies to:</strong> <img alt="check marked yes" src="../../_images/check.png" /> Databricks SQL <img alt="check marked yes" src="../../_images/check.png" /> Databricks Runtime 11.0 and above</p>
<p>Renames a column or field in a Delta Lake table.</p>
<p>When you rename a column or field you also need to change dependent check constraints and generated columns.
Any primary keys and foreign keys using the column will be dropped.
In case of foreign keys you must own the table on which the foreign key is defined.</p>
<p>For requirements, see <a class="reference internal" href="../../delta/delta-column-mapping.html"><span class="doc">Rename and drop columns with Delta Lake column mapping</span></a>.</p>
<div class="section" id="syntax">
<span id="syntax-4"></span><h3>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline"> </a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">RENAME</span> <span class="n">COLUMN</span> <span class="p">{</span> <span class="n">column_identifier</span> <span class="n">TO</span> <span class="n">to_column_identifier</span><span class="o">|</span>
                <span class="n">field_name</span> <span class="n">TO</span> <span class="n">to_field_identifier</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="parameters">
<span id="parameters-3"></span><h3>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline"> </a></h3>
<ul>
<li><p><strong><a class="reference internal" href="sql-ref-identifiers.html"><span class="doc">`column_identifier`</span></a></strong></p>
<p>The existing name of the column.</p>
</li>
<li><p><strong><a class="reference internal" href="sql-ref-identifiers.html"><span class="doc">`to_column_identifier`</span></a></strong></p>
<p>The new column identifier. The identifier must be unique within the table.</p>
</li>
<li><p><strong><a class="reference internal" href="sql-ref-names.html#field-name"><span class="std std-ref">`field_name`</span></a></strong></p>
<p>The existing fully qualified name of a field.</p>
</li>
<li><p><strong><a class="reference internal" href="sql-ref-identifiers.html"><span class="doc">`to_field_identifier`</span></a></strong></p>
<p>The new field identifier. The identifier must be unique within the local struct.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline"> </a></h2>
<p>See <a class="reference internal" href="sql-ref-syntax-ddl-alter-table.html#examples"><span class="std std-ref">ALTER TABLE examples</span></a>.</p>
</div>
<div class="section" id="related-articles">
<h2>Related articles<a class="headerlink" href="#related-articles" title="Permalink to this headline"> </a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="sql-ref-syntax-ddl-alter-table.html"><span class="doc">ALTER TABLE</span></a></p></li>
</ul>
</div>
</div>


    
          </div>
        </div>
        <div  class="suapp-rating">
  <div id="suPageRateApp">
     <su-app></su-app>
   </div> 
 </div>
<hr> 
<footer>
  <div role="contentinfo">
      <p class="copyright">
          &copy; Databricks 2023. All rights reserved. Apache, Apache Spark, Spark, and the Spark logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a>.
      </p>
      <p> 
        
          <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
        
     | <a href="https://databricks.com/privacy-policy">Privacy Policy</a> | <a href="https://databricks.com/terms-of-use">Terms of Use</a></p>

  </div> 

</footer>
      </div>
    </div>
  </section>
</main>

  </page>
  
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT: '../../',
      VERSION: '1.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE: 'false'
    };
  </script>
  <script type="text/javascript" src="../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../_static/underscore.js"></script>
  <script type="text/javascript" src="../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../_static/language_data.js"></script>
  

  <script type="text/javascript" src="../../_static/js/clipboard.min.js"></script>
  <script type="text/javascript" src="../../_static/js/jquery.waypoints.min.js"></script>

  <!-- Select2 (https://select2.org/) -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <!-- End Select2 -->

  
  
  <script type="text/javascript" src="../../_static/js/localized.js"></script>
  <script type="text/javascript" src="../../_static/js/custom.js"></script>
  

  
  
  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.StickyNav.enable();
    });

  </script>
  
 



  <script>
  window.__searchunifyLoaderConfig = JSON.parse('{"clients": {"en": "02c2e804-27e9-11ee-aefb-0242ac120011", "ja": "6a42c3f2-2820-11ee-aefb-0242ac120011", "pt": "6a86badd-2821-11ee-aefb-0242ac120011"}}')
</script>
<script type="text/javascript" src="../../_static/js/search-loader.js"></script>
</body>
<script type='text/javascript'>
  window.onload = function () {
    var description = document.querySelector('meta[name="description"]').getAttribute("content");
    let titleText = document.querySelector('h1').textContent;
    document.querySelector('meta[property="og:title"]').setAttribute("content", titleText);
    document.querySelector('meta[property="og:description"]').setAttribute("content", description);
    document.querySelector('meta[property="twitter:description"]').setAttribute("content", description);
  };
</script>

</html>