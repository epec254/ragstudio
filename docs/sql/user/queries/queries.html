

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en-US" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en-US"> <!--<![endif]-->

<head>
  <!-- cookie consent -->
  
    <!-- Combined Onetrust and Rudderstack Implementation Scripts -->
    <!-- Onetrust Initialization -->
    <script type="text/javascript" src="https://cdn.cookielaw.org/consent/92466579-1717-44d3-809d-a05fb02843ed-test/OtAutoBlock.js"></script>
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="92466579-1717-44d3-809d-a05fb02843ed-test"></script>
    <link rel="stylesheet" id="db-onetrust-style" href="https://www.databricks.com/wp-content/uploads/db_onetrust.css" media="all" />
    <!-- Setting Rudderstack Write Key -->
    <script>window.rudderstackKey = "2SOR9fvSr5Fi6tN2ihPbVHnX1SZ" </script>
    <!-- Rudderstack Initialization + Onetrust Integration + Rudderstack Custom Events -->
    <script type="text/javascript" src="https://www.databricks.com/sites/default/files/rudderstack/v1/db-rudderstack-events.js"></script>

  <!-- cookie consent -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta content="Learn about query tasks you can perform Databricks SQL. Learn basic tasks like create query, edit query, download query, terminating query, and more." name="description" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta property="og:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:title" content="Query tasks">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://docs.databricks.com">
  <meta property="og:description" content="" id="og-description">
  <meta name="twitter:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta name="twitter:site" content="@databricks">
  <meta name="twitter:creator" content="@databricks">
  <meta property="twitter:description" content="">
  
  <title>Query tasks &#124; Databricks on AWS</title>
  
  
  <link rel="canonical" href="https://docs.databricks.com/en/sql/user/queries/queries.html">
  <!-- Start hreflang tag -->
  <link rel="alternate" hreflang="en" href="https://docs.databricks.com/en/sql/user/queries/queries.html" />
<link rel="alternate" hreflang="x-default" href="https://docs.databricks.com/en/sql/user/queries/queries.html" />
  <!-- End hreflang tag -->
  
  
  <link rel="shortcut icon" href="../../../_static/favicon.ico" />
  

  

  

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T85FQ33');</script>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWTKQQ');</script>
    
  <!-- End Google Tag Manager -->


  <!-- MaxMind / GEO IP -->
  <script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>
  <!-- End MaxMind / GEO IP -->

  
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600&display=swap" rel="stylesheet">
  <link rel="preload" href="../../../_static/fonts/DMSans-Bold.ttf" as="font">
  <link rel="preload" href="../../../_static/fonts/DMSans-Regular.ttf" as="font">
  <link rel="preload" href="../../../_static/fonts/DMMono-Regular.ttf" as="font">
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/cloud-provider-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/translation-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/searchunify/main.css" type="text/css" />

  
  <link rel="index" title="Index" href="../../../genindex.html" />
  <link rel="search" title="Search" href="../../../search.html" />
  <link rel="top" title="Databricks on AWS" href="../../../index.html" /> 
</head>

<body class="wy-body-for-nav" role="document">

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T85FQ33"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWTKQQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  
  <nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
    
<nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
  <div class="container-logo">
    <ul class="mobile-menu-toggle">
        <li class="menu-toggle">
            <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
            
            <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
              alt="Databricks" /></a>   
               
              </li>
    </ul>
    <ul class="su_nav-menu">
      <li class="menu-toggle">
        <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
        
          
        
        <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
            alt="Databricks" /></a></li>
        <!-- 
<li><a href="https://help.databricks.com/s/">Help Center</a></li>
<li class="active"><a href="https://docs.databricks.com/en/">Documentation</a></li>
<li><a href="https://kb.databricks.com/">Knowledge Base</a></li>
 -->
    </ul>
  </div>
  <div class="su_nav-right">
    <ul class="su_link-mobile">
  <!-- Mobile header code can go here -->
</ul>
<ul class="right-try-list">
   
</ul>
  </div>
</nav>
  </nav>

  <div class="su_sub-header">
    <div class="container">
      <div class="su_sub-header-inner">
        <!-- <div class="su_subnav-menu-right">
  <div id="auto" style="width: 100%;">
    <div ng-controller="SearchautoController">
      <div bind-html-compile="autocompleteHtml">
        <form class="su__search-box-1" disabled="disabled">
          <input class="su__search-input" type="search" name="Search box" id="su__search-b" placeholder="Search Documentation" disabled="disabled"/>
          <button class="su__search-button" type="submit" class="button button-success" disabled="disabled">
            <svg width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                fill="#333"></path>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>
</div> -->
        <div class="search-lng-gap"></div>
        <div style="margin-left: 16px; margin-right: 16px;">
          <!-- <select name="lng selector" id="lng-selector">
    <option value="../../../../en/sql/user/queries/queries.html" class="notranslate">English</option>
    <option value="../../../../ja/sql/user/queries/queries.html" class="notranslate">日本語</option>
    <option value="../../../../pt/sql/user/queries/queries.html" class="notranslate">Português (Brasil)</option>
</select> -->
        </div>
        <div class="cloud-selector-container">
          <!-- <select name="cloud provider selector" id="cloud-provider-selector">
    <option value="aws" selected class="notranslate">
        Amazon Web Services
    </option>
    <option value="azure"  class="notranslate">
        Microsoft Azure
    </option>
    <option value="gcp"  class="notranslate">
        Google Cloud Platform
    </option>
</select> -->
        </div>
      </div>
    </div>
  </div>
  <page class="js-page-container">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side su_nav-side">
<div class="wy-side-scroll">
  <div class="wy-side-nav-search">
    

    

    

    
  </div>

  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      <a href="../../../index.html" class="main-navigation-home">Databricks on AWS</a>
    

    
      

      
        <p class="caption"><span class="caption-text">Load &amp; manage data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../rag-temp/index.html">RAG Studio</a></li>
</ul>

      
    
  </div>

  <div role="contentinfo">
    
  <p class="build_info notranslate"data-last-edit="December 23, 2023">
    Updated Jan 11, 2024
  </p>
<script>
  window.addEventListener('DOMContentLoaded',function(){
    var h1=document.querySelector('h1');
    var bi=document.querySelector('[data-last-edit]');
    if(h1 && bi){
      var ver = document.createElement('p');
      ver.className = 'version_info';
      ver.textContent = bi.getAttribute('data-last-edit');
      h1.parentElement.insertBefore(ver, h1.nextElementSibling);
    }
  });
</script>

    <p>
      
        <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
      
    </p>
  </div>
</div>
</nav>
    
    
<main class="wy-grid-for-nav su_nav-grid">
  <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
    <div class="wy-nav-content su__nav_content">
      <div class="rst-content">
        





<div role="navigation" aria-label="breadcrumbs navigation" class="wy-breadcrumbs-wrapper">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Documentation</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
    
      <li>Query tasks</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>
</div>
        
        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
          <div itemprop="articleBody">
            
    
  <div class="section" id="query-tasks">
<h1>Query tasks<a class="headerlink" href="#query-tasks" title="Permalink to this headline"> </a></h1>
<div class="section" id="run-your-first-query">
<h2>Run your first query<a class="headerlink" href="#run-your-first-query" title="Permalink to this headline"> </a></h2>
<p>When you log in to Databricks SQL for the first time, an onboarding panel appears to help you get started quickly. If you are not an administrator, running your first query is the first onboarding task.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you have dismissed the onboarding panel, run this query by following the steps in <a class="reference internal" href="#create-a-query"><span class="std std-ref">Create a query in SQL editor</span></a> later in this article.</p>
</div>
<ol class="arabic">
<li><p>If you don’t see the onboarding panel, look for <strong>Tasks Completed</strong> in the sidebar, and click it.</p>
<div class="figure align-default">
<img alt="Sidebar onboarding label showing 1 of 3 tasks completed" src="../../../_images/onboarding-tasks-completed.png" />
</div>
</li>
<li><p>In the onboarding panel, click <strong>Run your first query</strong>. The SQL editor appears, loaded with the following query in the query pane:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- We&#39;ve given you a sample query below to help get started.</span>
<span class="c1">-- Just hit &quot;Run&quot; to run the query and get your results.</span>
<span class="k">SELECT</span>
<span class="w">  </span><span class="n">concat</span><span class="p">(</span><span class="n">pickup_zip</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">dropoff_zip</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">route</span><span class="p">,</span>
<span class="w">  </span><span class="k">AVG</span><span class="p">(</span><span class="n">fare_amount</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">average_fare</span>
<span class="k">FROM</span>
<span class="w">  </span><span class="o">`</span><span class="n">samples</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">nyctaxi</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">trips</span><span class="o">`</span>
<span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span>
<span class="w">  </span><span class="mi">1</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span>
<span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="k">DESC</span>
<span class="k">LIMIT</span><span class="w"> </span><span class="mi">1000</span>
</pre></div>
</div>
<p>This query runs against the <code class="docutils literal notranslate"><span class="pre">nyctaxi</span></code> database in the <code class="docutils literal notranslate"><span class="pre">SAMPLES</span></code> catalog, which is readable in all workspaces.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><strong>Limit 1000</strong> is selected by default for all queries to ensure that the query returns at most 1000 rows. If a query is saved with the <strong>Limit 1000</strong> setting, this setting applies to all executions of the query (including within dashboards). It is not limited to the context of the editor session. If you want to return all rows for this query, you can unselect <strong>LIMIT 1000</strong> by clicking the <strong>Run (1000)</strong> drop-down. If you want to specify a different limit on the number of rows, you can add a <code class="docutils literal notranslate"><span class="pre">LIMIT</span></code> clause in your query with a value of your choice.</p>
</div>
</li>
<li><p>Click <strong>Run (1000)</strong>. After a few seconds, the query results are shown below the query in the results pane.</p>
<div class="figure align-default">
<img alt="Results of your first query" src="../../../_images/first-query-results.png" />
</div>
</li>
<li><p>Click <strong>Save</strong>.</p></li>
<li><p>In the <strong>Save query</strong> dialog box, click <strong>Save</strong> (change the query name to a name of your choice).</p></li>
</ol>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>When you modify a query but don’t explicitly click <strong>Save</strong>, that state is retained as a query draft. Query drafts are retained for 30 days. After 30 days, query drafts are automatically deleted. To retain your changes, you must explicitly save them.</p>
</div>
</div>
<div class="section" id="view-and-organize-queries">
<h2>View and organize queries<a class="headerlink" href="#view-and-organize-queries" title="Permalink to this headline"> </a></h2>
<p>Queries can be viewed in one of two ways:</p>
<ul class="simple">
<li><p>New queries can now be viewed in the workspace browser by clicking <img alt="Workspace Icon" src="../../../_images/workspace-icon.png" /> <strong>Workspace</strong> in the sidebar. These queries are viewable, by default, in the <strong>Home</strong> folder. Users can organize queries into folders in the workspace browser along with other Databricks objects. To view and organize currently existing queries, users (or workspace admins) must migrate them into the workspace browser. For information on the Databricks SQL workspace browser, including migration, see <a class="reference internal" href="../../../workspace/workspace-browser/index.html"><span class="doc">Workspace browser</span></a>.</p></li>
<li><p>All queries, regardless of creation time or migration status, can also be viewed by clicking the <img alt="Queries Icon" src="../../../_images/queries-icon.png" /> <strong>Queries</strong> in the sidebar. By default, objects in the <strong>Queries</strong> windows are sorted in reverse chronological order. You can reorder the list by clicking the column headings.</p></li>
</ul>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Starting on July 10, 2023, Databricks will force-migrate all Databricks SQL content (dashboards, queries, alerts) to the workspace browser. Visit <strong>My Queries</strong> and look for any un-migrated queries, which will have a checkbox on the lefthand side. When a box is checked, a <strong>Migrate</strong> button will appear that allows you to migrate multiple assets at a time. If no action is taken, your queries will be moved to your user folder. Workspace admins should ensure that all objects without a valid active owner are updated to have one. Starting on September 10, 2023, we will delete all unmigrated objects without a valid owner.</p>
</div>
<div class="section" id="organize-queries-into-folders-in-the-workspace-browser">
<h3>Organize queries into folders in the workspace browser<a class="headerlink" href="#organize-queries-into-folders-in-the-workspace-browser" title="Permalink to this headline"> </a></h3>
<p>You can now organize new and existing queries into folders in the <a class="reference internal" href="../../../workspace/workspace-browser/index.html"><span class="doc">workspace browser</span></a> along with other Databricks objects. For more information, see <a class="reference internal" href="../../../workspace/workspace-browser/index.html"><span class="doc">Workspace browser</span></a>.</p>
</div>
<div class="section" id="filter-the-list-of-saved-queries-in-the-queries-window">
<h3>Filter the list of saved queries in the queries window<a class="headerlink" href="#filter-the-list-of-saved-queries-in-the-queries-window" title="Permalink to this headline"> </a></h3>
<p>In the queries window, you can filter the list of all queries by the list of queries you have created (<strong>My Queries</strong>), by <a class="reference internal" href="../sql-editor/favorites-tags.html#favorites"><span class="std std-ref">favorites</span></a>, and by <a class="reference internal" href="../sql-editor/favorites-tags.html#tags"><span class="std std-ref">tags</span></a>.</p>
</div>
</div>
<div class="section" id="create-a-query-in-sql-editor">
<span id="create-a-query"></span><h2>Create a query in SQL editor<a class="headerlink" href="#create-a-query-in-sql-editor" title="Permalink to this headline"> </a></h2>
<ol class="arabic">
<li><p>Choose one of the following methods to create a new query using the SQL editor:</p>
<ul class="simple">
<li><p>Click <strong>SQL Editor</strong> in the sidebar.</p></li>
<li><p>Click <img alt="New Icon" src="../../../_images/create-icon.png" /> <strong>New</strong> in the sidebar and select <strong>Query</strong>.</p></li>
<li><p>In the sidebar, click <img alt="Queries Icon" src="../../../_images/queries-icon.png" /> <strong>Queries</strong> and then click <strong>+ Create Query</strong>.</p></li>
<li><p>In the sidebar, click <img alt="Workspace Icon" src="../../../_images/workspace-icon.png" /> <strong>Workspace</strong> and then click <strong>+ Create Query</strong>.</p></li>
</ul>
<p>The SQL editor displays.</p>
</li>
<li><p>In the data warehouses drop-down list, select a <a class="reference internal" href="../../../compute/sql-warehouse/create-sql-warehouse.html"><span class="doc">SQL warehouse</span></a>. To filter the list, enter text in the text box.</p>
<p>The first time you create a query the list of available SQL warehouses displays in alphabetical order. The next time you create a query, the last used SQL warehouse is selected.</p>
<p>The icon next to the SQL warehouse indicates the status:</p>
<ul class="simple">
<li><p>Running <img alt="Running" src="../../../_images/endpoint-running.png" /></p></li>
<li><p>Starting <img alt="Starting" src="../../../_images/endpoint-starting.png" /></p></li>
<li><p>Stopped <img alt="Stopped" src="../../../_images/endpoint-stopped.png" /></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If there are no SQL warehouses in the list, contact your Databricks SQL administrator.</p>
</div>
</li>
</ol>
<div class="section" id="create-a-query-using-terraform">
<h3>Create a query using Terraform<a class="headerlink" href="#create-a-query-using-terraform" title="Permalink to this headline"> </a></h3>
<ul class="simple">
<li><p>You can also create a query with the <a class="reference internal" href="../../../dev-tools/terraform/index.html"><span class="doc">Databricks Terraform provider</span></a> and <a class="reference external" href="https://registry.terraform.io/providers/databricks/databricks/latest/docs/resources/sql_query">databricks_sql_query</a>.</p></li>
<li><p>You can create a <a class="reference internal" href="../visualizations/index.html"><span class="doc">visualization</span></a> for a query with <a class="reference external" href="https://registry.terraform.io/providers/databricks/databricks/latest/docs/resources/sql_visualization">databricks_sql_visualization</a>.</p></li>
<li><p>You can create a sample dashboard with queries by using <a class="reference external" href="https://github.com/databricks/terraform-databricks-examples/tree/main/modules/dbsql-nyc-taxi-trip-analysis">dbsql-nyc-taxi-trip-analysis</a>.</p></li>
</ul>
</div>
</div>
<div class="section" id="browse-data-objects-in-sql-editor">
<span id="browse-data-objects"></span><h2>Browse data objects in SQL editor<a class="headerlink" href="#browse-data-objects-in-sql-editor" title="Permalink to this headline"> </a></h2>
<p>If you have metadata read permission, the schema browser in SQL editor displays the available databases and tables. You can also browse data objects in <a class="reference internal" href="../../../catalog-explorer/index.html"><span class="doc">Catalog Explorer</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If there are no data objects in the schema browser or in Catalog Explorer, contact your Databricks SQL administrator.</p>
</div>
<ul>
<li><p>You must select a running SQL warehouse.</p></li>
<li><p>To see a data object, you must either be the data object owner or be granted <a class="reference internal" href="../../../data-governance/index.html"><span class="doc">privileges</span></a> to the object.</p>
<p></p>
</li>
<li><p>To refresh the schema, click <img alt="Refresh Schema Icon" src="../../../_images/refresh-schema-icon.png" />.</p>
<div class="figure align-default">
<img alt="Refresh schema" src="../../../_images/refresh-schema.png" />
</div>
<p>You can filter the schema by typing filter strings in the search box.</p>
</li>
<li><p>To show the columns in a table, click the table.</p>
<div class="figure align-default">
<img alt="Table columns" src="../../../_images/table-columns.png" />
</div>
</li>
</ul>
</div>
<div class="section" id="construct-a-query">
<h2>Construct a query<a class="headerlink" href="#construct-a-query" title="Permalink to this headline"> </a></h2>
<p>You construct a query by inserting elements from the schema browser or typing in the SQL editor.</p>
<ul>
<li><p>To insert an object from the schema browser into the SQL editor, click the double arrow on the right of a data object.</p></li>
<li><p>Type your query in the SQL editor.</p>
<p>The SQL editor supports autocomplete. As you type, autocomplete suggests valid completions. For example, if a valid completion at the cursor location is a column, autocomplete suggests a column name. If you type <code class="docutils literal notranslate"><span class="pre">select</span> <span class="pre">*</span> <span class="pre">from</span> <span class="pre">table</span> <span class="pre">as</span> <span class="pre">t</span> <span class="pre">where</span> <span class="pre">t.</span></code>, autocomplete recognizes that <code class="docutils literal notranslate"><span class="pre">t</span></code> is an alias for <code class="docutils literal notranslate"><span class="pre">table</span></code> and suggests the columns inside <code class="docutils literal notranslate"><span class="pre">table</span></code>.</p>
<div class="figure align-default">
<img alt="Autocomplete alias" src="../../../_images/autocomplete-alias.png" />
</div>
</li>
<li><p>(Optional) When you are done editing, click <strong>Save</strong>.</p></li>
</ul>
</div>
<div class="section" id="edit-multiple-queries">
<h2>Edit multiple queries<a class="headerlink" href="#edit-multiple-queries" title="Permalink to this headline"> </a></h2>
<p>By default, the SQL editor uses tabs so you can edit multiple queries at the same time. To open a new tab, click <strong>+</strong>, then select <strong>Create new query</strong> or <strong>Open existing query</strong>. Click <strong>Open existing query</strong> to see your list of saved queries. click <strong>My Queries</strong> or <strong>Favorites</strong> to filter the list of queries. In the row containing the query you want to view, click <strong>Open</strong>.</p>
<p>  <img alt="Queries Dialog" src="../../../_images/queries-dialog.png" /></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you right click on a tab, you’ll see options to <strong>Close others</strong>, <strong>Close left</strong>, <strong>Close right</strong>, and <strong>Close all</strong>. If you right click on the first or last tab, the options to <strong>Close left</strong> or <strong>Close right</strong> are not available.</p>
</div>
</div>
<div class="section" id="execute-a-single-query-or-multiple-queries">
<span id="execute-a-query"></span><h2>Execute a single query or multiple queries<a class="headerlink" href="#execute-a-single-query-or-multiple-queries" title="Permalink to this headline"> </a></h2>
<p>To run a query or all queries:</p>
<ol class="arabic">
<li><p>Select a SQL warehouse.</p></li>
<li><p>Highlight a specific query in the SQL editor (if there are multiple querie in the query pane).</p></li>
<li><p>Press <strong>Ctrl/Cmd + Enter</strong> or click <strong>Run (1000)</strong> to display the results as a table in the results pane.</p>
<div class="figure align-default">
<img alt="Query result" src="../../../_images/query-result.png" />
</div>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Limit 1000</strong> is selected by default for all queries to ensure that the query returns at most 1000 rows. If a query is saved with the <strong>Limit 1000</strong> setting, this setting applies to all executions of the query (including within dashboards). If you want to return all rows for this query, you can unselect <strong>LIMIT 1000</strong> by clicking the <strong>Run (1000)</strong> drop-down. If you want to specify a different limit on the number of rows, you can add a <code class="docutils literal notranslate"><span class="pre">LIMIT</span></code> clause in your query with a value of your choice.</p>
</div>
</div>
<div class="section" id="warehouse-auto-restart">
<span id="autostart-warehouses"></span><h2>Warehouse auto-restart<a class="headerlink" href="#warehouse-auto-restart" title="Permalink to this headline"> </a></h2>
<p>A warehouse auto-restarts:</p>
<ul class="simple">
<li><p>If a warehouse is stopped and you attempt to run a query.</p></li>
<li><p>A job assigned to a stopped warehouse is scheduled to run.</p></li>
<li><p>You connect to a stopped warehouse from a JDBC/ODBC interface.</p></li>
<li><p>You open a query in the SQL editor that is saved to a stopped warehouse.</p></li>
<li><p>You open a dashboard that is saved with a dashboard-level warehouse assigned.</p></li>
</ul>
<p>To manually start a warehouse, click <img alt="Endpoints Icon" src="../../../_images/warehouses-icon.png" /> <strong>SQL Warehouses</strong> in the sidebar then click <strong>Start</strong> next to the warehouse.</p>
</div>
<div class="section" id="terminate-a-query">
<h2>Terminate a query<a class="headerlink" href="#terminate-a-query" title="Permalink to this headline"> </a></h2>
<p>To terminate a query while it is executing, click <strong>Cancel</strong>. An administrator can terminate an executing query that was started by another user by viewing the <a class="reference internal" href="../../admin/query-history.html#terminate-an-executing-query"><span class="std std-ref">Terminate an executing query</span></a>.</p>
</div>
<div class="section" id="set-query-description-and-view-query-info">
<span id="set-query-description"></span><h2>Set query description and view query info<a class="headerlink" href="#set-query-description-and-view-query-info" title="Permalink to this headline"> </a></h2>
<p>To set a query description:</p>
<ol class="arabic">
<li><p>Click the kebab context menu <img alt="Vertical Ellipsis" src="../../../_images/vertical-ellipsis.png" /> next to the query and click <strong>Edit query info</strong>.</p>
<div class="figure align-default">
<img alt="Query info" src="../../../_images/query-info-tab1.png" />
</div>
</li>
<li><p>In the <strong>Description</strong> text box, enter a description and then click <strong>Save</strong>.</p></li>
</ol>
<p>To view query info:</p>
<p>To view when a query was created or updated, click the <img alt="Vertical Ellipsis" src="../../../_images/vertical-ellipsis.png" /> next to the query and click <strong>Edit query info</strong>.</p>
</div>
<div class="section" id="revert-to-a-saved-query">
<h2>Revert to a saved query<a class="headerlink" href="#revert-to-a-saved-query" title="Permalink to this headline"> </a></h2>
<p>When you edit a query, a <strong>Revert changes</strong> option appears in the context menu for the query.</p>
<div class="figure align-default">
<img alt="Revert link" src="../../../_images/revert-changes.png" />
</div>
<p>You can click <strong>Revert</strong> to go back to your saved version. Your changes are persisted to browser storage when you leave, but the browser may still display warnings about losing work.</p>
</div>
<div class="section" id="move-a-query-to-or-restore-from-trash">
<h2>Move a query to or restore from trash<a class="headerlink" href="#move-a-query-to-or-restore-from-trash" title="Permalink to this headline"> </a></h2>
<p>To move a query to trash:</p>
<ul class="simple">
<li><p>Click the kebab context menu <img alt="Vertical Ellipsis" src="../../../_images/vertical-ellipsis.png" /> next to the query in SQL editor and select <strong>Move to Trash</strong>.</p></li>
<li><p>Click <strong>Move to trash</strong> to confirm.</p></li>
</ul>
<p>To restore a query from trash:</p>
<ol class="arabic simple">
<li><p>In the All Queries list, click <img alt="Trash" src="../../../_images/trash-icon.png" />.</p></li>
<li><p>Click a query.</p></li>
<li><p>Click the kebab context menu <img alt="Vertical Ellipsis" src="../../../_images/vertical-ellipsis.png" /> at the top-right of the SQL editor and click <strong>Restore</strong>.</p></li>
</ol>
</div>
<div class="section" id="copy-a-query">
<h2>Copy a query<a class="headerlink" href="#copy-a-query" title="Permalink to this headline"> </a></h2>
<p>To create a copy of a query (created by you or someone else), click the kebab context menu <img alt="Vertical Ellipsis" src="../../../_images/vertical-ellipsis.png" /> for the query and click <strong>Clone</strong>:</p>
<div class="figure align-default">
<img alt="Clone query" src="../../../_images/clone-query.png" />
</div>
</div>
<div class="section" id="view-past-executions-of-a-query">
<h2>View past executions of a query<a class="headerlink" href="#view-past-executions-of-a-query" title="Permalink to this headline"> </a></h2>
<p>To view past executions performed, click <strong>Past executions</strong> in the SQL editor:</p>
<div class="figure align-default">
<img alt="Past executions" src="../../../_images/past-executions-tab1.png" />
</div>
<p>This tab does not show <a class="reference internal" href="schedule-query.html"><span class="doc">scheduled executions</span></a>.</p>
</div>
<div class="section" id="download-a-query-result">
<h2>Download a query result<a class="headerlink" href="#download-a-query-result" title="Permalink to this headline"> </a></h2>
<p>You can download a query result as a CSV, TSV, or Excel file. You can download up to approximately 1GB of results data from Databricks SQL in CSV and TSV format, and up to 100,000 rows to an Excel file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The final file download size may be slightly more or less than 1GB, as the 1GB limit is applied to an earlier step in the process than final file download.</p>
</div>
<ol class="arabic simple">
<li><p>Click the kebab context menu <img alt="Vertical Ellipsis" src="../../../_images/vertical-ellipsis.png" /> for a tab in the results pane.</p></li>
<li><p>Select <strong>Download as [CSV | TSV | Excel] File</strong>.</p></li>
</ol>
<div class="figure align-default">
<img alt="Download query result" src="../../../_images/download-dataset.png" />
</div>
<p>If you cannot download a query, your administrator has <a class="reference internal" href="../../../administration-guide/workspace-settings/notebooks.html"><span class="doc">disabled download</span></a> for your Databricks SQL instance.</p>
</div>
<div class="section" id="configure-query-permissions-and-query-ownership">
<h2>Configure query permissions and query ownership<a class="headerlink" href="#configure-query-permissions-and-query-ownership" title="Permalink to this headline"> </a></h2>
<p>To configure who can manage and run queries and transfer ownership of a query, see <a class="reference internal" href="../../../security/auth-authz/access-control/query-acl.html"><span class="doc">Share queries</span></a>.</p>
</div>
<div class="section" id="access-admin-view">
<h2>Access admin view<a class="headerlink" href="#access-admin-view" title="Permalink to this headline"> </a></h2>
<p>A Databricks workspace admin user has view access to all queries in the workspace. In this view, a workspace admin can view and delete any queries. However, a workspace admin can’t edit a query if it is not shared with the admin.</p>
<p>To view all queries:</p>
<ol class="arabic simple">
<li><p>Click <img alt="Queries Icon" src="../../../_images/queries-icon.png" /> <strong>Queries</strong> in the sidebar.</p></li>
<li><p>Click <strong>Admin View</strong> on the right panel.</p></li>
</ol>
</div>
<div class="section" id="live-autocomplete">
<span id="auto-complete"></span><h2>Live autocomplete<a class="headerlink" href="#live-autocomplete" title="Permalink to this headline"> </a></h2>
<p>The SQL editor has live autocomplete, which makes writing queries faster. Live autocomplete can complete schema tokens, query syntax identifiers (like <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> and <code class="docutils literal notranslate"><span class="pre">JOIN</span></code>), and the titles of <a class="reference internal" href="query-snippets.html"><span class="doc">query snippets</span></a>.</p>
<p>Live autocomplete is enabled by default unless your database schema exceeds five thousand tokens (tables or columns).</p>
<ul class="simple">
<li><p>To disable live autocomplete, press <strong>Ctrl + Space</strong> or click <img alt="Auto Complete Enabled" src="../../../_images/auto-complete-enabled.png" /> beneath the SQL editor:</p></li>
<li><p>To enable live autocomplete, press <strong>Ctrl + Space</strong> or click <img alt="Auto Complete Disabled" src="../../../_images/auto-complete-disabled.png" /> beneath the SQL editor.</p></li>
</ul>
</div>
</div>


    
          </div>
        </div>
        <div  class="suapp-rating">
  <div id="suPageRateApp">
     <su-app></su-app>
   </div> 
 </div>
<hr> 
<footer>
  <div role="contentinfo">
      <p class="copyright">
          &copy; Databricks 2023. All rights reserved. Apache, Apache Spark, Spark, and the Spark logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a>.
      </p>
      <p> 
        
          <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
        
     | <a href="https://databricks.com/privacy-policy">Privacy Policy</a> | <a href="https://databricks.com/terms-of-use">Terms of Use</a></p>

  </div> 

</footer>
      </div>
    </div>
  </section>
</main>

  </page>
  
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT: '../../../',
      VERSION: '1.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE: 'false'
    };
  </script>
  <script type="text/javascript" src="../../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../../_static/underscore.js"></script>
  <script type="text/javascript" src="../../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../../_static/language_data.js"></script>
  

  <script type="text/javascript" src="../../../_static/js/clipboard.min.js"></script>
  <script type="text/javascript" src="../../../_static/js/jquery.waypoints.min.js"></script>

  <!-- Select2 (https://select2.org/) -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <!-- End Select2 -->

  
  
  <script type="text/javascript" src="../../../_static/js/localized.js"></script>
  <script type="text/javascript" src="../../../_static/js/custom.js"></script>
  

  
  
  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.StickyNav.enable();
    });

  </script>
  
 



  <script>
  window.__searchunifyLoaderConfig = JSON.parse('{"clients": {"en": "02c2e804-27e9-11ee-aefb-0242ac120011", "ja": "6a42c3f2-2820-11ee-aefb-0242ac120011", "pt": "6a86badd-2821-11ee-aefb-0242ac120011"}}')
</script>
<script type="text/javascript" src="../../../_static/js/search-loader.js"></script>
</body>
<script type='text/javascript'>
  window.onload = function () {
    var description = document.querySelector('meta[name="description"]').getAttribute("content");
    let titleText = document.querySelector('h1').textContent;
    document.querySelector('meta[property="og:title"]').setAttribute("content", titleText);
    document.querySelector('meta[property="og:description"]').setAttribute("content", description);
    document.querySelector('meta[property="twitter:description"]').setAttribute("content", description);
  };
</script>

</html>