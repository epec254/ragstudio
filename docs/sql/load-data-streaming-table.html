

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en-US" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en-US"> <!--<![endif]-->

<head>
  <!-- cookie consent -->
  
    <!-- Combined Onetrust and Rudderstack Implementation Scripts -->
    <!-- Onetrust Initialization -->
    <script type="text/javascript" src="https://cdn.cookielaw.org/consent/92466579-1717-44d3-809d-a05fb02843ed-test/OtAutoBlock.js"></script>
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="92466579-1717-44d3-809d-a05fb02843ed-test"></script>
    <link rel="stylesheet" id="db-onetrust-style" href="https://www.databricks.com/wp-content/uploads/db_onetrust.css" media="all" />
    <!-- Setting Rudderstack Write Key -->
    <script>window.rudderstackKey = "2SOR9fvSr5Fi6tN2ihPbVHnX1SZ" </script>
    <!-- Rudderstack Initialization + Onetrust Integration + Rudderstack Custom Events -->
    <script type="text/javascript" src="https://www.databricks.com/sites/default/files/rudderstack/v1/db-rudderstack-events.js"></script>

  <!-- cookie consent -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta content="Learn how to load data from cloud storage and Kafka using streaming tables in Databricks SQL." name="description" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta property="og:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:title" content="Load data using streaming tables in Databricks SQL">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://docs.databricks.com">
  <meta property="og:description" content="" id="og-description">
  <meta name="twitter:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta name="twitter:site" content="@databricks">
  <meta name="twitter:creator" content="@databricks">
  <meta property="twitter:description" content="">
  
  <title>Load data using streaming tables in Databricks SQL &#124; Databricks on AWS</title>
  
  
  <link rel="canonical" href="https://docs.databricks.com/en/sql/load-data-streaming-table.html">
  <!-- Start hreflang tag -->
  <link rel="alternate" hreflang="en" href="https://docs.databricks.com/en/sql/load-data-streaming-table.html" />
<link rel="alternate" hreflang="x-default" href="https://docs.databricks.com/en/sql/load-data-streaming-table.html" />
  <!-- End hreflang tag -->
  
  
  <link rel="shortcut icon" href="../_static/favicon.ico" />
  

  

  

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T85FQ33');</script>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWTKQQ');</script>
    
  <!-- End Google Tag Manager -->


  <!-- MaxMind / GEO IP -->
  <script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>
  <!-- End MaxMind / GEO IP -->

  
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600&display=swap" rel="stylesheet">
  <link rel="preload" href="../_static/fonts/DMSans-Bold.ttf" as="font">
  <link rel="preload" href="../_static/fonts/DMSans-Regular.ttf" as="font">
  <link rel="preload" href="../_static/fonts/DMMono-Regular.ttf" as="font">
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/cloud-provider-selector.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/translation-selector.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/searchunify/main.css" type="text/css" />

  
  <link rel="index" title="Index" href="../genindex.html" />
  <link rel="search" title="Search" href="../search.html" />
  <link rel="top" title="Databricks on AWS" href="../index.html" /> 
</head>

<body class="wy-body-for-nav" role="document">

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T85FQ33"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWTKQQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  
  <nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
    
<nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
  <div class="container-logo">
    <ul class="mobile-menu-toggle">
        <li class="menu-toggle">
            <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
            
            <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
              alt="Databricks" /></a>   
               
              </li>
    </ul>
    <ul class="su_nav-menu">
      <li class="menu-toggle">
        <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
        
          
        
        <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
            alt="Databricks" /></a></li>
        <!-- 
<li><a href="https://help.databricks.com/s/">Help Center</a></li>
<li class="active"><a href="https://docs.databricks.com/en/">Documentation</a></li>
<li><a href="https://kb.databricks.com/">Knowledge Base</a></li>
 -->
    </ul>
  </div>
  <div class="su_nav-right">
    <ul class="su_link-mobile">
  <!-- Mobile header code can go here -->
</ul>
<ul class="right-try-list">
   
</ul>
  </div>
</nav>
  </nav>

  <div class="su_sub-header">
    <div class="container">
      <div class="su_sub-header-inner">
        <!-- <div class="su_subnav-menu-right">
  <div id="auto" style="width: 100%;">
    <div ng-controller="SearchautoController">
      <div bind-html-compile="autocompleteHtml">
        <form class="su__search-box-1" disabled="disabled">
          <input class="su__search-input" type="search" name="Search box" id="su__search-b" placeholder="Search Documentation" disabled="disabled"/>
          <button class="su__search-button" type="submit" class="button button-success" disabled="disabled">
            <svg width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                fill="#333"></path>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>
</div> -->
        <div class="search-lng-gap"></div>
        <div style="margin-left: 16px; margin-right: 16px;">
          <!-- <select name="lng selector" id="lng-selector">
    <option value="../../en/sql/load-data-streaming-table.html" class="notranslate">English</option>
    <option value="../../ja/sql/load-data-streaming-table.html" class="notranslate">日本語</option>
    <option value="../../pt/sql/load-data-streaming-table.html" class="notranslate">Português (Brasil)</option>
</select> -->
        </div>
        <div class="cloud-selector-container">
          <!-- <select name="cloud provider selector" id="cloud-provider-selector">
    <option value="aws" selected class="notranslate">
        Amazon Web Services
    </option>
    <option value="azure"  class="notranslate">
        Microsoft Azure
    </option>
    <option value="gcp"  class="notranslate">
        Google Cloud Platform
    </option>
</select> -->
        </div>
      </div>
    </div>
  </div>
  <page class="js-page-container">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side su_nav-side">
<div class="wy-side-scroll">
  <div class="wy-side-nav-search">
    

    

    

    
  </div>

  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      <a href="../index.html" class="main-navigation-home">Databricks on AWS</a>
    

    
      

      
        <p class="caption"><span class="caption-text">Load &amp; manage data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../rag-temp/index.html">RAG Studio</a></li>
</ul>

      
    
  </div>

  <div role="contentinfo">
    
  <p class="build_info notranslate"data-last-edit="December 23, 2023">
    Updated Jan 11, 2024
  </p>
<script>
  window.addEventListener('DOMContentLoaded',function(){
    var h1=document.querySelector('h1');
    var bi=document.querySelector('[data-last-edit]');
    if(h1 && bi){
      var ver = document.createElement('p');
      ver.className = 'version_info';
      ver.textContent = bi.getAttribute('data-last-edit');
      h1.parentElement.insertBefore(ver, h1.nextElementSibling);
    }
  });
</script>

    <p>
      
        <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
      
    </p>
  </div>
</div>
</nav>
    
    
<main class="wy-grid-for-nav su_nav-grid">
  <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
    <div class="wy-nav-content su__nav_content">
      <div class="rst-content">
        





<div role="navigation" aria-label="breadcrumbs navigation" class="wy-breadcrumbs-wrapper">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Documentation</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
    
      <li>Load data using streaming tables in Databricks SQL</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>
</div>
        
        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
          <div itemprop="articleBody">
            
    
  <div class="section" id="load-data-using-streaming-tables-in-databricks-sql">
<span id="load-data-using-streaming-tables-in-dbsql"></span><h1>Load data using streaming tables in Databricks SQL<a class="headerlink" href="#load-data-using-streaming-tables-in-databricks-sql" title="Permalink to this headline"> </a></h1>
<div class="preview admonition">
<p class="admonition-title">Preview</p>
<p>This feature is in Public Preview. To sign up for access, <a class="reference external" href="https://www.databricks.com/resources/webinar/request-access-databricks-sql-materialized-views">fill out this form</a>.</p>
</div>
<p>Databricks recommends using streaming tables to ingest data using Databricks SQL. A <em>streaming table</em> is a Unity Catalog managed table with extra support for streaming or incremental data processing. A DLT pipeline is automatically created for each streaming table. You can use streaming tables for incremental data loading from Kafka and cloud object storage.</p>
<p>This article demonstrates using streaming tables to load data from cloud object storage configured as a Unity Catalog volume (recommended) or external location.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To learn how to use Delta Lake tables as streaming sources and sinks, see <a class="reference internal" href="../structured-streaming/delta-lake.html"><span class="doc">Delta table streaming reads and writes</span></a>.</p>
</div>
<div class="section" id="before-you-begin">
<span id="requirements"></span><h2>Before you begin<a class="headerlink" href="#before-you-begin" title="Permalink to this headline"> </a></h2>
<p>Before you begin, make sure you have the following:</p>
<ul>
<li><p>A Databricks account with serverless enabled. For more information, see <a class="reference internal" href="../compute/sql-warehouse/serverless.html"><span class="doc">Use serverless SQL warehouses</span></a>.</p></li>
<li><p>A workspace with Unity Catalog enabled. For more information, see <a class="reference internal" href="../data-governance/unity-catalog/get-started.html"><span class="doc">Set up and manage Unity Catalog</span></a>.</p></li>
<li><p>A SQL warehouse that uses the <code class="docutils literal notranslate"><span class="pre">Current</span></code> channel.</p></li>
<li><p>To query streaming tables created by a Delta Live Tables pipeline, you must use a shared cluster using Databricks Runtime 13.1 and above or a SQL warehouse. Streaming tables created in a Unity Catalog enabled pipeline cannot be queried from assigned or no isolation clusters.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">READ</span> <span class="pre">FILES</span></code> privilege on a Unity Catalog external location. For information, see <a class="reference internal" href="../connect/unity-catalog/external-locations.html"><span class="doc">Create an external location</span></a>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> privilege on the catalog in which you create the streaming table.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SCHEMA</span></code> privilege on the schema in which you create the streaming table.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">TABLE</span></code> privilege on the schema in which you create the streaming table.</p></li>
<li><p>The path to your source data.</p>
<p>Volume path example: <code class="docutils literal notranslate"><span class="pre">/Volumes/&lt;catalog&gt;/&lt;schema&gt;/&lt;volume&gt;/&lt;path&gt;/&lt;file-name&gt;</span></code></p>
<p>External location path example: <code class="docutils literal notranslate"><span class="pre">s3://myBucket/analysis</span></code></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This article assumes the data you want to load is in a cloud storage location that corresponds to a Unity Catalog volume or external location you have access to.</p>
</div>
</li>
</ul>
</div>
<div class="section" id="discover-and-preview-source-data">
<span id="explore"></span><h2>Discover and preview source data<a class="headerlink" href="#discover-and-preview-source-data" title="Permalink to this headline"> </a></h2>
<ol class="arabic">
<li><p>In the sidebar of your workspace, click <strong>Queries</strong>, and then click <strong>Create query</strong>.</p></li>
<li><p>In the query editor, select a SQL warehouse that uses the <code class="docutils literal notranslate"><span class="pre">Current</span></code> channel from the drop-down list.</p></li>
<li><p>Paste the following into the editor, substituting values in angle brackets (<code class="docutils literal notranslate"><span class="pre">&lt;&gt;</span></code>) for the information identifying your source data, and then click <strong>Run</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You might encounter schema inference errors when running the <code class="docutils literal notranslate"><span class="pre">read_files</span></code> table valued function if the defaults for the function can’t parse your data. For example, you might need to configure multi-line mode for multi-line CSV or JSON files. For a list of parser options, see <a class="reference internal" href="language-manual/functions/read_files.html"><span class="doc">read_files table-valued function</span></a>.</p>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* Discover your data in a volume */</span>
<span class="n">LIST</span><span class="w"> </span><span class="ss">&quot;/Volumes/&lt;catalog&gt;/&lt;schema&gt;/&lt;volume&gt;/&lt;path&gt;/&lt;folder&gt;&quot;</span>

<span class="cm">/* Preview your data in a volume */</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">read_files</span><span class="p">(</span><span class="ss">&quot;/Volumes/&lt;catalog&gt;/&lt;schema&gt;/&lt;volume&gt;/&lt;path&gt;/&lt;folder&gt;&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">LIMIT</span><span class="w"> </span><span class="mi">10</span>

<span class="cm">/* Discover your data in an external location */</span>
<span class="n">LIST</span><span class="w"> </span><span class="ss">&quot;s3://&lt;bucket&gt;/&lt;path&gt;/&lt;folder&gt;&quot;</span>

<span class="cm">/* Preview your data */</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">read_files</span><span class="p">(</span><span class="ss">&quot;s3://&lt;bucket&gt;/&lt;path&gt;/&lt;folder&gt;&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">LIMIT</span><span class="w"> </span><span class="mi">10</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="load-data-into-a-streaming-table">
<span id="ingest"></span><h2>Load data into a streaming table<a class="headerlink" href="#load-data-into-a-streaming-table" title="Permalink to this headline"> </a></h2>
<p>To create a streaming table from data in cloud object storage, paste the following into the query editor, and then click <strong>Run</strong>:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* Load data from a volume */</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="n">REFRESH</span><span class="w"> </span><span class="n">STREAMING</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">&lt;</span><span class="k">table</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="w"> </span><span class="k">AS</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">STREAM</span><span class="w"> </span><span class="n">read_files</span><span class="p">(</span><span class="s1">&#39;/Volumes/&lt;catalog&gt;/&lt;schema&gt;/&lt;volume&gt;/&lt;path&gt;/&lt;folder&gt;&#39;</span><span class="p">)</span>

<span class="cm">/* Load data from an external location */</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="n">REFRESH</span><span class="w"> </span><span class="n">STREAMING</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">&lt;</span><span class="k">table</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="w"> </span><span class="k">AS</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">STREAM</span><span class="w"> </span><span class="n">read_files</span><span class="p">(</span><span class="s1">&#39;s3://&lt;bucket&gt;/&lt;path&gt;/&lt;folder&gt;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="refresh-a-streaming-table-using-a-dlt-pipeline">
<span id="refresh"></span><h2>Refresh a streaming table using a DLT pipeline<a class="headerlink" href="#refresh-a-streaming-table-using-a-dlt-pipeline" title="Permalink to this headline"> </a></h2>
<p>This section describes patterns for refreshing a streaming table with the latest data available from the sources defined in the query.</p>
<p><code class="docutils literal notranslate"><span class="pre">CREATE</span></code> operations for streaming tables use a Databricks SQL warehouse for the initial creation and loading of data into the streaming table. <code class="docutils literal notranslate"><span class="pre">REFRESH</span></code> operations for streaming tables use Delta Live Tables (DLT). A DLT pipeline is automatically created for each streaming table. When a streaming table is refreshed, an update to the DLT pipeline is initiated to process the refresh.</p>
<p>After you run the <code class="docutils literal notranslate"><span class="pre">REFRESH</span></code> command, the DLT pipeline link is returned. You can use the DLT pipeline link to check the status of the refresh.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only the table owner can refresh a streaming table to get the latest data. The user that creates the table is the owner, and the owner can’t be changed.</p>
</div>
<p>See <a class="reference internal" href="../delta-live-tables/index.html"><span class="doc">What is Delta Live Tables?</span></a>.</p>
<div class="section" id="ingest-new-data-only">
<h3>Ingest new data only<a class="headerlink" href="#ingest-new-data-only" title="Permalink to this headline"> </a></h3>
<p>By default, the <code class="docutils literal notranslate"><span class="pre">read_files</span></code> function reads all existing data in the source directory during table creation, and then processes newly arriving records with each refresh.</p>
<p>To avoid ingesting data that already exists in the source directory at the time of table creation, use the <code class="docutils literal notranslate"><span class="pre">ignoreExistingFiles</span></code> option. This means that only data that arrives in the directory after table creation is processed. For example:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="n">REFRESH</span><span class="w"> </span><span class="n">STREAMING</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">my_bronze_table</span>
<span class="k">AS</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">STREAM</span><span class="w"> </span><span class="n">read_files</span><span class="p">(</span><span class="s1">&#39;s3://mybucket/analysis/*/*/*.json&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">ignoreExistingFiles</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">true</span><span class="p">)</span>
</pre></div>
</div>
<p></p>
</div>
<div class="section" id="fully-refresh-a-streaming-table">
<h3>Fully refresh a streaming table<a class="headerlink" href="#fully-refresh-a-streaming-table" title="Permalink to this headline"> </a></h3>
<p>Full refreshes re-process all data available in the source with the latest definition. It is not recommended to call full refreshes on sources that don’t keep the entire history of the data or have short retention periods, such as Kafka, because the full refresh truncates the existing data. You might not be able to recover old data if the data is no longer available in the source.</p>
<p>For example:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">REFRESH</span><span class="w"> </span><span class="n">STREAMING</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">my_bronze_table</span><span class="w"> </span><span class="k">FULL</span>
</pre></div>
</div>
</div>
<div class="section" id="schedule-a-streaming-table-for-automatic-refresh">
<span id="schedule-refresh"></span><h3>Schedule a streaming table for automatic refresh<a class="headerlink" href="#schedule-a-streaming-table-for-automatic-refresh" title="Permalink to this headline"> </a></h3>
<p>To configure a streaming table to automatically refresh based on a defined schedule, paste the following into the query editor, and then click <strong>Run</strong>:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="n">STREAMING</span><span class="w"> </span><span class="k">TABLE</span>
<span class="p">[[</span><span class="o">&lt;</span><span class="k">catalog</span><span class="o">&gt;</span><span class="p">.]</span><span class="o">&lt;</span><span class="k">database</span><span class="o">&gt;</span><span class="p">.]</span><span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span>
<span class="k">ADD</span><span class="w"> </span><span class="p">[</span><span class="n">SCHEDULE</span><span class="w"> </span><span class="p">[</span><span class="n">REFRESH</span><span class="p">]</span>
<span class="w">        </span><span class="n">CRON</span><span class="w"> </span><span class="s1">&#39;&lt;cron-string&gt;&#39;</span>
<span class="w">                </span><span class="p">[</span><span class="w"> </span><span class="k">AT</span><span class="w"> </span><span class="k">TIME</span><span class="w"> </span><span class="k">ZONE</span><span class="w"> </span><span class="s1">&#39;&lt;timezone-id&gt;&#39;</span><span class="w"> </span><span class="p">]];</span>
</pre></div>
</div>
<p>For example refresh schedule queries, see <a class="reference internal" href="language-manual/sql-ref-syntax-ddl-alter-streaming-table.html"><span class="doc">ALTER STREAMING TABLE</span></a>.</p>
</div>
<div class="section" id="track-the-status-of-a-refresh">
<span id="refresh-status"></span><h3>Track the status of a refresh<a class="headerlink" href="#track-the-status-of-a-refresh" title="Permalink to this headline"> </a></h3>
<p>You can view the status of a streaming table refresh by viewing the pipeline that manages the streaming table in the Delta Live Tables UI or by viewing the <strong>Refresh Information</strong> returned by the <code class="docutils literal notranslate"><span class="pre">DESCRIBE</span> <span class="pre">EXTENDED</span></code> command for the streaming table.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">DESCRIBE</span><span class="w"> </span><span class="n">EXTENDED</span><span class="w"> </span><span class="o">&lt;</span><span class="k">table</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="streaming-ingestion-from-kafka">
<span id="kafka"></span><h2>Streaming ingestion from Kafka<a class="headerlink" href="#streaming-ingestion-from-kafka" title="Permalink to this headline"> </a></h2>
<p>For an example of streaming ingestion from Kafka, see <a class="reference internal" href="language-manual/functions/read_kafka.html#examples"><span class="std std-ref">read_kafka</span></a>.</p>
</div>
<div class="section" id="grant-users-access-to-a-streaming-table">
<span id="grant-access"></span><h2>Grant users access to a streaming table<a class="headerlink" href="#grant-users-access-to-a-streaming-table" title="Permalink to this headline"> </a></h2>
<p>To grant users the <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> privilege on the streaming table so they can query it, paste the following into the query editor, and then click <strong>Run</strong>:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">GRANT</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">&lt;</span><span class="k">catalog</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="k">schema</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="k">table</span><span class="o">&gt;</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="o">&lt;</span><span class="k">user</span><span class="o">-</span><span class="k">or</span><span class="o">-</span><span class="k">group</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>For more information about granting privileges on Unity Catalog securable objects, see <a class="reference internal" href="../data-governance/unity-catalog/manage-privileges/privileges.html"><span class="doc">Unity Catalog privileges and securable objects</span></a>.</p>
</div>
<div class="section" id="additional-resources">
<h2>Additional resources<a class="headerlink" href="#additional-resources" title="Permalink to this headline"> </a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="../delta-live-tables/index.html#streaming-table"><span class="std std-ref">Streaming table</span></a></p></li>
<li><p><a class="reference internal" href="language-manual/functions/read_files.html"><span class="doc">read_files table-valued function</span></a></p></li>
<li><p><a class="reference internal" href="language-manual/sql-ref-syntax-ddl-create-streaming-table.html"><span class="doc">CREATE STREAMING TABLE</span></a></p></li>
<li><p><a class="reference internal" href="language-manual/sql-ref-syntax-ddl-alter-streaming-table.html"><span class="doc">ALTER STREAMING TABLE</span></a></p></li>
<li><p><a class="reference internal" href="language-manual/functions/read_kafka.html"><span class="doc">read_kafka table-valued function</span></a></p></li>
</ul>
<p></p>
<p></p>
</div>
</div>


    
          </div>
        </div>
        <div  class="suapp-rating">
  <div id="suPageRateApp">
     <su-app></su-app>
   </div> 
 </div>
<hr> 
<footer>
  <div role="contentinfo">
      <p class="copyright">
          &copy; Databricks 2023. All rights reserved. Apache, Apache Spark, Spark, and the Spark logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a>.
      </p>
      <p> 
        
          <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
        
     | <a href="https://databricks.com/privacy-policy">Privacy Policy</a> | <a href="https://databricks.com/terms-of-use">Terms of Use</a></p>

  </div> 

</footer>
      </div>
    </div>
  </section>
</main>

  </page>
  
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT: '../',
      VERSION: '1.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE: 'false'
    };
  </script>
  <script type="text/javascript" src="../_static/jquery.js"></script>
  <script type="text/javascript" src="../_static/underscore.js"></script>
  <script type="text/javascript" src="../_static/doctools.js"></script>
  <script type="text/javascript" src="../_static/language_data.js"></script>
  

  <script type="text/javascript" src="../_static/js/clipboard.min.js"></script>
  <script type="text/javascript" src="../_static/js/jquery.waypoints.min.js"></script>

  <!-- Select2 (https://select2.org/) -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <!-- End Select2 -->

  
  
  <script type="text/javascript" src="../_static/js/localized.js"></script>
  <script type="text/javascript" src="../_static/js/custom.js"></script>
  

  
  
  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.StickyNav.enable();
    });

  </script>
  
 



  <script>
  window.__searchunifyLoaderConfig = JSON.parse('{"clients": {"en": "02c2e804-27e9-11ee-aefb-0242ac120011", "ja": "6a42c3f2-2820-11ee-aefb-0242ac120011", "pt": "6a86badd-2821-11ee-aefb-0242ac120011"}}')
</script>
<script type="text/javascript" src="../_static/js/search-loader.js"></script>
</body>
<script type='text/javascript'>
  window.onload = function () {
    var description = document.querySelector('meta[name="description"]').getAttribute("content");
    let titleText = document.querySelector('h1').textContent;
    document.querySelector('meta[property="og:title"]').setAttribute("content", titleText);
    document.querySelector('meta[property="og:description"]').setAttribute("content", description);
    document.querySelector('meta[property="twitter:description"]').setAttribute("content", description);
  };
</script>

</html>