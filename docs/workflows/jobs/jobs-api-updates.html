

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en-US" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en-US"> <!--<![endif]-->

<head>
  <!-- cookie consent -->
  
    <!-- Combined Onetrust and Rudderstack Implementation Scripts -->
    <!-- Onetrust Initialization -->
    <script type="text/javascript" src="https://cdn.cookielaw.org/consent/92466579-1717-44d3-809d-a05fb02843ed-test/OtAutoBlock.js"></script>
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="92466579-1717-44d3-809d-a05fb02843ed-test"></script>
    <link rel="stylesheet" id="db-onetrust-style" href="https://www.databricks.com/wp-content/uploads/db_onetrust.css" media="all" />
    <!-- Setting Rudderstack Write Key -->
    <script>window.rudderstackKey = "2SOR9fvSr5Fi6tN2ihPbVHnX1SZ" </script>
    <!-- Rudderstack Initialization + Onetrust Integration + Rudderstack Custom Events -->
    <script type="text/javascript" src="https://www.databricks.com/sites/default/files/rudderstack/v1/db-rudderstack-events.js"></script>

  <!-- cookie consent -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta content="Learn how to make sure your API clients work with the updated Jobs API." name="description" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta property="og:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:title" content="Updating from Jobs API 2.0 to 2.1">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://docs.databricks.com">
  <meta property="og:description" content="" id="og-description">
  <meta name="twitter:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta name="twitter:site" content="@databricks">
  <meta name="twitter:creator" content="@databricks">
  <meta property="twitter:description" content="">
  
  <title>Updating from Jobs API 2.0 to 2.1 &#124; Databricks on AWS</title>
  
  
  <link rel="canonical" href="https://docs.databricks.com/en/workflows/jobs/jobs-api-updates.html">
  <!-- Start hreflang tag -->
  <link rel="alternate" hreflang="en" href="https://docs.databricks.com/en/workflows/jobs/jobs-api-updates.html" />
<link rel="alternate" hreflang="x-default" href="https://docs.databricks.com/en/workflows/jobs/jobs-api-updates.html" />
  <!-- End hreflang tag -->
  
  
  <link rel="shortcut icon" href="../../_static/favicon.ico" />
  

  

  

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T85FQ33');</script>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWTKQQ');</script>
    
  <!-- End Google Tag Manager -->


  <!-- MaxMind / GEO IP -->
  <script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>
  <!-- End MaxMind / GEO IP -->

  
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600&display=swap" rel="stylesheet">
  <link rel="preload" href="../../_static/fonts/DMSans-Bold.ttf" as="font">
  <link rel="preload" href="../../_static/fonts/DMSans-Regular.ttf" as="font">
  <link rel="preload" href="../../_static/fonts/DMMono-Regular.ttf" as="font">
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/cloud-provider-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/translation-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/searchunify/main.css" type="text/css" />

  
  <link rel="index" title="Index" href="../../genindex.html" />
  <link rel="search" title="Search" href="../../search.html" />
  <link rel="top" title="Databricks on AWS" href="../../index.html" /> 
</head>

<body class="wy-body-for-nav" role="document">

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T85FQ33"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWTKQQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  
  <nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
    
<nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
  <div class="container-logo">
    <ul class="mobile-menu-toggle">
        <li class="menu-toggle">
            <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
            
            <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
              alt="Databricks" /></a>   
               
              </li>
    </ul>
    <ul class="su_nav-menu">
      <li class="menu-toggle">
        <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
        
          
        
        <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
            alt="Databricks" /></a></li>
        <!-- 
<li><a href="https://help.databricks.com/s/">Help Center</a></li>
<li class="active"><a href="https://docs.databricks.com/en/">Documentation</a></li>
<li><a href="https://kb.databricks.com/">Knowledge Base</a></li>
 -->
    </ul>
  </div>
  <div class="su_nav-right">
    <ul class="su_link-mobile">
  <!-- Mobile header code can go here -->
</ul>
<ul class="right-try-list">
   
</ul>
  </div>
</nav>
  </nav>

  <div class="su_sub-header">
    <div class="container">
      <div class="su_sub-header-inner">
        <!-- <div class="su_subnav-menu-right">
  <div id="auto" style="width: 100%;">
    <div ng-controller="SearchautoController">
      <div bind-html-compile="autocompleteHtml">
        <form class="su__search-box-1" disabled="disabled">
          <input class="su__search-input" type="search" name="Search box" id="su__search-b" placeholder="Search Documentation" disabled="disabled"/>
          <button class="su__search-button" type="submit" class="button button-success" disabled="disabled">
            <svg width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                fill="#333"></path>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>
</div> -->
        <div class="search-lng-gap"></div>
        <div style="margin-left: 16px; margin-right: 16px;">
          <!-- <select name="lng selector" id="lng-selector">
    <option value="../../../en/workflows/jobs/jobs-api-updates.html" class="notranslate">English</option>
    <option value="../../../ja/workflows/jobs/jobs-api-updates.html" class="notranslate">日本語</option>
    <option value="../../../pt/workflows/jobs/jobs-api-updates.html" class="notranslate">Português (Brasil)</option>
</select> -->
        </div>
        <div class="cloud-selector-container">
          <!-- <select name="cloud provider selector" id="cloud-provider-selector">
    <option value="aws" selected class="notranslate">
        Amazon Web Services
    </option>
    <option value="azure"  class="notranslate">
        Microsoft Azure
    </option>
    <option value="gcp"  class="notranslate">
        Google Cloud Platform
    </option>
</select> -->
        </div>
      </div>
    </div>
  </div>
  <page class="js-page-container">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side su_nav-side">
<div class="wy-side-scroll">
  <div class="wy-side-nav-search">
    

    

    

    
  </div>

  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      <a href="../../index.html" class="main-navigation-home">Databricks on AWS</a>
    

    
      

      
        <p class="caption"><span class="caption-text">Load &amp; manage data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rag-temp/index.html">RAG Studio</a></li>
</ul>

      
    
  </div>

  <div role="contentinfo">
    
  <p class="build_info notranslate"data-last-edit="December 23, 2023">
    Updated Jan 11, 2024
  </p>
<script>
  window.addEventListener('DOMContentLoaded',function(){
    var h1=document.querySelector('h1');
    var bi=document.querySelector('[data-last-edit]');
    if(h1 && bi){
      var ver = document.createElement('p');
      ver.className = 'version_info';
      ver.textContent = bi.getAttribute('data-last-edit');
      h1.parentElement.insertBefore(ver, h1.nextElementSibling);
    }
  });
</script>

    <p>
      
        <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
      
    </p>
  </div>
</div>
</nav>
    
    
<main class="wy-grid-for-nav su_nav-grid">
  <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
    <div class="wy-nav-content su__nav_content">
      <div class="rst-content">
        





<div role="navigation" aria-label="breadcrumbs navigation" class="wy-breadcrumbs-wrapper">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Documentation</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
    
      <li>Updating from Jobs API 2.0 to 2.1</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>
</div>
        
        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
          <div itemprop="articleBody">
            
    
  <div class="section" id="updating-from-jobs-api-20-to-21">
<h1>Updating from Jobs API 2.0 to 2.1<a class="headerlink" href="#updating-from-jobs-api-20-to-21" title="Permalink to this headline"> </a></h1>
<p>You can now orchestrate multiple tasks with Databricks <a class="reference internal" href="create-run-jobs.html"><span class="doc">jobs</span></a>. This article details changes to the <a class="reference external" href="https://docs.databricks.com/api/workspace/jobs">Jobs API</a> that support jobs with multiple tasks and provides guidance to help you update your existing API clients to work with this new feature.</p>
<p>Databricks recommends Jobs API 2.1 for your API scripts and clients, particularly when using jobs with multiple tasks.</p>
<p>This article refers to jobs defined with a single task as <em>single-task format</em> and jobs defined with multiple tasks as <em>multi-task format</em>.</p>
<p>Jobs API 2.0 and 2.1 now support the <a class="reference internal" href="#update-job"><span class="std std-ref">update</span></a> request. Use the <code class="docutils literal notranslate"><span class="pre">update</span></code> request to change an existing job instead of the <a class="reference internal" href="#reset-job"><span class="std std-ref">reset</span></a> request to minimize changes between single-task format jobs and multi-task format jobs.</p>
<div class="section" id="api-changes">
<h2>API changes<a class="headerlink" href="#api-changes" title="Permalink to this headline"> </a></h2>
<p>The Jobs API now defines a <code class="docutils literal notranslate"><span class="pre">TaskSettings</span></code> object to capture settings for each task in a job. For multi-task format jobs, the <code class="docutils literal notranslate"><span class="pre">tasks</span></code> field, an array of <code class="docutils literal notranslate"><span class="pre">TaskSettings</span></code> data structures, is included in the <code class="docutils literal notranslate"><span class="pre">JobSettings</span></code> object. Some fields previously part of <code class="docutils literal notranslate"><span class="pre">JobSettings</span></code> are now part of the task settings for multi-task format jobs. <code class="docutils literal notranslate"><span class="pre">JobSettings</span></code> is also updated to include the <code class="docutils literal notranslate"><span class="pre">format</span></code> field. The <code class="docutils literal notranslate"><span class="pre">format</span></code> field indicates the format of the job and is a <code class="docutils literal notranslate"><span class="pre">STRING</span></code> value set to <code class="docutils literal notranslate"><span class="pre">SINGLE_TASK</span></code> or <code class="docutils literal notranslate"><span class="pre">MULTI_TASK</span></code>.</p>
<p>You need to update your existing API clients for these changes to JobSettings for multi-task format jobs. See the <a class="reference internal" href="#client-guidance"><span class="std std-ref">API client guide</span></a> for more information on required changes.</p>
<p>Jobs API 2.1 supports the multi-task format. All API 2.1 requests must conform to the multi-task format and responses are structured in the multi-task format. New features are released for API 2.1 first.</p>
<p>Jobs API 2.0 is updated with an additional field to support multi-task format jobs. Except where noted, the examples in this document use API 2.0. However, Databricks recommends API 2.1 for new and existing API scripts and clients.</p>
<p>An example JSON document representing a multi-task format job for API 2.0 and 2.1:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;job_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;settings&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A job with multiple tasks&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;email_notifications&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">    </span><span class="nt">&quot;timeout_seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;max_concurrent_runs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;tasks&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;task_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;clean_data&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Clean and prepare the data&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;notebook_task&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;notebook_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/Users/user@databricks.com/clean-data&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;existing_cluster_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1201-my-cluster&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;max_retries&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;min_retry_interval_millis&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;retry_on_timeout&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;timeout_seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;email_notifications&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;task_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;analyze_data&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Perform an analysis of the data&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;notebook_task&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;notebook_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/Users/user@databricks.com/analyze-data&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;depends_on&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;task_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;clean_data&quot;</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;existing_cluster_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1201-my-cluster&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;max_retries&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;min_retry_interval_millis&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;retry_on_timeout&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;timeout_seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;email_notifications&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MULTI_TASK&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;created_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1625841911296</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;creator_user_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user@databricks.com&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;run_as_user_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user@databricks.com&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Jobs API 2.1 supports configuration of task level clusters or one or more shared job clusters:</p>
<ul class="simple">
<li><p>A task level cluster is created and started when a task starts and terminates when the task completes.</p></li>
<li><p>A shared job cluster allows multiple tasks in the same job to use the cluster. The cluster is created and started when the first task using the cluster starts and terminates after the last task using the cluster completes. A shared job cluster is not terminated when idle but terminates only after all tasks using it are complete. Multiple non-dependent tasks sharing a cluster can start at the same time. If a shared job cluster fails or is terminated before all tasks have finished, a new cluster is created.</p></li>
</ul>
<p>To configure shared job clusters, include a <code class="docutils literal notranslate"><span class="pre">JobCluster</span></code> array in the <code class="docutils literal notranslate"><span class="pre">JobSettings</span></code> object. You can specify a maximum of 100 clusters per job. The following is an example of an API 2.1 response for a job configured with two shared clusters:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a task has library dependencies, you must configure the libraries in the <code class="docutils literal notranslate"><span class="pre">task</span></code> field settings; libraries cannot be configured in a shared job cluster configuration. In the following example, the <code class="docutils literal notranslate"><span class="pre">libraries</span></code> field in the configuration of the <code class="docutils literal notranslate"><span class="pre">ingest_orders</span></code> task demonstrates specification of a library dependency.</p>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;job_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;settings&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A job with multiple tasks&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;email_notifications&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">    </span><span class="nt">&quot;timeout_seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;max_concurrent_runs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;job_clusters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;job_cluster_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;default_cluster&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;new_cluster&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;spark_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;7.3.x-scala2.12&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;node_type_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;i3.xlarge&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;spark_conf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;spark.speculation&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="nt">&quot;aws_attributes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;availability&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SPOT&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;zone_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;us-west-2a&quot;</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="nt">&quot;autoscale&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;min_workers&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;max_workers&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;job_cluster_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;data_processing_cluster&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;new_cluster&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;spark_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;7.3.x-scala2.12&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;node_type_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;r4.2xlarge&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;spark_conf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;spark.speculation&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="nt">&quot;aws_attributes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;availability&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SPOT&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;zone_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;us-west-2a&quot;</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="nt">&quot;autoscale&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;min_workers&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;max_workers&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;tasks&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;task_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ingest_orders&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Ingest order data&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;depends_on&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;job_cluster_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;auto_scaling_cluster&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;spark_jar_task&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;main_class_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;com.databricks.OrdersIngest&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;--data&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;dbfs:/path/to/order-data.json&quot;</span>
<span class="w">          </span><span class="p">]</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;libraries&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;jar&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dbfs:/mnt/databricks/OrderIngest.jar&quot;</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;timeout_seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">86400</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;max_retries&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;min_retry_interval_millis&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;retry_on_timeout&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;task_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;clean_orders&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Clean and prepare the order data&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;notebook_task&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;notebook_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/Users/user@databricks.com/clean-data&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;job_cluster_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;default_cluster&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;max_retries&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;min_retry_interval_millis&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;retry_on_timeout&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;timeout_seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;email_notifications&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;task_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;analyze_orders&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Perform an analysis of the order data&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;notebook_task&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;notebook_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/Users/user@databricks.com/analyze-data&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;depends_on&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;task_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;clean_data&quot;</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;job_cluster_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;data_processing_cluster&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;max_retries&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;min_retry_interval_millis&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;retry_on_timeout&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;timeout_seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;email_notifications&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MULTI_TASK&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;created_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1625841911296</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;creator_user_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user@databricks.com&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;run_as_user_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user@databricks.com&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>For single-task format jobs, the <code class="docutils literal notranslate"><span class="pre">JobSettings</span></code> data structure remains unchanged except for the addition of the <code class="docutils literal notranslate"><span class="pre">format</span></code> field. No <code class="docutils literal notranslate"><span class="pre">TaskSettings</span></code> array is included, and the task settings remain defined at the top level of the <code class="docutils literal notranslate"><span class="pre">JobSettings</span></code> data structure. You will not need to make changes to your existing API clients to process single-task format jobs.</p>
<p>An example JSON document representing a single-task format job for API 2.0:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;job_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">27</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;settings&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Example notebook&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;existing_cluster_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1201-my-cluster&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;libraries&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;jar&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dbfs:/FileStore/jars/spark_examples.jar&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;email_notifications&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">    </span><span class="nt">&quot;timeout_seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;schedule&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;quartz_cron_expression&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0 0 0 * * ?&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;timezone_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;US/Pacific&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;pause_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;UNPAUSED&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;notebook_task&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;notebook_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/notebooks/example-notebook&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;revision_timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;max_concurrent_runs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SINGLE_TASK&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;created_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1504128821443</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;creator_user_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user@databricks.com&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="api-client-guide">
<span id="client-guidance"></span><h2>API client guide<a class="headerlink" href="#api-client-guide" title="Permalink to this headline"> </a></h2>
<p>This section provides guidelines, examples, and required changes for API calls affected by the new multi-task format feature.</p>
<div class="contents local topic" id="in-this-section">
<p class="topic-title first">In this section:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#create" id="id1">Create</a></p></li>
<li><p><a class="reference internal" href="#runs-submit" id="id2">Runs submit</a></p></li>
<li><p><a class="reference internal" href="#update" id="id3">Update</a></p></li>
<li><p><a class="reference internal" href="#reset" id="id4">Reset</a></p></li>
<li><p><a class="reference internal" href="#list" id="id5">List</a></p></li>
<li><p><a class="reference internal" href="#get" id="id6">Get</a></p></li>
<li><p><a class="reference internal" href="#runs-get" id="id7">Runs get</a></p></li>
<li><p><a class="reference internal" href="#runs-get-output" id="id8">Runs get output</a></p></li>
<li><p><a class="reference internal" href="#runs-list" id="id9">Runs list</a></p></li>
</ul>
</div>
<div class="section" id="create">
<span id="create-job"></span><h3><a class="toc-backref" href="#id1">Create</a><a class="headerlink" href="#create" title="Permalink to this headline"> </a></h3>
<p>To create a single-task format job through the <a class="reference external" href="https://docs.databricks.com/api/workspace/jobs">Create a new job</a> operation (<code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/jobs/create</span></code>) in the Jobs API, you do not need to change existing clients.</p>
<p>To create a multi-task format job, use the <code class="docutils literal notranslate"><span class="pre">tasks</span></code> field in <code class="docutils literal notranslate"><span class="pre">JobSettings</span></code> to specify settings for each task. The following example creates a job with two notebook tasks. This example is for API 2.0 and 2.1:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A maximum of 100 tasks can be specified per job.</p>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Multi-task-job&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;max_concurrent_runs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;tasks&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;task_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;clean_data&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Clean and prepare the data&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;notebook_task&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;notebook_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/Users/user@databricks.com/clean-data&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;existing_cluster_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1201-my-cluster&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;timeout_seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;max_retries&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;retry_on_timeout&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;task_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;analyze_data&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Perform an analysis of the data&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;notebook_task&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;notebook_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/Users/user@databricks.com/analyze-data&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;depends_on&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;task_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;clean_data&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;existing_cluster_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1201-my-cluster&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;timeout_seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;max_retries&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;retry_on_timeout&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="runs-submit">
<span id="submit-run"></span><h3><a class="toc-backref" href="#id2">Runs submit</a><a class="headerlink" href="#runs-submit" title="Permalink to this headline"> </a></h3>
<p>To submit a one-time run of a single-task format job with the <a class="reference external" href="https://docs.databricks.com/api/workspace/jobs">Create and trigger a one-time run</a> operation (<code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/runs/submit</span></code>) in the Jobs API, you do not need to change existing clients.</p>
<p>To submit a one-time run of a multi-task format job, use the <code class="docutils literal notranslate"><span class="pre">tasks</span></code> field in <code class="docutils literal notranslate"><span class="pre">JobSettings</span></code> to specify settings for each task, including clusters. Clusters must be set at the task level when submitting a multi-task format job because the <code class="docutils literal notranslate"><span class="pre">runs</span> <span class="pre">submit</span></code> request does not support shared job clusters. See <a class="reference internal" href="#create-job"><span class="std std-ref">Create</span></a> for an example <code class="docutils literal notranslate"><span class="pre">JobSettings</span></code> specifying multiple tasks.</p>
</div>
<div class="section" id="update">
<span id="update-job"></span><h3><a class="toc-backref" href="#id3">Update</a><a class="headerlink" href="#update" title="Permalink to this headline"> </a></h3>
<p>To update a single-task format job with the <a class="reference external" href="https://docs.databricks.com/api/workspace/jobs">Partially update a job</a> operation (<code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/jobs/update</span></code>) in the Jobs API, you do not need to change existing clients.</p>
<p>To update the settings of a multi-task format job, you must use the unique <code class="docutils literal notranslate"><span class="pre">task_key</span></code> field to identify new <code class="docutils literal notranslate"><span class="pre">task</span></code> settings. See <a class="reference internal" href="#create-job"><span class="std std-ref">Create</span></a> for an example <code class="docutils literal notranslate"><span class="pre">JobSettings</span></code> specifying multiple tasks.</p>
</div>
<div class="section" id="reset">
<span id="reset-job"></span><h3><a class="toc-backref" href="#id4">Reset</a><a class="headerlink" href="#reset" title="Permalink to this headline"> </a></h3>
<p>To overwrite the settings of a single-task format job with the <a class="reference external" href="https://docs.databricks.com/api/workspace/jobs">Overwrite all settings for a job</a> operation (<code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/jobs/reset</span></code>) in the Jobs API, you do not need to change existing clients.</p>
<p>To overwrite the settings of a multi-task format job, specify a <code class="docutils literal notranslate"><span class="pre">JobSettings</span></code> data structure with an array of <code class="docutils literal notranslate"><span class="pre">TaskSettings</span></code> data structures. See <a class="reference internal" href="#create-job"><span class="std std-ref">Create</span></a> for an example <code class="docutils literal notranslate"><span class="pre">JobSettings</span></code> specifying multiple tasks.</p>
<p>Use <a class="reference internal" href="#update-job"><span class="std std-ref">Update</span></a> to change individual fields without switching from single-task to multi-task format.</p>
</div>
<div class="section" id="list">
<span id="list-jobs"></span><h3><a class="toc-backref" href="#id5">List</a><a class="headerlink" href="#list" title="Permalink to this headline"> </a></h3>
<p>For single-task format jobs, no client changes are required to process the response from the <a class="reference external" href="https://docs.databricks.com/api/workspace/jobs">List all jobs</a> operation (<code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/jobs/list</span></code>) in the Jobs API.</p>
<p>For multi-task format jobs, most settings are defined at the task level and not the job level. Cluster configuration may be set at the task or job level. To modify clients to access cluster or task settings for a multi-task format job returned in the <code class="docutils literal notranslate"><span class="pre">Job</span></code> structure:</p>
<ul class="simple">
<li><p>Parse the <code class="docutils literal notranslate"><span class="pre">job_id</span></code> field for the multi-task format job.</p></li>
<li><p>Pass the <code class="docutils literal notranslate"><span class="pre">job_id</span></code> to the <a class="reference external" href="https://docs.databricks.com/api/workspace/jobs">Get a job</a> operation (<code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/jobs/get</span></code>) in the Jobs API to retrieve job details. See <a class="reference internal" href="#get-job"><span class="std std-ref">Get</span></a> for an example response from the <code class="docutils literal notranslate"><span class="pre">Get</span></code> API call for a multi-task format job.</p></li>
</ul>
<p>The following example shows a response containing single-task and multi-task format jobs. This example is for API 2.0:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;jobs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;job_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">36</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;settings&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A job with a single task&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;existing_cluster_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1201-my-cluster&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;email_notifications&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">        </span><span class="nt">&quot;timeout_seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;notebook_task&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;notebook_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/Users/user@databricks.com/example-notebook&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;revision_timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;max_concurrent_runs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SINGLE_TASK&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;created_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1505427148390</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;creator_user_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user@databricks.com&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;job_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;settings&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A job with multiple tasks&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;email_notifications&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">        </span><span class="nt">&quot;timeout_seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;max_concurrent_runs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MULTI_TASK&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;created_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1625841911296</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;creator_user_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user@databricks.com&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="get">
<span id="get-job"></span><h3><a class="toc-backref" href="#id6">Get</a><a class="headerlink" href="#get" title="Permalink to this headline"> </a></h3>
<p>For single-task format jobs, no client changes are required to process the response from the <a class="reference external" href="https://docs.databricks.com/api/workspace/jobs">Get a job</a> operation (<code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/jobs/get</span></code>) in the Jobs API.</p>
<p>Multi-task format jobs return an array of <code class="docutils literal notranslate"><span class="pre">task</span></code> data structures containing task settings. If you require access to task level details, you need to modify your clients to iterate through the <code class="docutils literal notranslate"><span class="pre">tasks</span></code> array and extract required fields.</p>
<p>The following shows an example response from the <code class="docutils literal notranslate"><span class="pre">Get</span></code> API call for a multi-task format job. This example is for API 2.0 and 2.1:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;job_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;settings&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A job with multiple tasks&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;email_notifications&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">    </span><span class="nt">&quot;timeout_seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;max_concurrent_runs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;tasks&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;task_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;clean_data&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Clean and prepare the data&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;notebook_task&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;notebook_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/Users/user@databricks.com/clean-data&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;existing_cluster_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1201-my-cluster&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;max_retries&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;min_retry_interval_millis&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;retry_on_timeout&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;timeout_seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;email_notifications&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;task_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;analyze_data&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Perform an analysis of the data&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;notebook_task&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;notebook_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/Users/user@databricks.com/analyze-data&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;depends_on&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;task_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;clean_data&quot;</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;existing_cluster_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1201-my-cluster&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;max_retries&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;min_retry_interval_millis&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;retry_on_timeout&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;timeout_seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;email_notifications&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MULTI_TASK&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;created_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1625841911296</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;creator_user_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user@databricks.com&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;run_as_user_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user@databricks.com&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="runs-get">
<span id="get-runs"></span><h3><a class="toc-backref" href="#id7">Runs get</a><a class="headerlink" href="#runs-get" title="Permalink to this headline"> </a></h3>
<p>For single-task format jobs, no client changes are required to process the response from the <a class="reference external" href="https://docs.databricks.com/api/workspace/jobs">Get a job run</a> operation (<code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/jobs/runs/get</span></code>) in the Jobs API.</p>
<p>The response for a multi-task format job run contains an array of <code class="docutils literal notranslate"><span class="pre">TaskSettings</span></code>. To retrieve run results for each task:</p>
<ul class="simple">
<li><p>Iterate through each of the tasks.</p></li>
<li><p>Parse the <code class="docutils literal notranslate"><span class="pre">run_id</span></code> for each task.</p></li>
<li><p>Call the <a class="reference external" href="https://docs.databricks.com/api/workspace/jobs">Get the output for a run</a> operation (<code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/jobs/runs/get-output</span></code>) with the <code class="docutils literal notranslate"><span class="pre">run_id</span></code> to get details on the run for each task. The following is an example response from this request:</p></li>
</ul>
<p></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;job_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;run_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">759600</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;number_in_job&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;original_attempt_run_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">759600</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;life_cycle_state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TERMINATED&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;result_state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SUCCESS&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;state_message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;cluster_spec&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">  </span><span class="nt">&quot;start_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1595943854860</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;setup_duration&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;execution_duration&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;cleanup_duration&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;trigger&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ONE_TIME&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;creator_user_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user@databricks.com&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;run_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Query logs&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;run_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JOB_RUN&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;tasks&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;run_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">759601</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;task_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-logs&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Query session logs&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;notebook_task&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;notebook_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/Users/user@databricks.com/log-query&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;existing_cluster_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1201-my-cluster&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;life_cycle_state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TERMINATED&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;result_state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SUCCESS&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;state_message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;run_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">759602</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;task_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;validate_output&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Validate query output&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;depends_on&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;task_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query-logs&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;notebook_task&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;notebook_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/Users/user@databricks.com/validate-query-results&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;existing_cluster_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1201-my-cluster&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;life_cycle_state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TERMINATED&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;result_state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SUCCESS&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;state_message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MULTI_TASK&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="runs-get-output">
<span id="get-runs-output"></span><h3><a class="toc-backref" href="#id8">Runs get output</a><a class="headerlink" href="#runs-get-output" title="Permalink to this headline"> </a></h3>
<p>For single-task format jobs, no client changes are required to process the response from the <a class="reference external" href="https://docs.databricks.com/api/workspace/jobs">Get the output for a run</a> operation (<code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/jobs/runs/get-output</span></code>) in the Jobs API.</p>
<p>For multi-task format jobs, calling <code class="docutils literal notranslate"><span class="pre">Runs</span> <span class="pre">get</span> <span class="pre">output</span></code> on a parent run results in an error since run output is available only for individual tasks. To get the output and metadata for a multi-task format job:</p>
<ul class="simple">
<li><p>Call the <a class="reference external" href="https://docs.databricks.com/api/workspace/jobs">Get the output for a run</a> request.</p></li>
<li><p>Iterate over the child <code class="docutils literal notranslate"><span class="pre">run_id</span></code> fields in the response.</p></li>
<li><p>Use the child <code class="docutils literal notranslate"><span class="pre">run_id</span></code> values to call <code class="docutils literal notranslate"><span class="pre">Runs</span> <span class="pre">get</span> <span class="pre">output</span></code>.</p></li>
</ul>
</div>
<div class="section" id="runs-list">
<span id="list-runs"></span><h3><a class="toc-backref" href="#id9">Runs list</a><a class="headerlink" href="#runs-list" title="Permalink to this headline"> </a></h3>
<p>For single-task format jobs, no client changes are required to process the response from the <a class="reference external" href="https://docs.databricks.com/api/workspace/jobs">List runs for a job</a> operation (<code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/jobs/runs/list</span></code>).</p>
<p>For multi-task format jobs, an empty <code class="docutils literal notranslate"><span class="pre">tasks</span></code> array is returned. Pass the <code class="docutils literal notranslate"><span class="pre">run_id</span></code> to the <a class="reference external" href="https://docs.databricks.com/api/workspace/jobs">Get a job run</a> operation (<code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/jobs/runs/get</span></code>) to retrieve the tasks. The following shows an example response from the <code class="docutils literal notranslate"><span class="pre">Runs</span> <span class="pre">list</span></code> API call for a multi-task format job:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;runs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;job_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;run_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">759600</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;number_in_job&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;original_attempt_run_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">759600</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;life_cycle_state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TERMINATED&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;result_state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SUCCESS&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;state_message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;cluster_spec&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">      </span><span class="nt">&quot;start_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1595943854860</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;setup_duration&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;execution_duration&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;cleanup_duration&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;trigger&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ONE_TIME&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;creator_user_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user@databricks.com&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;run_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Query logs&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;run_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JOB_RUN&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;tasks&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">      </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MULTI_TASK&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;has_more&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>


    
          </div>
        </div>
        <div  class="suapp-rating">
  <div id="suPageRateApp">
     <su-app></su-app>
   </div> 
 </div>
<hr> 
<footer>
  <div role="contentinfo">
      <p class="copyright">
          &copy; Databricks 2023. All rights reserved. Apache, Apache Spark, Spark, and the Spark logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a>.
      </p>
      <p> 
        
          <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
        
     | <a href="https://databricks.com/privacy-policy">Privacy Policy</a> | <a href="https://databricks.com/terms-of-use">Terms of Use</a></p>

  </div> 

</footer>
      </div>
    </div>
  </section>
</main>

  </page>
  
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT: '../../',
      VERSION: '1.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE: 'false'
    };
  </script>
  <script type="text/javascript" src="../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../_static/underscore.js"></script>
  <script type="text/javascript" src="../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../_static/language_data.js"></script>
  

  <script type="text/javascript" src="../../_static/js/clipboard.min.js"></script>
  <script type="text/javascript" src="../../_static/js/jquery.waypoints.min.js"></script>

  <!-- Select2 (https://select2.org/) -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <!-- End Select2 -->

  
  
  <script type="text/javascript" src="../../_static/js/localized.js"></script>
  <script type="text/javascript" src="../../_static/js/custom.js"></script>
  

  
  
  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.StickyNav.enable();
    });

  </script>
  
 



  <script>
  window.__searchunifyLoaderConfig = JSON.parse('{"clients": {"en": "02c2e804-27e9-11ee-aefb-0242ac120011", "ja": "6a42c3f2-2820-11ee-aefb-0242ac120011", "pt": "6a86badd-2821-11ee-aefb-0242ac120011"}}')
</script>
<script type="text/javascript" src="../../_static/js/search-loader.js"></script>
</body>
<script type='text/javascript'>
  window.onload = function () {
    var description = document.querySelector('meta[name="description"]').getAttribute("content");
    let titleText = document.querySelector('h1').textContent;
    document.querySelector('meta[property="og:title"]').setAttribute("content", titleText);
    document.querySelector('meta[property="og:description"]').setAttribute("content", description);
    document.querySelector('meta[property="twitter:description"]').setAttribute("content", description);
  };
</script>

</html>