

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en-US" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en-US"> <!--<![endif]-->

<head>
  <!-- cookie consent -->
  
    <!-- Combined Onetrust and Rudderstack Implementation Scripts -->
    <!-- Onetrust Initialization -->
    <script type="text/javascript" src="https://cdn.cookielaw.org/consent/92466579-1717-44d3-809d-a05fb02843ed-test/OtAutoBlock.js"></script>
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="92466579-1717-44d3-809d-a05fb02843ed-test"></script>
    <link rel="stylesheet" id="db-onetrust-style" href="https://www.databricks.com/wp-content/uploads/db_onetrust.css" media="all" />
    <!-- Setting Rudderstack Write Key -->
    <script>window.rudderstackKey = "2SOR9fvSr5Fi6tN2ihPbVHnX1SZ" </script>
    <!-- Rudderstack Initialization + Onetrust Integration + Rudderstack Custom Events -->
    <script type="text/javascript" src="https://www.databricks.com/sites/default/files/rudderstack/v1/db-rudderstack-events.js"></script>

  <!-- cookie consent -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta content="Learn the syntax of the various built-in functions of the Apache Spark 2.x SQL language in Databricks." name="description" />
<meta content="false" name="lint" />
<meta content="noindex" name="robots" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta property="og:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:title" content="Functions (Apache Spark 2.x)">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://docs.databricks.com">
  <meta property="og:description" content="" id="og-description">
  <meta name="twitter:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta name="twitter:site" content="@databricks">
  <meta name="twitter:creator" content="@databricks">
  <meta property="twitter:description" content="">
  
  <title>Functions (Apache Spark 2.x) &#124; Databricks on AWS</title>
  
  
  <link rel="canonical" href="https://docs.databricks.com/en/archive/spark-sql-2.x-language-manual/functions.html">
  <!-- Start hreflang tag -->
  <link rel="alternate" hreflang="en" href="https://docs.databricks.com/en/archive/spark-sql-2.x-language-manual/functions.html" />
<link rel="alternate" hreflang="x-default" href="https://docs.databricks.com/en/archive/spark-sql-2.x-language-manual/functions.html" />
  <!-- End hreflang tag -->
  
  
  <link rel="shortcut icon" href="../../_static/favicon.ico" />
  

  

  

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T85FQ33');</script>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWTKQQ');</script>
    
  <!-- End Google Tag Manager -->


  <!-- MaxMind / GEO IP -->
  <script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>
  <!-- End MaxMind / GEO IP -->

  
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600&display=swap" rel="stylesheet">
  <link rel="preload" href="../../_static/fonts/DMSans-Bold.ttf" as="font">
  <link rel="preload" href="../../_static/fonts/DMSans-Regular.ttf" as="font">
  <link rel="preload" href="../../_static/fonts/DMMono-Regular.ttf" as="font">
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/cloud-provider-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/translation-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/searchunify/main.css" type="text/css" />

  
  <link rel="index" title="Index" href="../../genindex.html" />
  <link rel="search" title="Search" href="../../search.html" />
  <link rel="top" title="Databricks on AWS" href="../../index.html" /> 
</head>

<body class="wy-body-for-nav" role="document">

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T85FQ33"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWTKQQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  
  <nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
    
<nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
  <div class="container-logo">
    <ul class="mobile-menu-toggle">
        <li class="menu-toggle">
            <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
            
            <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
              alt="Databricks" /></a>   
               
              </li>
    </ul>
    <ul class="su_nav-menu">
      <li class="menu-toggle">
        <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
        
          
        
        <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
            alt="Databricks" /></a></li>
        <!-- 
<li><a href="https://help.databricks.com/s/">Help Center</a></li>
<li class="active"><a href="https://docs.databricks.com/en/">Documentation</a></li>
<li><a href="https://kb.databricks.com/">Knowledge Base</a></li>
 -->
    </ul>
  </div>
  <div class="su_nav-right">
    <ul class="su_link-mobile">
  <!-- Mobile header code can go here -->
</ul>
<ul class="right-try-list">
   
</ul>
  </div>
</nav>
  </nav>

  <div class="su_sub-header">
    <div class="container">
      <div class="su_sub-header-inner">
        <!-- <div class="su_subnav-menu-right">
  <div id="auto" style="width: 100%;">
    <div ng-controller="SearchautoController">
      <div bind-html-compile="autocompleteHtml">
        <form class="su__search-box-1" disabled="disabled">
          <input class="su__search-input" type="search" name="Search box" id="su__search-b" placeholder="Search Documentation" disabled="disabled"/>
          <button class="su__search-button" type="submit" class="button button-success" disabled="disabled">
            <svg width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                fill="#333"></path>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>
</div> -->
        <div class="search-lng-gap"></div>
        <div style="margin-left: 16px; margin-right: 16px;">
          <!-- <select name="lng selector" id="lng-selector">
    <option value="../../../en/archive/spark-sql-2.x-language-manual/functions.html" class="notranslate">English</option>
    <option value="../../../ja/archive/spark-sql-2.x-language-manual/functions.html" class="notranslate">日本語</option>
    <option value="../../../pt/archive/spark-sql-2.x-language-manual/functions.html" class="notranslate">Português (Brasil)</option>
</select> -->
        </div>
        <div class="cloud-selector-container">
          <!-- <select name="cloud provider selector" id="cloud-provider-selector">
    <option value="aws" selected class="notranslate">
        Amazon Web Services
    </option>
    <option value="azure"  class="notranslate">
        Microsoft Azure
    </option>
    <option value="gcp"  class="notranslate">
        Google Cloud Platform
    </option>
</select> -->
        </div>
      </div>
    </div>
  </div>
  <page class="js-page-container">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side su_nav-side">
<div class="wy-side-scroll">
  <div class="wy-side-nav-search">
    

    

    

    
  </div>

  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      <a href="../../index.html" class="main-navigation-home">Databricks on AWS</a>
    

    
      

      
        <p class="caption"><span class="caption-text">Load &amp; manage data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rag-temp/index.html">RAG Studio</a></li>
</ul>

      
    
  </div>

  <div role="contentinfo">
    
  <p class="build_info notranslate"data-last-edit="December 23, 2023">
    Updated Jan 11, 2024
  </p>
<script>
  window.addEventListener('DOMContentLoaded',function(){
    var h1=document.querySelector('h1');
    var bi=document.querySelector('[data-last-edit]');
    if(h1 && bi){
      var ver = document.createElement('p');
      ver.className = 'version_info';
      ver.textContent = bi.getAttribute('data-last-edit');
      h1.parentElement.insertBefore(ver, h1.nextElementSibling);
    }
  });
</script>

    <p>
      
        <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
      
    </p>
  </div>
</div>
</nav>
    
    
<main class="wy-grid-for-nav su_nav-grid">
  <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
    <div class="wy-nav-content su__nav_content">
      <div class="rst-content">
        





<div role="navigation" aria-label="breadcrumbs navigation" class="wy-breadcrumbs-wrapper">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Documentation</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
    
      <li>Functions (Apache Spark 2.x)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>
</div>
        
        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
          <div itemprop="articleBody">
            
    
  <div class="section" id="functions-apache-spark-2x">
<h1>Functions (Apache Spark 2.x)<a class="headerlink" href="#functions-apache-spark-2x" title="Permalink to this headline"> </a></h1>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>This documentation has been retired and might not be updated. The products, services, or technologies mentioned in this content are no longer supported. See <a class="reference internal" href="../../sql/language-manual/sql-ref-functions.html"><span class="doc">Functions</span></a>.</p>
</div>
<p>This article lists the built-in functions in Apache Spark SQL.</p>
<div class="section" id="f1">
<h2>!<a class="headerlink" href="#f1" title="Permalink to this headline"> </a></h2>
<p>! expr - Logical not.</p>
</div>
<div class="section" id="f2">
<h2>%<a class="headerlink" href="#f2" title="Permalink to this headline"> </a></h2>
<p>expr1 % expr2 - Returns the remainder after <code class="docutils literal notranslate"><span class="pre">expr1</span></code>/<code class="docutils literal notranslate"><span class="pre">expr2</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">8</span><span class="p">;</span>
<span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">2</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">MOD</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">8</span><span class="p">);</span>
<span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="section" id="f3">
<h2>&amp;<a class="headerlink" href="#f3" title="Permalink to this headline"> </a></h2>
<p>expr1 &amp; expr2 - Returns the result of bitwise AND of <code class="docutils literal notranslate"><span class="pre">expr1</span></code> and
<code class="docutils literal notranslate"><span class="pre">expr2</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="w"> </span><span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="f4">
<h2>*<a class="headerlink" href="#f4" title="Permalink to this headline"> </a></h2>
<p>expr1 <em> expr2 - Returns <code class="docutils literal notranslate"><span class="pre">expr1</span></code></em><code class="docutils literal notranslate"><span class="pre">expr2</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="w"> </span><span class="mi">6</span>
</pre></div>
</div>
</div>
<div class="section" id="f5">
<h2>+<a class="headerlink" href="#f5" title="Permalink to this headline"> </a></h2>
<p>expr1 + expr2 - Returns <code class="docutils literal notranslate"><span class="pre">expr1</span></code>+<code class="docutils literal notranslate"><span class="pre">expr2</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="w"> </span><span class="mi">3</span>
</pre></div>
</div>
</div>
<div class="section" id="-">
<span id="f-"></span><h2>-<a class="headerlink" href="#-" title="Permalink to this headline"> </a></h2>
<p>expr1 - expr2 - Returns <code class="docutils literal notranslate"><span class="pre">expr1</span></code>-<code class="docutils literal notranslate"><span class="pre">expr2</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w"> </span><span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="f6">
<h2>/<a class="headerlink" href="#f6" title="Permalink to this headline"> </a></h2>
<p>expr1 / expr2 - Returns <code class="docutils literal notranslate"><span class="pre">expr1</span></code>/<code class="docutils literal notranslate"><span class="pre">expr2</span></code>. It always performs floating
point division.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">5</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">2</span><span class="n">L</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="n">L</span><span class="p">;</span>
<span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="f7">
<h2>&lt;<a class="headerlink" href="#f7" title="Permalink to this headline"> </a></h2>
<p>expr1 &lt; expr2 - Returns true if <code class="docutils literal notranslate"><span class="pre">expr1</span></code> is less than <code class="docutils literal notranslate"><span class="pre">expr2</span></code>.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>expr1, expr2 - the two expressions must be same type or can be casted
to a common type, and must be a type that can be ordered. For
example, map type is not orderable, so it is not supported. For
complex types such array/struct, the data types of fields must be
orderable.</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="w"> </span><span class="k">true</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="s1">&#39;1&#39;</span><span class="p">;</span>
<span class="w"> </span><span class="k">false</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">to_date</span><span class="p">(</span><span class="s1">&#39;2009-07-30 04:17:52&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">to_date</span><span class="p">(</span><span class="s1">&#39;2009-07-30 04:17:52&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="k">false</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">to_date</span><span class="p">(</span><span class="s1">&#39;2009-07-30 04:17:52&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">to_date</span><span class="p">(</span><span class="s1">&#39;2009-08-01 04:17:52&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="k">true</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span>
<span class="w"> </span><span class="k">NULL</span>
</pre></div>
</div>
</div>
<div class="section" id="f8">
<h2>&lt;=<a class="headerlink" href="#f8" title="Permalink to this headline"> </a></h2>
<p>expr1 &lt;= expr2 - Returns true if <code class="docutils literal notranslate"><span class="pre">expr1</span></code> is less than or equal to
<code class="docutils literal notranslate"><span class="pre">expr2</span></code>.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>expr1, expr2 - the two expressions must be same type or can be casted
to a common type, and must be a type that can be ordered. For
example, map type is not orderable, so it is not supported. For
complex types such array/struct, the data types of fields must be
orderable.</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="w"> </span><span class="k">true</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s1">&#39;1&#39;</span><span class="p">;</span>
<span class="w"> </span><span class="k">true</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">to_date</span><span class="p">(</span><span class="s1">&#39;2009-07-30 04:17:52&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">to_date</span><span class="p">(</span><span class="s1">&#39;2009-07-30 04:17:52&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="k">true</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">to_date</span><span class="p">(</span><span class="s1">&#39;2009-07-30 04:17:52&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">to_date</span><span class="p">(</span><span class="s1">&#39;2009-08-01 04:17:52&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="k">true</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span>
<span class="w"> </span><span class="k">NULL</span>
</pre></div>
</div>
</div>
<div class="section" id="f9">
<h2>&lt;=&gt;<a class="headerlink" href="#f9" title="Permalink to this headline"> </a></h2>
<p>expr1 &lt;=&gt; expr2 - Returns same result as the EQUAL(=) operator for
non-null operands, but returns true if both are null, false if one of
the them is null.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>expr1, expr2 - the two expressions must be same type or can be casted
to a common type, and must be a type that can be used in equality
comparison. Map type is not supported. For complex types such
array/struct, the data types of fields must be orderable.</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&lt;=&gt;</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="w"> </span><span class="k">true</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;=&gt;</span><span class="w"> </span><span class="s1">&#39;1&#39;</span><span class="p">;</span>
<span class="w"> </span><span class="k">true</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">true</span><span class="w"> </span><span class="o">&lt;=&gt;</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span>
<span class="w"> </span><span class="k">false</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">&lt;=&gt;</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span>
<span class="w"> </span><span class="k">true</span>
</pre></div>
</div>
</div>
<div class="section" id="f10">
<h2>=<a class="headerlink" href="#f10" title="Permalink to this headline"> </a></h2>
<p>expr1 = expr2 - Returns true if <code class="docutils literal notranslate"><span class="pre">expr1</span></code> equals <code class="docutils literal notranslate"><span class="pre">expr2</span></code>, or false
otherwise.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>expr1, expr2 - the two expressions must be same type or can be casted
to a common type, and must be a type that can be used in equality
comparison. Map type is not supported. For complex types such
array/struct, the data types of fields must be orderable.</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="w"> </span><span class="k">true</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;1&#39;</span><span class="p">;</span>
<span class="w"> </span><span class="k">true</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">true</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span>
<span class="w"> </span><span class="k">NULL</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span>
<span class="w"> </span><span class="k">NULL</span>
</pre></div>
</div>
</div>
<div class="section" id="f11">
<h2>==<a class="headerlink" href="#f11" title="Permalink to this headline"> </a></h2>
<p>expr1 == expr2 - Returns true if <code class="docutils literal notranslate"><span class="pre">expr1</span></code> equals <code class="docutils literal notranslate"><span class="pre">expr2</span></code>, or false
otherwise.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>expr1, expr2 - the two expressions must be same type or can be casted
to a common type, and must be a type that can be used in equality
comparison. Map type is not supported. For complex types such
array/struct, the data types of fields must be orderable.</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="w"> </span><span class="k">true</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;1&#39;</span><span class="p">;</span>
<span class="w"> </span><span class="k">true</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">true</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span>
<span class="w"> </span><span class="k">NULL</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span>
<span class="w"> </span><span class="k">NULL</span>
</pre></div>
</div>
</div>
<div class="section" id="f12">
<h2>&gt;<a class="headerlink" href="#f12" title="Permalink to this headline"> </a></h2>
<p>expr1 &gt; expr2 - Returns true if <code class="docutils literal notranslate"><span class="pre">expr1</span></code> is greater than <code class="docutils literal notranslate"><span class="pre">expr2</span></code>.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>expr1, expr2 - the two expressions must be same type or can be casted
to a common type, and must be a type that can be ordered. For
example, map type is not orderable, so it is not supported. For
complex types such array/struct, the data types of fields must be
orderable.</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w"> </span><span class="k">true</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="s1">&#39;1.1&#39;</span><span class="p">;</span>
<span class="w"> </span><span class="k">true</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">to_date</span><span class="p">(</span><span class="s1">&#39;2009-07-30 04:17:52&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">to_date</span><span class="p">(</span><span class="s1">&#39;2009-07-30 04:17:52&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="k">false</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">to_date</span><span class="p">(</span><span class="s1">&#39;2009-07-30 04:17:52&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">to_date</span><span class="p">(</span><span class="s1">&#39;2009-08-01 04:17:52&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="k">false</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span>
<span class="w"> </span><span class="k">NULL</span>
</pre></div>
</div>
</div>
<div class="section" id="f13">
<h2>&gt;=<a class="headerlink" href="#f13" title="Permalink to this headline"> </a></h2>
<p>expr1 &gt;= expr2 - Returns true if <code class="docutils literal notranslate"><span class="pre">expr1</span></code> is greater than or equal to
<code class="docutils literal notranslate"><span class="pre">expr2</span></code>.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>expr1, expr2 - the two expressions must be same type or can be casted
to a common type, and must be a type that can be ordered. For
example, map type is not orderable, so it is not supported. For
complex types such array/struct, the data types of fields must be
orderable.</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w"> </span><span class="k">true</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="s1">&#39;2.1&#39;</span><span class="p">;</span>
<span class="w"> </span><span class="k">false</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">to_date</span><span class="p">(</span><span class="s1">&#39;2009-07-30 04:17:52&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">to_date</span><span class="p">(</span><span class="s1">&#39;2009-07-30 04:17:52&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="k">true</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">to_date</span><span class="p">(</span><span class="s1">&#39;2009-07-30 04:17:52&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">to_date</span><span class="p">(</span><span class="s1">&#39;2009-08-01 04:17:52&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="k">false</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span>
<span class="w"> </span><span class="k">NULL</span>
</pre></div>
</div>
</div>
<div class="section" id="f14">
<h2>^<a class="headerlink" href="#f14" title="Permalink to this headline"> </a></h2>
<p>expr1 ^ expr2 - Returns the result of bitwise exclusive OR of <code class="docutils literal notranslate"><span class="pre">expr1</span></code>
and <code class="docutils literal notranslate"><span class="pre">expr2</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="w"> </span><span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="section" id="abs">
<h2>abs<a class="headerlink" href="#abs" title="Permalink to this headline"> </a></h2>
<p>abs(expr) - Returns the absolute value of the numeric value.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">abs</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<span class="w"> </span><span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="acos">
<h2>acos<a class="headerlink" href="#acos" title="Permalink to this headline"> </a></h2>
<p>acos(expr) - Returns the inverse cosine (arccosine) of <code class="docutils literal notranslate"><span class="pre">expr</span></code>,
as if computed by <code class="docutils literal notranslate"><span class="pre">java.lang.Math.acos</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">acos</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">acos</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="w"> </span><span class="n">NaN</span>
</pre></div>
</div>
</div>
<div class="section" id="add_months">
<h2>add_months<a class="headerlink" href="#add_months" title="Permalink to this headline"> </a></h2>
<p>add_months(start_date, num_months) - Returns the date that is
<code class="docutils literal notranslate"><span class="pre">num_months</span></code> after <code class="docutils literal notranslate"><span class="pre">start_date</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">add_months</span><span class="p">(</span><span class="s1">&#39;2016-08-31&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2016</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">30</span>
</pre></div>
</div>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="aggregate">
<h2>aggregate<a class="headerlink" href="#aggregate" title="Permalink to this headline"> </a></h2>
<p>aggregate(expr, start, merge, finish) - Applies a binary operator to an
initial state and all elements in the array, and reduces this to a
single state. The final state is converted into the final result by
applying a finish function.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">aggregate</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">acc</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">acc</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">x</span><span class="p">);</span>
<span class="w"> </span><span class="mi">6</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">aggregate</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">acc</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">acc</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">acc</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">acc</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="w"> </span><span class="mi">60</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="and">
<h2>and<a class="headerlink" href="#and" title="Permalink to this headline"> </a></h2>
<p>expr1 and expr2 - Logical AND.</p>
</div>
<div class="section" id="approx_count_distinct">
<h2>approx_count_distinct<a class="headerlink" href="#approx_count_distinct" title="Permalink to this headline"> </a></h2>
<p>approx_count_distinct(expr[, relativeSD]) - Returns the estimated
cardinality by HyperLogLog++. <code class="docutils literal notranslate"><span class="pre">relativeSD</span></code> defines the maximum
estimation error allowed.</p>
</div>
<div class="section" id="approx_percentile">
<h2>approx_percentile<a class="headerlink" href="#approx_percentile" title="Permalink to this headline"> </a></h2>
<p>approx_percentile(col, percentage [, accuracy]) - Returns the
approximate percentile value of numeric column <code class="docutils literal notranslate"><span class="pre">col</span></code> at the given
percentage. The value of percentage must be between 0.0 and 1.0. The
<code class="docutils literal notranslate"><span class="pre">accuracy</span></code> parameter (default: 10000) is a positive numeric literal
which controls approximation accuracy at the cost of memory. Higher
value of <code class="docutils literal notranslate"><span class="pre">accuracy</span></code> yields better accuracy, <code class="docutils literal notranslate"><span class="pre">1.0/accuracy</span></code> is the
relative error of the approximation. When <code class="docutils literal notranslate"><span class="pre">percentage</span></code> is an array,
each value of the percentage array must be between 0.0 and 1.0. In this
case, returns the approximate percentile array of column <code class="docutils literal notranslate"><span class="pre">col</span></code> at the
given percentage array.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">approx_percentile</span><span class="p">(</span><span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nb">array</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<span class="w"> </span><span class="p">[</span><span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="p">]</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">approx_percentile</span><span class="p">(</span><span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<span class="w"> </span><span class="mi">10</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="array">
<h2>array<a class="headerlink" href="#array" title="Permalink to this headline"> </a></h2>
<p>array(expr, …) - Returns an array with the given elements.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="array_contains">
<h2>array_contains<a class="headerlink" href="#array_contains" title="Permalink to this headline"> </a></h2>
<p>array_contains(array, value) - Returns true if the array contains the
value.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">array_contains</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w"> </span><span class="k">true</span>
</pre></div>
</div>
</div>
<div class="section" id="array_distinct">
<h2>array_distinct<a class="headerlink" href="#array_distinct" title="Permalink to this headline"> </a></h2>
<p>array_distinct(array) - Removes duplicate values from the array.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">array_distinct</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">));</span>
<span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="k">null</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="array_except">
<h2>array_except<a class="headerlink" href="#array_except" title="Permalink to this headline"> </a></h2>
<p>array_except(array1, array2) - Returns an array of the elements in
array1 but not in array2, without duplicates.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">array_except</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">));</span>
<span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="array_intersect">
<h2>array_intersect<a class="headerlink" href="#array_intersect" title="Permalink to this headline"> </a></h2>
<p>array_intersect(array1, array2) - Returns an array of the elements in
the intersection of array1 and array2, without duplicates.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">array_intersect</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">));</span>
<span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="array_join">
<h2>array_join<a class="headerlink" href="#array_join" title="Permalink to this headline"> </a></h2>
<p>array_join(array, delimiter[, nullReplacement]) - Concatenates the
elements of the given array using the delimiter and an optional string
to replace nulls. If no value is set for nullReplacement, any null value
is filtered.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">array_join</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;world&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39; &#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">hello</span><span class="w"> </span><span class="n">world</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">array_join</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="p">,</span><span class="s1">&#39;world&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39; &#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">hello</span><span class="w"> </span><span class="n">world</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">array_join</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="p">,</span><span class="s1">&#39;world&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39; &#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;,&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">hello</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">world</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="array_max">
<h2>array_max<a class="headerlink" href="#array_max" title="Permalink to this headline"> </a></h2>
<p>array_max(array) - Returns the maximum value in the array. NULL elements
are skipped.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">array_max</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">));</span>
<span class="w"> </span><span class="mi">20</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="array_min">
<h2>array_min<a class="headerlink" href="#array_min" title="Permalink to this headline"> </a></h2>
<p>array_min(array) - Returns the minimum value in the array. NULL elements
are skipped.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">array_min</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">));</span>
<span class="w"> </span><span class="mi">1</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="array_position">
<h2>array_position<a class="headerlink" href="#array_position" title="Permalink to this headline"> </a></h2>
<p>array_position(array, element) - Returns the (1-based) index of the
first element of the array as long.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">array_position</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w"> </span><span class="mi">3</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="array_remove">
<h2>array_remove<a class="headerlink" href="#array_remove" title="Permalink to this headline"> </a></h2>
<p>array_remove(array, element) - Remove all elements that equal to element
from array.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">array_remove</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="k">null</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="array_repeat">
<h2>array_repeat<a class="headerlink" href="#array_repeat" title="Permalink to this headline"> </a></h2>
<p>array_repeat(element, count) - Returns the array containing element
count times.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">array_repeat</span><span class="p">(</span><span class="s1">&#39;123&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w"> </span><span class="p">[</span><span class="ss">&quot;123&quot;</span><span class="p">,</span><span class="ss">&quot;123&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="array_sort">
<h2>array_sort<a class="headerlink" href="#array_sort" title="Permalink to this headline"> </a></h2>
<p>array_sort(array) - Sorts the input array in ascending order. The
elements of the input array must be orderable. Null elements will be
placed at the end of the returned array.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">array_sort</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;d&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">));</span>
<span class="w"> </span><span class="p">[</span><span class="ss">&quot;a&quot;</span><span class="p">,</span><span class="ss">&quot;b&quot;</span><span class="p">,</span><span class="ss">&quot;c&quot;</span><span class="p">,</span><span class="ss">&quot;d&quot;</span><span class="p">,</span><span class="k">null</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="array_union">
<h2>array_union<a class="headerlink" href="#array_union" title="Permalink to this headline"> </a></h2>
<p>array_union(array1, array2) - Returns an array of the elements in the
union of array1 and array2, without duplicates.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">array_union</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">));</span>
<span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="arrays_overlap">
<h2>arrays_overlap<a class="headerlink" href="#arrays_overlap" title="Permalink to this headline"> </a></h2>
<p>arrays_overlap(a1, a2) - Returns true if a1 contains at least a non-null
element present also in a2. If the arrays have no common element and
they are both non-empty and either of them contains a null element null
is returned, false otherwise.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">arrays_overlap</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="nb">array</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">));</span>
<span class="w"> </span><span class="k">true</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="arrays_zip">
<h2>arrays_zip<a class="headerlink" href="#arrays_zip" title="Permalink to this headline"> </a></h2>
<p>arrays_zip(a1, a2, …) - Returns a merged array of structs in which the
N-th struct contains all N-th values of input arrays.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">arrays_zip</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="nb">array</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">));</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="p">[{</span><span class="s2">&quot;0&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;1&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">},{</span><span class="s2">&quot;0&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="s2">&quot;1&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">},{</span><span class="s2">&quot;0&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="s2">&quot;1&quot;</span><span class="p">:</span><span class="mi">4</span><span class="p">}]</span>
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">arrays_zip</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="nb">array</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="nb">array</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">));</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="p">[{</span><span class="s2">&quot;0&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;1&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="s2">&quot;2&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">},{</span><span class="s2">&quot;0&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="s2">&quot;1&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="s2">&quot;2&quot;</span><span class="p">:</span><span class="mi">4</span><span class="p">}]</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="ascii">
<h2>ascii<a class="headerlink" href="#ascii" title="Permalink to this headline"> </a></h2>
<p>ascii(str) - Returns the numeric value of the first character of
<code class="docutils literal notranslate"><span class="pre">str</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">ascii</span><span class="p">(</span><span class="s1">&#39;222&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">50</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">ascii</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="w"> </span><span class="mi">50</span>
</pre></div>
</div>
</div>
<div class="section" id="asin">
<h2>asin<a class="headerlink" href="#asin" title="Permalink to this headline"> </a></h2>
<p>asin(expr) - Returns the inverse sine (arcsine) of
<code class="docutils literal notranslate"><span class="pre">expr</span></code>, as if computed by <code class="docutils literal notranslate"><span class="pre">java.lang.Math.asin</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">asin</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">asin</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="w"> </span><span class="n">NaN</span>
</pre></div>
</div>
</div>
<div class="section" id="assert_true">
<h2>assert_true<a class="headerlink" href="#assert_true" title="Permalink to this headline"> </a></h2>
<p>assert_true(expr) - Throws an exception if <code class="docutils literal notranslate"><span class="pre">expr</span></code> is not true.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">assert_true</span><span class="p">(</span><span class="mi">0</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w"> </span><span class="k">NULL</span>
</pre></div>
</div>
</div>
<div class="section" id="atan">
<h2>atan<a class="headerlink" href="#atan" title="Permalink to this headline"> </a></h2>
<p>atan(expr) - Returns the inverse tangent (arctangent) of
<code class="docutils literal notranslate"><span class="pre">expr</span></code>, as if computed by <code class="docutils literal notranslate"><span class="pre">java.lang.Math.atan</span></code></p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">atan</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="atan2">
<h2>atan2<a class="headerlink" href="#atan2" title="Permalink to this headline"> </a></h2>
<p>atan2(exprY, exprX) - Returns the angle in radians between the positive
x-axis of a plane and the point given by the coordinates (<code class="docutils literal notranslate"><span class="pre">exprX</span></code>,
<code class="docutils literal notranslate"><span class="pre">exprY</span></code>), as if computed by <code class="docutils literal notranslate"><span class="pre">java.lang.Math.atan2</span></code>.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>exprY - coordinate on y-axis</p></li>
<li><p>exprX - coordinate on x-axis</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">atan2</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="avg">
<h2>avg<a class="headerlink" href="#avg" title="Permalink to this headline"> </a></h2>
<p>avg(expr) - Returns the mean calculated from values of a group.</p>
</div>
<div class="section" id="base64">
<h2>base64<a class="headerlink" href="#base64" title="Permalink to this headline"> </a></h2>
<p>base64(bin) - Converts the argument from a binary <code class="docutils literal notranslate"><span class="pre">bin</span></code> to a base 64
string.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">base64</span><span class="p">(</span><span class="s1">&#39;Spark SQL&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">U3BhcmsgU1FM</span>
</pre></div>
</div>
</div>
<div class="section" id="bigint">
<h2>bigint<a class="headerlink" href="#bigint" title="Permalink to this headline"> </a></h2>
<p>bigint(expr) - Casts the value <code class="docutils literal notranslate"><span class="pre">expr</span></code> to the target data type
<code class="docutils literal notranslate"><span class="pre">bigint</span></code>.</p>
</div>
<div class="section" id="bin">
<h2>bin<a class="headerlink" href="#bin" title="Permalink to this headline"> </a></h2>
<p>bin(expr) - Returns the string representation of the long value <code class="docutils literal notranslate"><span class="pre">expr</span></code>
represented in binary.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">bin</span><span class="p">(</span><span class="mi">13</span><span class="p">);</span>
<span class="w"> </span><span class="mi">1101</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">bin</span><span class="p">(</span><span class="o">-</span><span class="mi">13</span><span class="p">);</span>
<span class="w"> </span><span class="mi">1111111111111111111111111111111111111111111111111111111111110011</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">bin</span><span class="p">(</span><span class="mi">13</span><span class="p">.</span><span class="mi">3</span><span class="p">);</span>
<span class="w"> </span><span class="mi">1101</span>
</pre></div>
</div>
</div>
<div class="section" id="binary">
<h2>binary<a class="headerlink" href="#binary" title="Permalink to this headline"> </a></h2>
<p>binary(expr) - Casts the value <code class="docutils literal notranslate"><span class="pre">expr</span></code> to the target data type
<code class="docutils literal notranslate"><span class="pre">binary</span></code>.</p>
</div>
<div class="section" id="bit_length">
<h2>bit_length<a class="headerlink" href="#bit_length" title="Permalink to this headline"> </a></h2>
<p>bit_length(expr) - Returns the bit length of string data or number of
bits of binary data.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">bit_length</span><span class="p">(</span><span class="s1">&#39;Spark SQL&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">72</span>
</pre></div>
</div>
</div>
<div class="section" id="boolean">
<h2>boolean<a class="headerlink" href="#boolean" title="Permalink to this headline"> </a></h2>
<p>boolean(expr) - Casts the value <code class="docutils literal notranslate"><span class="pre">expr</span></code> to the target data type
<code class="docutils literal notranslate"><span class="pre">boolean</span></code>.</p>
</div>
<div class="section" id="bround">
<h2>bround<a class="headerlink" href="#bround" title="Permalink to this headline"> </a></h2>
<p>bround(expr, d) - Returns <code class="docutils literal notranslate"><span class="pre">expr</span></code> rounded to <code class="docutils literal notranslate"><span class="pre">d</span></code> decimal places using
HALF_EVEN rounding mode.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">bround</span><span class="p">(</span><span class="mi">2</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="cardinality">
<h2>cardinality<a class="headerlink" href="#cardinality" title="Permalink to this headline"> </a></h2>
<p>cardinality(expr) - Returns the size of an array or a map. The function
returns -1 if its input is null and spark.sql.legacy.sizeOfNull is set
to true. If spark.sql.legacy.sizeOfNull is set to false, the function
returns null for null input. By default, the spark.sql.legacy.sizeOfNull
parameter is set to true.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">cardinality</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;d&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">));</span>
<span class="w"> </span><span class="mi">4</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">cardinality</span><span class="p">(</span><span class="k">map</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">));</span>
<span class="w"> </span><span class="mi">2</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">cardinality</span><span class="p">(</span><span class="k">NULL</span><span class="p">);</span>
<span class="w"> </span><span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="cast">
<h2>cast<a class="headerlink" href="#cast" title="Permalink to this headline"> </a></h2>
<p>cast(expr AS type) - Casts the value <code class="docutils literal notranslate"><span class="pre">expr</span></code> to the target data type
<code class="docutils literal notranslate"><span class="pre">type</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">cast</span><span class="p">(</span><span class="s1">&#39;10&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">int</span><span class="p">);</span>
<span class="w"> </span><span class="mi">10</span>
</pre></div>
</div>
</div>
<div class="section" id="cbrt">
<h2>cbrt<a class="headerlink" href="#cbrt" title="Permalink to this headline"> </a></h2>
<p>cbrt(expr) - Returns the cube root of <code class="docutils literal notranslate"><span class="pre">expr</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">cbrt</span><span class="p">(</span><span class="mi">27</span><span class="p">.</span><span class="mi">0</span><span class="p">);</span>
<span class="w"> </span><span class="mi">3</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="ceil">
<h2>ceil<a class="headerlink" href="#ceil" title="Permalink to this headline"> </a></h2>
<p>ceil(expr) - Returns the smallest integer not smaller than <code class="docutils literal notranslate"><span class="pre">expr</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">ceil</span><span class="p">(</span><span class="o">-</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">);</span>
<span class="w"> </span><span class="mi">0</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">ceil</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="w"> </span><span class="mi">5</span>
</pre></div>
</div>
</div>
<div class="section" id="ceiling">
<h2>ceiling<a class="headerlink" href="#ceiling" title="Permalink to this headline"> </a></h2>
<p>ceiling(expr) - Returns the smallest integer not smaller than <code class="docutils literal notranslate"><span class="pre">expr</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">ceiling</span><span class="p">(</span><span class="o">-</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">);</span>
<span class="w"> </span><span class="mi">0</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">ceiling</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="w"> </span><span class="mi">5</span>
</pre></div>
</div>
</div>
<div class="section" id="char">
<h2>char<a class="headerlink" href="#char" title="Permalink to this headline"> </a></h2>
<p>char(expr) - Returns the ASCII character having the binary equivalent to
<code class="docutils literal notranslate"><span class="pre">expr</span></code>. If n is larger than 256 the result is equivalent to chr(n %
256)</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">65</span><span class="p">);</span>
<span class="w"> </span><span class="n">A</span>
</pre></div>
</div>
</div>
<div class="section" id="char_length">
<h2>char_length<a class="headerlink" href="#char_length" title="Permalink to this headline"> </a></h2>
<p>char_length(expr) - Returns the character length of string data or
number of bytes of binary data. The length of string data includes the
trailing spaces. The length of binary data includes binary zeros.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">char_length</span><span class="p">(</span><span class="s1">&#39;Spark SQL &#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">10</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="s1">&#39;Spark SQL &#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">10</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">CHARACTER_LENGTH</span><span class="p">(</span><span class="s1">&#39;Spark SQL &#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">10</span>
</pre></div>
</div>
</div>
<div class="section" id="character_length">
<h2>character_length<a class="headerlink" href="#character_length" title="Permalink to this headline"> </a></h2>
<p>character_length(expr) - Returns the character length of string data or
number of bytes of binary data. The length of string data includes the
trailing spaces. The length of binary data includes binary zeros.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">character_length</span><span class="p">(</span><span class="s1">&#39;Spark SQL &#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">10</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="s1">&#39;Spark SQL &#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">10</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">CHARACTER_LENGTH</span><span class="p">(</span><span class="s1">&#39;Spark SQL &#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">10</span>
</pre></div>
</div>
</div>
<div class="section" id="chr">
<h2>chr<a class="headerlink" href="#chr" title="Permalink to this headline"> </a></h2>
<p>chr(expr) - Returns the ASCII character having the binary equivalent to
<code class="docutils literal notranslate"><span class="pre">expr</span></code>. If n is larger than 256 the result is equivalent to chr(n %
256)</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">chr</span><span class="p">(</span><span class="mi">65</span><span class="p">);</span>
<span class="w"> </span><span class="n">A</span>
</pre></div>
</div>
</div>
<div class="section" id="coalesce">
<h2>coalesce<a class="headerlink" href="#coalesce" title="Permalink to this headline"> </a></h2>
<p>coalesce(expr1, expr2, …) - Returns the first non-null argument if
exists. Otherwise, null.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">coalesce</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">);</span>
<span class="w"> </span><span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="collect_list">
<h2>collect_list<a class="headerlink" href="#collect_list" title="Permalink to this headline"> </a></h2>
<p>collect_list(expr) - Collects and returns a list of non-unique elements.</p>
</div>
<div class="section" id="collect_set">
<h2>collect_set<a class="headerlink" href="#collect_set" title="Permalink to this headline"> </a></h2>
<p>collect_set(expr) - Collects and returns a set of unique elements.</p>
</div>
<div class="section" id="concat">
<h2>concat<a class="headerlink" href="#concat" title="Permalink to this headline"> </a></h2>
<p>concat(col1, col2, …, colN) - Returns the concatenation of col1, col2,
…, colN.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">concat</span><span class="p">(</span><span class="s1">&#39;Spark&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SQL&#39;</span><span class="p">);</span>
<span class="w">   </span><span class="n">SparkSQL</span>
<span class="w">  </span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">concat</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="nb">array</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">),</span><span class="w"> </span><span class="nb">array</span><span class="p">(</span><span class="mi">6</span><span class="p">));</span>
<span class="w">   </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
<span class="k">at</span><span class="w"> </span><span class="n">logic</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">arrays</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="mi">2</span><span class="p">.</span><span class="mi">4</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span>
</pre></div>
</div>
</div>
<div class="section" id="concat_ws">
<h2>concat_ws<a class="headerlink" href="#concat_ws" title="Permalink to this headline"> </a></h2>
<p>concat_ws(sep, [str | array(str)]+) - Returns the concatenation of the
strings separated by <code class="docutils literal notranslate"><span class="pre">sep</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">concat_ws</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Spark&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SQL&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="n">Spark</span><span class="w"> </span><span class="k">SQL</span>
</pre></div>
</div>
</div>
<div class="section" id="conv">
<h2>conv<a class="headerlink" href="#conv" title="Permalink to this headline"> </a></h2>
<p>conv(num, from_base, to_base) - Convert <code class="docutils literal notranslate"><span class="pre">num</span></code> from <code class="docutils literal notranslate"><span class="pre">from_base</span></code> to
<code class="docutils literal notranslate"><span class="pre">to_base</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">conv</span><span class="p">(</span><span class="s1">&#39;100&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="w"> </span><span class="mi">4</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">conv</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">10</span><span class="p">);</span>
<span class="w"> </span><span class="o">-</span><span class="mi">16</span>
</pre></div>
</div>
</div>
<div class="section" id="corr">
<h2>corr<a class="headerlink" href="#corr" title="Permalink to this headline"> </a></h2>
<p>corr(expr1, expr2) - Returns Pearson coefficient of correlation between
a set of number pairs.</p>
</div>
<div class="section" id="cos">
<h2>cos<a class="headerlink" href="#cos" title="Permalink to this headline"> </a></h2>
<p>cos(expr) - Returns the cosine of <code class="docutils literal notranslate"><span class="pre">expr</span></code>, as if computed by
<code class="docutils literal notranslate"><span class="pre">java.lang.Math.cos</span></code>.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>expr - angle in radians</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">cos</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="cosh">
<h2>cosh<a class="headerlink" href="#cosh" title="Permalink to this headline"> </a></h2>
<p>cosh(expr) - Returns the hyperbolic cosine of <code class="docutils literal notranslate"><span class="pre">expr</span></code>, as if computed
by <code class="docutils literal notranslate"><span class="pre">java.lang.Math.cosh</span></code>.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>expr - hyperbolic angle</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">cosh</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="cot">
<h2>cot<a class="headerlink" href="#cot" title="Permalink to this headline"> </a></h2>
<p>cot(expr) - Returns the cotangent of <code class="docutils literal notranslate"><span class="pre">expr</span></code>, as if computed by
<code class="docutils literal notranslate"><span class="pre">1/java.lang.Math.cot</span></code>.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>expr - angle in radians</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">cot</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">6420926159343306</span>
</pre></div>
</div>
</div>
<div class="section" id="count">
<h2>count<a class="headerlink" href="#count" title="Permalink to this headline"> </a></h2>
<p>count(*) - Returns the total number of retrieved rows, including rows
containing null.</p>
<p>count(expr[, expr…]) - Returns the number of rows for which the
supplied expression(s) are all non-null.</p>
<p>count(DISTINCT expr[, expr…]) - Returns the number of rows for which
the supplied expression(s) are unique and non-null.</p>
</div>
<div class="section" id="count_min_sketch">
<h2>count_min_sketch<a class="headerlink" href="#count_min_sketch" title="Permalink to this headline"> </a></h2>
<p>count_min_sketch(col, eps, confidence, seed) - Returns a count-min
sketch of a column with the given esp, confidence and seed. The result
is an array of bytes, which can be deserialized to a <code class="docutils literal notranslate"><span class="pre">CountMinSketch</span></code>
before usage. Count-min sketch is a probabilistic data structure used
for cardinality estimation using sub-linear space.</p>
</div>
<div class="section" id="covar_pop">
<h2>covar_pop<a class="headerlink" href="#covar_pop" title="Permalink to this headline"> </a></h2>
<p>covar_pop(expr1, expr2) - Returns the population covariance of a set of
number pairs.</p>
</div>
<div class="section" id="covar_samp">
<h2>covar_samp<a class="headerlink" href="#covar_samp" title="Permalink to this headline"> </a></h2>
<p>covar_samp(expr1, expr2) - Returns the sample covariance of a set of
number pairs.</p>
</div>
<div class="section" id="crc32">
<h2>crc32<a class="headerlink" href="#crc32" title="Permalink to this headline"> </a></h2>
<p>crc32(expr) - Returns a cyclic redundancy check value of the <code class="docutils literal notranslate"><span class="pre">expr</span></code> as
a bigint.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">crc32</span><span class="p">(</span><span class="s1">&#39;Spark&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">1557323817</span>
</pre></div>
</div>
</div>
<div class="section" id="cube">
<h2>cube<a class="headerlink" href="#cube" title="Permalink to this headline"> </a></h2>
</div>
<div class="section" id="cume_dist">
<h2>cume_dist<a class="headerlink" href="#cume_dist" title="Permalink to this headline"> </a></h2>
<p>cume_dist() - Computes the position of a value relative to all values in
the partition.</p>
</div>
<div class="section" id="current_database">
<h2>current_database<a class="headerlink" href="#current_database" title="Permalink to this headline"> </a></h2>
<p>current_database() - Returns the current database.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">current_database</span><span class="p">();</span>
<span class="w"> </span><span class="k">default</span>
</pre></div>
</div>
</div>
<div class="section" id="current_date">
<h2>current_date<a class="headerlink" href="#current_date" title="Permalink to this headline"> </a></h2>
<p>current_date() - Returns the current date at the start of query
evaluation.</p>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="current_timestamp">
<h2>current_timestamp<a class="headerlink" href="#current_timestamp" title="Permalink to this headline"> </a></h2>
<p>current_timestamp() - Returns the current timestamp at the start of
query evaluation.</p>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="date">
<h2>date<a class="headerlink" href="#date" title="Permalink to this headline"> </a></h2>
<p>date(expr) - Casts the value <code class="docutils literal notranslate"><span class="pre">expr</span></code> to the target data type <code class="docutils literal notranslate"><span class="pre">date</span></code>.</p>
</div>
<div class="section" id="date_add">
<h2>date_add<a class="headerlink" href="#date_add" title="Permalink to this headline"> </a></h2>
<p>date_add(start_date, num_days) - Returns the date that is <code class="docutils literal notranslate"><span class="pre">num_days</span></code>
after <code class="docutils literal notranslate"><span class="pre">start_date</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">date_add</span><span class="p">(</span><span class="s1">&#39;2016-07-30&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2016</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">31</span>
</pre></div>
</div>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="date_format">
<h2>date_format<a class="headerlink" href="#date_format" title="Permalink to this headline"> </a></h2>
<p>date_format(timestamp, fmt) - Converts <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> to a value of
string in the format specified by the date format <code class="docutils literal notranslate"><span class="pre">fmt</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">date_format</span><span class="p">(</span><span class="s1">&#39;2016-04-08&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;y&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2016</span>
</pre></div>
</div>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="date_sub">
<h2>date_sub<a class="headerlink" href="#date_sub" title="Permalink to this headline"> </a></h2>
<p>date_sub(start_date, num_days) - Returns the date that is <code class="docutils literal notranslate"><span class="pre">num_days</span></code>
before <code class="docutils literal notranslate"><span class="pre">start_date</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">date_sub</span><span class="p">(</span><span class="s1">&#39;2016-07-30&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2016</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">29</span>
</pre></div>
</div>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="date_trunc">
<h2>date_trunc<a class="headerlink" href="#date_trunc" title="Permalink to this headline"> </a></h2>
<p>date_trunc(fmt, ts) - Returns timestamp <code class="docutils literal notranslate"><span class="pre">ts</span></code> truncated to the unit
specified by the format model <code class="docutils literal notranslate"><span class="pre">fmt</span></code>. <code class="docutils literal notranslate"><span class="pre">fmt</span></code> should be one of [“YEAR”,
“YYYY”, “YY”, “MON”, “MONTH”, “MM”, “DAY”, “DD”, “HOUR”, “MINUTE”,
“SECOND”, “WEEK”, “QUARTER”]</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">date_trunc</span><span class="p">(</span><span class="s1">&#39;YEAR&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2015-03-05T09:32:05.359&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">date_trunc</span><span class="p">(</span><span class="s1">&#39;MM&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2015-03-05T09:32:05.359&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2015</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">01</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">date_trunc</span><span class="p">(</span><span class="s1">&#39;DD&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2015-03-05T09:32:05.359&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2015</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">05</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">date_trunc</span><span class="p">(</span><span class="s1">&#39;HOUR&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2015-03-05T09:32:05.359&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2015</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">05</span><span class="w"> </span><span class="mi">09</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.3.0</p>
</div>
<div class="section" id="datediff">
<h2>datediff<a class="headerlink" href="#datediff" title="Permalink to this headline"> </a></h2>
<p>datediff(endDate, startDate) - Returns the number of days from
<code class="docutils literal notranslate"><span class="pre">startDate</span></code> to <code class="docutils literal notranslate"><span class="pre">endDate</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">datediff</span><span class="p">(</span><span class="s1">&#39;2009-07-31&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2009-07-30&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">1</span>

<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">datediff</span><span class="p">(</span><span class="s1">&#39;2009-07-30&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2009-07-31&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="day">
<h2>day<a class="headerlink" href="#day" title="Permalink to this headline"> </a></h2>
<p>day(date) - Returns the day of month of the date/timestamp.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">day</span><span class="p">(</span><span class="s1">&#39;2009-07-30&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">30</span>
</pre></div>
</div>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="dayofmonth">
<h2>dayofmonth<a class="headerlink" href="#dayofmonth" title="Permalink to this headline"> </a></h2>
<p>dayofmonth(date) - Returns the day of month of the date/timestamp.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">dayofmonth</span><span class="p">(</span><span class="s1">&#39;2009-07-30&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">30</span>
</pre></div>
</div>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="dayofweek">
<h2>dayofweek<a class="headerlink" href="#dayofweek" title="Permalink to this headline"> </a></h2>
<p>dayofweek(date) - Returns the day of the week for date/timestamp (1 =
Sunday, 2 = Monday, …, 7 = Saturday).</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">dayofweek</span><span class="p">(</span><span class="s1">&#39;2009-07-30&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">5</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.3.0</p>
</div>
<div class="section" id="dayofyear">
<h2>dayofyear<a class="headerlink" href="#dayofyear" title="Permalink to this headline"> </a></h2>
<p>dayofyear(date) - Returns the day of year of the date/timestamp.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">dayofyear</span><span class="p">(</span><span class="s1">&#39;2016-04-09&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">100</span>
</pre></div>
</div>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="decimal">
<h2>decimal<a class="headerlink" href="#decimal" title="Permalink to this headline"> </a></h2>
<p>decimal(expr) - Casts the value <code class="docutils literal notranslate"><span class="pre">expr</span></code> to the target data type
<code class="docutils literal notranslate"><span class="pre">decimal</span></code>.</p>
</div>
<div class="section" id="decode">
<h2>decode<a class="headerlink" href="#decode" title="Permalink to this headline"> </a></h2>
<p>decode(bin, charset) - Decodes the first argument using the second
argument character set.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">decode</span><span class="p">(</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;utf-8&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;utf-8&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">abc</span>
</pre></div>
</div>
</div>
<div class="section" id="degrees">
<h2>degrees<a class="headerlink" href="#degrees" title="Permalink to this headline"> </a></h2>
<p>degrees(expr) - Converts radians to degrees.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>expr - angle in radians</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">degrees</span><span class="p">(</span><span class="mi">3</span><span class="p">.</span><span class="mi">141592653589793</span><span class="p">);</span>
<span class="w"> </span><span class="mi">180</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="dense_rank">
<h2>dense_rank<a class="headerlink" href="#dense_rank" title="Permalink to this headline"> </a></h2>
<p>dense_rank() - Computes the rank of a value in a group of values. The
result is one plus the previously assigned rank value. Unlike the
function rank, dense_rank will not produce gaps in the ranking sequence.</p>
</div>
<div class="section" id="double">
<h2>double<a class="headerlink" href="#double" title="Permalink to this headline"> </a></h2>
<p>double(expr) - Casts the value <code class="docutils literal notranslate"><span class="pre">expr</span></code> to the target data type
<code class="docutils literal notranslate"><span class="pre">double</span></code>.</p>
</div>
<div class="section" id="e">
<h2>e<a class="headerlink" href="#e" title="Permalink to this headline"> </a></h2>
<p>e() - Returns Euler’s number, e.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">e</span><span class="p">();</span>
<span class="w"> </span><span class="mi">2</span><span class="p">.</span><span class="mi">718281828459045</span>
</pre></div>
</div>
</div>
<div class="section" id="element_at">
<h2>element_at<a class="headerlink" href="#element_at" title="Permalink to this headline"> </a></h2>
<p>element_at(array, index) - Returns element of array at given (1-based)
index. If index &lt; 0, accesses elements from the last to the first.
Returns NULL if the index exceeds the length of the array.</p>
<p>element_at(map, key) - Returns value for given key, or NULL if the key
is not contained in the map</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">element_at</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">element_at</span><span class="p">(</span><span class="k">map</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w"> </span><span class="n">b</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="elt">
<h2>elt<a class="headerlink" href="#elt" title="Permalink to this headline"> </a></h2>
<p>elt(n, input1, input2, …) - Returns the <code class="docutils literal notranslate"><span class="pre">n</span></code>-th input, e.g., returns
<code class="docutils literal notranslate"><span class="pre">input2</span></code> when <code class="docutils literal notranslate"><span class="pre">n</span></code> is 2.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">elt</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;scala&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;java&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">scala</span>
</pre></div>
</div>
</div>
<div class="section" id="encode">
<h2>encode<a class="headerlink" href="#encode" title="Permalink to this headline"> </a></h2>
<p>encode(str, charset) - Encodes the first argument using the second
argument character set.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;utf-8&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">abc</span>
</pre></div>
</div>
</div>
<div class="section" id="exists">
<h2>exists<a class="headerlink" href="#exists" title="Permalink to this headline"> </a></h2>
<p>exists(expr, pred) - Tests whether a predicate holds for one or more
elements in the array.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">exists</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w"> </span><span class="k">true</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="exp">
<h2>exp<a class="headerlink" href="#exp" title="Permalink to this headline"> </a></h2>
<p>exp(expr) - Returns e to the power of <code class="docutils literal notranslate"><span class="pre">expr</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">exp</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="explode">
<h2>explode<a class="headerlink" href="#explode" title="Permalink to this headline"> </a></h2>
<p>explode(expr) - Separates the elements of array <code class="docutils literal notranslate"><span class="pre">expr</span></code> into multiple
rows, or the elements of map <code class="docutils literal notranslate"><span class="pre">expr</span></code> into multiple rows and columns.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">explode</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">));</span>
<span class="w"> </span><span class="mi">10</span>
<span class="w"> </span><span class="mi">20</span>
</pre></div>
</div>
</div>
<div class="section" id="explode_outer">
<h2>explode_outer<a class="headerlink" href="#explode_outer" title="Permalink to this headline"> </a></h2>
<p>explode_outer(expr) - Separates the elements of array <code class="docutils literal notranslate"><span class="pre">expr</span></code> into
multiple rows, or the elements of map <code class="docutils literal notranslate"><span class="pre">expr</span></code> into multiple rows and
columns.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">explode_outer</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">));</span>
<span class="w"> </span><span class="mi">10</span>
<span class="w"> </span><span class="mi">20</span>
</pre></div>
</div>
</div>
<div class="section" id="expm1">
<h2>expm1<a class="headerlink" href="#expm1" title="Permalink to this headline"> </a></h2>
<p>expm1(expr) - Returns exp(<code class="docutils literal notranslate"><span class="pre">expr</span></code>) - 1.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">expm1</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="factorial">
<h2>factorial<a class="headerlink" href="#factorial" title="Permalink to this headline"> </a></h2>
<p>factorial(expr) - Returns the factorial of <code class="docutils literal notranslate"><span class="pre">expr</span></code>. <code class="docutils literal notranslate"><span class="pre">expr</span></code> is
[0..20]. Otherwise, null.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">factorial</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="w"> </span><span class="mi">120</span>
</pre></div>
</div>
</div>
<div class="section" id="filter">
<h2>filter<a class="headerlink" href="#filter" title="Permalink to this headline"> </a></h2>
<p>filter(expr, func) - Filters the input array using the given predicate.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="find_in_set">
<h2>find_in_set<a class="headerlink" href="#find_in_set" title="Permalink to this headline"> </a></h2>
<p>find_in_set(str, str_array) - Returns the index (1-based) of the given
string (<code class="docutils literal notranslate"><span class="pre">str</span></code>) in the comma-delimited list (<code class="docutils literal notranslate"><span class="pre">str_array</span></code>). Returns 0,
if the string was not found or if the given string (<code class="docutils literal notranslate"><span class="pre">str</span></code>) contains a
comma.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">find_in_set</span><span class="p">(</span><span class="s1">&#39;ab&#39;</span><span class="p">,</span><span class="s1">&#39;abc,b,ab,c,def&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">3</span>
</pre></div>
</div>
</div>
<div class="section" id="first">
<h2>first<a class="headerlink" href="#first" title="Permalink to this headline"> </a></h2>
<p>first(expr[, isIgnoreNull]) - Returns the first value of <code class="docutils literal notranslate"><span class="pre">expr</span></code> for a
group of rows. If <code class="docutils literal notranslate"><span class="pre">isIgnoreNull</span></code> is true, returns only non-null
values.</p>
</div>
<div class="section" id="first_value">
<h2>first_value<a class="headerlink" href="#first_value" title="Permalink to this headline"> </a></h2>
<p>first_value(expr[, isIgnoreNull]) - Returns the first value of <code class="docutils literal notranslate"><span class="pre">expr</span></code>
for a group of rows. If <code class="docutils literal notranslate"><span class="pre">isIgnoreNull</span></code> is true, returns only non-null
values.</p>
</div>
<div class="section" id="flatten">
<h2>flatten<a class="headerlink" href="#flatten" title="Permalink to this headline"> </a></h2>
<p>flatten(arrayOfArrays) - Transforms an array of arrays into a single
array.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">flatten</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="nb">array</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">)));</span>
<span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="float">
<h2>float<a class="headerlink" href="#float" title="Permalink to this headline"> </a></h2>
<p>float(expr) - Casts the value <code class="docutils literal notranslate"><span class="pre">expr</span></code> to the target data type
<code class="docutils literal notranslate"><span class="pre">float</span></code>.</p>
</div>
<div class="section" id="floor">
<h2>floor<a class="headerlink" href="#floor" title="Permalink to this headline"> </a></h2>
<p>floor(expr) - Returns the largest integer not greater than <code class="docutils literal notranslate"><span class="pre">expr</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">floor</span><span class="p">(</span><span class="o">-</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">);</span>
<span class="w"> </span><span class="o">-</span><span class="mi">1</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">floor</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="w"> </span><span class="mi">5</span>
</pre></div>
</div>
</div>
<div class="section" id="format_number">
<h2>format_number<a class="headerlink" href="#format_number" title="Permalink to this headline"> </a></h2>
<p>format_number(expr1, expr2) - Formats the number <code class="docutils literal notranslate"><span class="pre">expr1</span></code> like
‘#,###,###.##’, rounded to <code class="docutils literal notranslate"><span class="pre">expr2</span></code> decimal places. If <code class="docutils literal notranslate"><span class="pre">expr2</span></code> is 0,
the result has no decimal point or fractional part. <code class="docutils literal notranslate"><span class="pre">expr2</span></code> also
accept a user specified format. This is supposed to function like
MySQL’s FORMAT.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">format_number</span><span class="p">(</span><span class="mi">12332</span><span class="p">.</span><span class="mi">123456</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="mi">332</span><span class="p">.</span><span class="mi">1235</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">format_number</span><span class="p">(</span><span class="mi">12332</span><span class="p">.</span><span class="mi">123456</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;##################.###&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">12332</span><span class="p">.</span><span class="mi">123</span>
</pre></div>
</div>
</div>
<div class="section" id="format_string">
<h2>format_string<a class="headerlink" href="#format_string" title="Permalink to this headline"> </a></h2>
<p>format_string(strfmt, obj, …) - Returns a formatted string from
printf-style format strings.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">format_string</span><span class="p">(</span><span class="ss">&quot;Hello World %d %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;days&quot;</span><span class="p">);</span>
<span class="w"> </span><span class="n">Hello</span><span class="w"> </span><span class="n">World</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="n">days</span>
</pre></div>
</div>
</div>
<div class="section" id="from_json">
<h2>from_json<a class="headerlink" href="#from_json" title="Permalink to this headline"> </a></h2>
<p>from_json(jsonStr, schema[, options]) - Returns a struct value with the
given <code class="docutils literal notranslate"><span class="pre">jsonStr</span></code> and <code class="docutils literal notranslate"><span class="pre">schema</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">from_json</span><span class="p">(</span><span class="s1">&#39;{&quot;a&quot;:1, &quot;b&quot;:0.8}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;a INT, b DOUBLE&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span><span class="mf">0.8</span><span class="p">}</span>
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">from_json</span><span class="p">(</span><span class="s1">&#39;{&quot;time&quot;:&quot;26/08/2015&quot;}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;time Timestamp&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">map</span><span class="p">(</span><span class="s1">&#39;timestampFormat&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;dd/MM/yyyy&#39;</span><span class="p">));</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="p">{</span><span class="s2">&quot;time&quot;</span><span class="p">:</span><span class="s2">&quot;2015-08-26 00:00:00.0&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.2.0</p>
</div>
<div class="section" id="from_unixtime">
<h2>from_unixtime<a class="headerlink" href="#from_unixtime" title="Permalink to this headline"> </a></h2>
<p>from_unixtime(unix_time, format) - Returns <code class="docutils literal notranslate"><span class="pre">unix_time</span></code> in the
specified <code class="docutils literal notranslate"><span class="pre">format</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">from_unixtime</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;yyyy-MM-dd HH:mm:ss&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
</pre></div>
</div>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="from_utc_timestamp">
<h2>from_utc_timestamp<a class="headerlink" href="#from_utc_timestamp" title="Permalink to this headline"> </a></h2>
<p>from_utc_timestamp(timestamp, timezone) - Given a timestamp like
‘2017-07-14 02:40:00.0’, interprets it as a time in UTC, and renders
that time as a timestamp in the given time zone. For example, ‘GMT+1’
would yield ‘2017-07-14 03:40:00.0’.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">from_utc_timestamp</span><span class="p">(</span><span class="s1">&#39;2016-08-31&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Asia/Seoul&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2016</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">31</span><span class="w"> </span><span class="mi">09</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
</pre></div>
</div>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="get_json_object">
<h2>get_json_object<a class="headerlink" href="#get_json_object" title="Permalink to this headline"> </a></h2>
<p>get_json_object(json_txt, path) - Extracts a json object from <code class="docutils literal notranslate"><span class="pre">path</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">get_json_object</span><span class="p">(</span><span class="s1">&#39;{&quot;a&quot;:&quot;b&quot;}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;$.a&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">b</span>
</pre></div>
</div>
</div>
<div class="section" id="greatest">
<h2>greatest<a class="headerlink" href="#greatest" title="Permalink to this headline"> </a></h2>
<p>greatest(expr, …) - Returns the greatest value of all parameters,
skipping null values.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">greatest</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="w"> </span><span class="mi">10</span>
</pre></div>
</div>
</div>
<div class="section" id="grouping">
<h2>grouping<a class="headerlink" href="#grouping" title="Permalink to this headline"> </a></h2>
</div>
<div class="section" id="grouping_id">
<h2>grouping_id<a class="headerlink" href="#grouping_id" title="Permalink to this headline"> </a></h2>
</div>
<div class="section" id="hash">
<h2>hash<a class="headerlink" href="#hash" title="Permalink to this headline"> </a></h2>
<p>hash(expr1, expr2, …) - Returns a hash value of the arguments.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">hash</span><span class="p">(</span><span class="s1">&#39;Spark&#39;</span><span class="p">,</span><span class="w"> </span><span class="nb">array</span><span class="p">(</span><span class="mi">123</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w"> </span><span class="o">-</span><span class="mi">1321691492</span>
</pre></div>
</div>
</div>
<div class="section" id="hex">
<h2>hex<a class="headerlink" href="#hex" title="Permalink to this headline"> </a></h2>
<p>hex(expr) - Converts <code class="docutils literal notranslate"><span class="pre">expr</span></code> to hexadecimal.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">hex</span><span class="p">(</span><span class="mi">17</span><span class="p">);</span>
<span class="w"> </span><span class="mi">11</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">hex</span><span class="p">(</span><span class="s1">&#39;Spark SQL&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">537061726</span><span class="n">B2053514C</span>
</pre></div>
</div>
</div>
<div class="section" id="hour">
<h2>hour<a class="headerlink" href="#hour" title="Permalink to this headline"> </a></h2>
<p>hour(timestamp) - Returns the hour component of the string/timestamp.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">hour</span><span class="p">(</span><span class="s1">&#39;2009-07-30 12:58:59&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">12</span>
</pre></div>
</div>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="hypot">
<h2>hypot<a class="headerlink" href="#hypot" title="Permalink to this headline"> </a></h2>
<p>hypot(expr1, expr2) - Returns sqrt(<code class="docutils literal notranslate"><span class="pre">expr1</span></code><strong>2 + <code class="docutils literal notranslate"><span class="pre">expr2</span></code></strong>2).</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">hypot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="w"> </span><span class="mi">5</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="if">
<h2>if<a class="headerlink" href="#if" title="Permalink to this headline"> </a></h2>
<p>if(expr1, expr2, expr3) - If <code class="docutils literal notranslate"><span class="pre">expr1</span></code> evaluates to true, then returns
<code class="docutils literal notranslate"><span class="pre">expr2</span></code>; otherwise returns <code class="docutils literal notranslate"><span class="pre">expr3</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">a</span>
</pre></div>
</div>
</div>
<div class="section" id="ifnull">
<h2>ifnull<a class="headerlink" href="#ifnull" title="Permalink to this headline"> </a></h2>
<p>ifnull(expr1, expr2) - Returns <code class="docutils literal notranslate"><span class="pre">expr2</span></code> if <code class="docutils literal notranslate"><span class="pre">expr1</span></code> is null, or
<code class="docutils literal notranslate"><span class="pre">expr1</span></code> otherwise.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">ifnull</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="nb">array</span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">));</span>
<span class="w"> </span><span class="p">[</span><span class="ss">&quot;2&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="in">
<h2>in<a class="headerlink" href="#in" title="Permalink to this headline"> </a></h2>
<p>expr1 in(expr2, expr3, …) - Returns true if <code class="docutils literal notranslate"><span class="pre">expr</span></code> equals to any
valN.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>expr1, expr2, expr3, … - the arguments must be same type.</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">in</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="w"> </span><span class="k">true</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">in</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="w"> </span><span class="k">false</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">named_struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="p">(</span><span class="n">named_struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">named_struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">));</span>
<span class="w"> </span><span class="k">false</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">named_struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="p">(</span><span class="n">named_struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="n">named_struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">));</span>
<span class="w"> </span><span class="k">true</span>
</pre></div>
</div>
</div>
<div class="section" id="initcap">
<h2>initcap<a class="headerlink" href="#initcap" title="Permalink to this headline"> </a></h2>
<p>initcap(str) - Returns <code class="docutils literal notranslate"><span class="pre">str</span></code> with the first letter of each word in
uppercase. All other letters are in lowercase. Words are delimited by
white space.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">initcap</span><span class="p">(</span><span class="s1">&#39;sPark sql&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">Spark</span><span class="w"> </span><span class="k">Sql</span>
</pre></div>
</div>
</div>
<div class="section" id="inline">
<h2>inline<a class="headerlink" href="#inline" title="Permalink to this headline"> </a></h2>
<p>inline(expr) - Explodes an array of structs into a table.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">inline</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="p">)));</span>
<span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">a</span>
<span class="w"> </span><span class="mi">2</span><span class="w">  </span><span class="n">b</span>
</pre></div>
</div>
</div>
<div class="section" id="inline_outer">
<h2>inline_outer<a class="headerlink" href="#inline_outer" title="Permalink to this headline"> </a></h2>
<p>inline_outer(expr) - Explodes an array of structs into a table.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">inline_outer</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="p">)));</span>
<span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="n">a</span>
<span class="w"> </span><span class="mi">2</span><span class="w">  </span><span class="n">b</span>
</pre></div>
</div>
</div>
<div class="section" id="input_file_block_length">
<h2>input_file_block_length<a class="headerlink" href="#input_file_block_length" title="Permalink to this headline"> </a></h2>
<p>input_file_block_length() - Returns the length of the block being read,
or -1 if not available.</p>
</div>
<div class="section" id="input_file_block_start">
<h2>input_file_block_start<a class="headerlink" href="#input_file_block_start" title="Permalink to this headline"> </a></h2>
<p>input_file_block_start() - Returns the start offset of the block being
read, or -1 if not available.</p>
</div>
<div class="section" id="input_file_name">
<h2>input_file_name<a class="headerlink" href="#input_file_name" title="Permalink to this headline"> </a></h2>
<p>input_file_name() - Returns the name of the file being read, or empty
string if not available.</p>
</div>
<div class="section" id="instr">
<h2>instr<a class="headerlink" href="#instr" title="Permalink to this headline"> </a></h2>
<p>instr(str, substr) - Returns the (1-based) index of the first occurrence
of <code class="docutils literal notranslate"><span class="pre">substr</span></code> in <code class="docutils literal notranslate"><span class="pre">str</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">instr</span><span class="p">(</span><span class="s1">&#39;SparkSQL&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SQL&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">6</span>
</pre></div>
</div>
</div>
<div class="section" id="int">
<h2>int<a class="headerlink" href="#int" title="Permalink to this headline"> </a></h2>
<p>int(expr) - Casts the value <code class="docutils literal notranslate"><span class="pre">expr</span></code> to the target data type <code class="docutils literal notranslate"><span class="pre">int</span></code>.</p>
</div>
<div class="section" id="isnan">
<h2>isnan<a class="headerlink" href="#isnan" title="Permalink to this headline"> </a></h2>
<p>isnan(expr) - Returns true if <code class="docutils literal notranslate"><span class="pre">expr</span></code> is NaN, or false otherwise.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">isnan</span><span class="p">(</span><span class="k">cast</span><span class="p">(</span><span class="s1">&#39;NaN&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">double</span><span class="p">));</span>
<span class="w"> </span><span class="k">true</span>
</pre></div>
</div>
</div>
<div class="section" id="isnotnull">
<h2>isnotnull<a class="headerlink" href="#isnotnull" title="Permalink to this headline"> </a></h2>
<p>isnotnull(expr) - Returns true if <code class="docutils literal notranslate"><span class="pre">expr</span></code> is not null, or false
otherwise.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">isnotnull</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="w"> </span><span class="k">true</span>
</pre></div>
</div>
</div>
<div class="section" id="isnull">
<h2>isnull<a class="headerlink" href="#isnull" title="Permalink to this headline"> </a></h2>
<p>isnull(expr) - Returns true if <code class="docutils literal notranslate"><span class="pre">expr</span></code> is null, or false otherwise.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">isnull</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="w"> </span><span class="k">false</span>
</pre></div>
</div>
</div>
<div class="section" id="java_method">
<h2>java_method<a class="headerlink" href="#java_method" title="Permalink to this headline"> </a></h2>
<p>java_method(class, method[, arg1[, arg2 ..]]) - Calls a method with
reflection.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">java_method</span><span class="p">(</span><span class="s1">&#39;java.util.UUID&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;randomUUID&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">c33fb387</span><span class="o">-</span><span class="mi">8500</span><span class="o">-</span><span class="mi">4</span><span class="n">bfa</span><span class="o">-</span><span class="mi">81</span><span class="n">d2</span><span class="o">-</span><span class="mi">6</span><span class="n">e0e3e930df2</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">java_method</span><span class="p">(</span><span class="s1">&#39;java.util.UUID&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;fromString&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;a5cf6c42-0c85-418f-af6c-3e4e5b1328f2&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">a5cf6c42</span><span class="o">-</span><span class="mi">0</span><span class="n">c85</span><span class="o">-</span><span class="mi">418</span><span class="n">f</span><span class="o">-</span><span class="n">af6c</span><span class="o">-</span><span class="mi">3</span><span class="n">e4e5b1328f2</span>
</pre></div>
</div>
</div>
<div class="section" id="json_tuple">
<h2>json_tuple<a class="headerlink" href="#json_tuple" title="Permalink to this headline"> </a></h2>
<p>json_tuple(jsonStr, p1, p2, …, pn) - Returns a tuple like the function
get_json_object, but it takes multiple names. All the input parameters
and output column types are string.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">json_tuple</span><span class="p">(</span><span class="s1">&#39;{&quot;a&quot;:1, &quot;b&quot;:2}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="section" id="kurtosis">
<h2>kurtosis<a class="headerlink" href="#kurtosis" title="Permalink to this headline"> </a></h2>
<p>kurtosis(expr) - Returns the kurtosis value calculated from values of a
group.</p>
</div>
<div class="section" id="lag">
<h2>lag<a class="headerlink" href="#lag" title="Permalink to this headline"> </a></h2>
<p>lag(input[, offset[, default]]) - Returns the value of <code class="docutils literal notranslate"><span class="pre">input</span></code> at the
<code class="docutils literal notranslate"><span class="pre">offset</span></code>th row before the current row in the window. The default
value of <code class="docutils literal notranslate"><span class="pre">offset</span></code> is 1 and the default value of <code class="docutils literal notranslate"><span class="pre">default</span></code> is null.
If the value of <code class="docutils literal notranslate"><span class="pre">input</span></code> at the <code class="docutils literal notranslate"><span class="pre">offset</span></code>th row is null, null is
returned. If there is no such offset row (e.g., when the offset is 1,
the first row of the window does not have any previous row), <code class="docutils literal notranslate"><span class="pre">default</span></code>
is returned.</p>
</div>
<div class="section" id="last">
<h2>last<a class="headerlink" href="#last" title="Permalink to this headline"> </a></h2>
<p>last(expr[, isIgnoreNull]) - Returns the last value of <code class="docutils literal notranslate"><span class="pre">expr</span></code> for a
group of rows. If <code class="docutils literal notranslate"><span class="pre">isIgnoreNull</span></code> is true, returns only non-null
values.</p>
</div>
<div class="section" id="last_day">
<h2>last_day<a class="headerlink" href="#last_day" title="Permalink to this headline"> </a></h2>
<p>last_day(date) - Returns the last day of the month which the date
belongs to.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">last_day</span><span class="p">(</span><span class="s1">&#39;2009-01-12&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2009</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">31</span>
</pre></div>
</div>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="last_value">
<h2>last_value<a class="headerlink" href="#last_value" title="Permalink to this headline"> </a></h2>
<p>last_value(expr[, isIgnoreNull]) - Returns the last value of <code class="docutils literal notranslate"><span class="pre">expr</span></code>
for a group of rows. If <code class="docutils literal notranslate"><span class="pre">isIgnoreNull</span></code> is true, returns only non-null
values.</p>
</div>
<div class="section" id="lcase">
<h2>lcase<a class="headerlink" href="#lcase" title="Permalink to this headline"> </a></h2>
<p>lcase(str) - Returns <code class="docutils literal notranslate"><span class="pre">str</span></code> with all characters changed to lowercase.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">lcase</span><span class="p">(</span><span class="s1">&#39;SparkSql&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">sparksql</span>
</pre></div>
</div>
</div>
<div class="section" id="lead">
<h2>lead<a class="headerlink" href="#lead" title="Permalink to this headline"> </a></h2>
<p>lead(input[, offset[, default]]) - Returns the value of <code class="docutils literal notranslate"><span class="pre">input</span></code> at the
<code class="docutils literal notranslate"><span class="pre">offset</span></code>th row after the current row in the window. The default
value of <code class="docutils literal notranslate"><span class="pre">offset</span></code> is 1 and the default value of <code class="docutils literal notranslate"><span class="pre">default</span></code> is null.
If the value of <code class="docutils literal notranslate"><span class="pre">input</span></code> at the <code class="docutils literal notranslate"><span class="pre">offset</span></code>th row is null, null is
returned. If there is no such an offset row (e.g., when the offset is 1,
the last row of the window does not have any subsequent row),
<code class="docutils literal notranslate"><span class="pre">default</span></code> is returned.</p>
</div>
<div class="section" id="least">
<h2>least<a class="headerlink" href="#least" title="Permalink to this headline"> </a></h2>
<p>least(expr, …) - Returns the least value of all parameters, skipping
null values.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">least</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="section" id="left">
<h2>left<a class="headerlink" href="#left" title="Permalink to this headline"> </a></h2>
<p>left(str, len) - Returns the leftmost <code class="docutils literal notranslate"><span class="pre">len</span></code>(<code class="docutils literal notranslate"><span class="pre">len</span></code> can be string
type) characters from the string <code class="docutils literal notranslate"><span class="pre">str</span></code>,if <code class="docutils literal notranslate"><span class="pre">len</span></code> is less or equal
than 0 the result is an empty string.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">left</span><span class="p">(</span><span class="s1">&#39;Spark SQL&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="w"> </span><span class="n">Spa</span>
</pre></div>
</div>
</div>
<div class="section" id="length">
<h2>length<a class="headerlink" href="#length" title="Permalink to this headline"> </a></h2>
<p>length(expr) - Returns the character length of string data or number of
bytes of binary data. The length of string data includes the trailing
spaces. The length of binary data includes binary zeros.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">length</span><span class="p">(</span><span class="s1">&#39;Spark SQL &#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">10</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">CHAR_LENGTH</span><span class="p">(</span><span class="s1">&#39;Spark SQL &#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">10</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">CHARACTER_LENGTH</span><span class="p">(</span><span class="s1">&#39;Spark SQL &#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">10</span>
</pre></div>
</div>
</div>
<div class="section" id="levenshtein">
<h2>levenshtein<a class="headerlink" href="#levenshtein" title="Permalink to this headline"> </a></h2>
<p>levenshtein(str1, str2) - Returns the Levenshtein distance between the
two given strings.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">levenshtein</span><span class="p">(</span><span class="s1">&#39;kitten&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;sitting&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">3</span>
</pre></div>
</div>
</div>
<div class="section" id="like">
<h2>like<a class="headerlink" href="#like" title="Permalink to this headline"> </a></h2>
<p>str like pattern - Returns true if str matches pattern, null if any
arguments are null, false otherwise.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><p>str - a string expression</p></li>
<li><p>pattern - a string expression. The pattern is a string which is
matched literally, with exception to the following special symbols:</p>
<p>_ matches any one character in the input (similar to . in posix
regular expressions)</p>
<p>% matches zero or more characters in the input (similar to .* in
posix regular expressions)</p>
<p>The escape character is ‘’. If an escape character precedes a
special symbol or another escape character, the following character
is matched literally. It is invalid to escape any other character.</p>
<p>Since Spark 2.0, string literals are unescaped in our SQL parser. For
example, in order to match “abc”, the pattern should be “abc”.</p>
<p>When SQL config ‘spark.sql.parser.escapedStringLiterals’ is enabled,
it fallbacks to Spark 1.6 behavior regarding string literal parsing.
For example, if the config is enabled, the pattern to match “abc”
should be “abc”.</p>
</li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="s1">&#39;%SystemDrive%\Users\John&#39;</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;\%SystemDrive\%\\Users%&#39;</span>
<span class="k">true</span>
</pre></div>
</div>
<p><strong>Note:</strong></p>
<p>Use RLIKE to match with standard regular expressions.</p>
</div>
<div class="section" id="ln">
<h2>ln<a class="headerlink" href="#ln" title="Permalink to this headline"> </a></h2>
<p>ln(expr) - Returns the natural logarithm (base e) of <code class="docutils literal notranslate"><span class="pre">expr</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">ln</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="locate">
<h2>locate<a class="headerlink" href="#locate" title="Permalink to this headline"> </a></h2>
<p>locate(substr, str[, pos]) - Returns the position of the first
occurrence of <code class="docutils literal notranslate"><span class="pre">substr</span></code> in <code class="docutils literal notranslate"><span class="pre">str</span></code> after position <code class="docutils literal notranslate"><span class="pre">pos</span></code>. The given
<code class="docutils literal notranslate"><span class="pre">pos</span></code> and return value are 1-based.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">locate</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;abcbarbar&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">4</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">locate</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;abcbarbar&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="w"> </span><span class="mi">7</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">POSITION</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="s1">&#39;abcbarbar&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">4</span>
</pre></div>
</div>
</div>
<div class="section" id="log">
<h2>log<a class="headerlink" href="#log" title="Permalink to this headline"> </a></h2>
<p>log(base, expr) - Returns the logarithm of <code class="docutils literal notranslate"><span class="pre">expr</span></code> with <code class="docutils literal notranslate"><span class="pre">base</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">log</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="log10">
<h2>log10<a class="headerlink" href="#log10" title="Permalink to this headline"> </a></h2>
<p>log10(expr) - Returns the logarithm of <code class="docutils literal notranslate"><span class="pre">expr</span></code> with base 10.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">log10</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="log1p">
<h2>log1p<a class="headerlink" href="#log1p" title="Permalink to this headline"> </a></h2>
<p>log1p(expr) - Returns log(1 + <code class="docutils literal notranslate"><span class="pre">expr</span></code>).</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">log1p</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="log2">
<h2>log2<a class="headerlink" href="#log2" title="Permalink to this headline"> </a></h2>
<p>log2(expr) - Returns the logarithm of <code class="docutils literal notranslate"><span class="pre">expr</span></code> with base 2.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">log2</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="lower">
<h2>lower<a class="headerlink" href="#lower" title="Permalink to this headline"> </a></h2>
<p>lower(str) - Returns <code class="docutils literal notranslate"><span class="pre">str</span></code> with all characters changed to lowercase.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">lower</span><span class="p">(</span><span class="s1">&#39;SparkSql&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">sparksql</span>
</pre></div>
</div>
</div>
<div class="section" id="lpad">
<h2>lpad<a class="headerlink" href="#lpad" title="Permalink to this headline"> </a></h2>
<p>lpad(str, len, pad) - Returns <code class="docutils literal notranslate"><span class="pre">str</span></code>, left-padded with <code class="docutils literal notranslate"><span class="pre">pad</span></code> to a
length of <code class="docutils literal notranslate"><span class="pre">len</span></code>. If <code class="docutils literal notranslate"><span class="pre">str</span></code> is longer than <code class="docutils literal notranslate"><span class="pre">len</span></code>, the return value
is shortened to <code class="docutils literal notranslate"><span class="pre">len</span></code> characters.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">lpad</span><span class="p">(</span><span class="s1">&#39;hi&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;??&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="o">???</span><span class="n">hi</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">lpad</span><span class="p">(</span><span class="s1">&#39;hi&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;??&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">h</span>
</pre></div>
</div>
</div>
<div class="section" id="ltrim">
<h2>ltrim<a class="headerlink" href="#ltrim" title="Permalink to this headline"> </a></h2>
<p>ltrim(str) - Removes the leading space characters from <code class="docutils literal notranslate"><span class="pre">str</span></code>.</p>
<p>ltrim(trimStr, str) - Removes the leading string contains the characters
from the trim string</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>str - a string expression</p></li>
<li><p>trimStr - the trim string characters to trim, the default value is a
single space</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">ltrim</span><span class="p">(</span><span class="s1">&#39;    SparkSQL   &#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">SparkSQL</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">ltrim</span><span class="p">(</span><span class="s1">&#39;Sp&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SSparkSQLS&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">arkSQLS</span>
</pre></div>
</div>
</div>
<div class="section" id="map">
<h2>map<a class="headerlink" href="#map" title="Permalink to this headline"> </a></h2>
<p>map(key0, value0, key1, value1, …) - Creates a map with the given
key/value pairs.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">map</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;4&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="p">{</span><span class="mf">1.0</span><span class="p">:</span><span class="s2">&quot;2&quot;</span><span class="p">,</span><span class="mf">3.0</span><span class="p">:</span><span class="s2">&quot;4&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="map_concat">
<h2>map_concat<a class="headerlink" href="#map_concat" title="Permalink to this headline"> </a></h2>
<p>map_concat(map, …) - Returns the union of all the given maps</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">map_concat</span><span class="p">(</span><span class="k">map</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="p">),</span><span class="w"> </span><span class="k">map</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;d&#39;</span><span class="p">));</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="mi">2</span><span class="p">:</span><span class="s2">&quot;c&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p">:</span><span class="s2">&quot;d&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="map_from_arrays">
<h2>map_from_arrays<a class="headerlink" href="#map_from_arrays" title="Permalink to this headline"> </a></h2>
<p>map_from_arrays(keys, values) - Creates a map with a pair of the given
key/value arrays. All elements in keys should not be null</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">map_from_arrays</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="nb">array</span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;4&#39;</span><span class="p">));</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="p">{</span><span class="mf">1.0</span><span class="p">:</span><span class="s2">&quot;2&quot;</span><span class="p">,</span><span class="mf">3.0</span><span class="p">:</span><span class="s2">&quot;4&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="map_from_entries">
<h2>map_from_entries<a class="headerlink" href="#map_from_entries" title="Permalink to this headline"> </a></h2>
<p>map_from_entries(arrayOfEntries) - Returns a map created from the given
array of entries.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">map_from_entries</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="p">)));</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="mi">2</span><span class="p">:</span><span class="s2">&quot;b&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="map_keys">
<h2>map_keys<a class="headerlink" href="#map_keys" title="Permalink to this headline"> </a></h2>
<p>map_keys(map) - Returns an unordered array containing the keys of the
map.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">map_keys</span><span class="p">(</span><span class="k">map</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="p">));</span>
<span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="map_values">
<h2>map_values<a class="headerlink" href="#map_values" title="Permalink to this headline"> </a></h2>
<p>map_values(map) - Returns an unordered array containing the values of
the map.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">map_values</span><span class="p">(</span><span class="k">map</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="p">));</span>
<span class="w"> </span><span class="p">[</span><span class="ss">&quot;a&quot;</span><span class="p">,</span><span class="ss">&quot;b&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="max">
<h2>max<a class="headerlink" href="#max" title="Permalink to this headline"> </a></h2>
<p>max(expr) - Returns the maximum value of <code class="docutils literal notranslate"><span class="pre">expr</span></code>.</p>
</div>
<div class="section" id="md5">
<h2>md5<a class="headerlink" href="#md5" title="Permalink to this headline"> </a></h2>
<p>md5(expr) - Returns an MD5 128-bit checksum as a hex string of <code class="docutils literal notranslate"><span class="pre">expr</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">md5</span><span class="p">(</span><span class="s1">&#39;Spark&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">8</span><span class="n">cde774d6f7333752ed72cacddb05126</span>
</pre></div>
</div>
</div>
<div class="section" id="mean">
<h2>mean<a class="headerlink" href="#mean" title="Permalink to this headline"> </a></h2>
<p>mean(expr) - Returns the mean calculated from values of a group.</p>
</div>
<div class="section" id="min">
<h2>min<a class="headerlink" href="#min" title="Permalink to this headline"> </a></h2>
<p>min(expr) - Returns the minimum value of <code class="docutils literal notranslate"><span class="pre">expr</span></code>.</p>
</div>
<div class="section" id="minute">
<h2>minute<a class="headerlink" href="#minute" title="Permalink to this headline"> </a></h2>
<p>minute(timestamp) - Returns the minute component of the
string/timestamp.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">minute</span><span class="p">(</span><span class="s1">&#39;2009-07-30 12:58:59&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">58</span>
</pre></div>
</div>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="mod">
<h2>mod<a class="headerlink" href="#mod" title="Permalink to this headline"> </a></h2>
<p>expr1 mod expr2 - Returns the remainder after <code class="docutils literal notranslate"><span class="pre">expr1</span></code>/<code class="docutils literal notranslate"><span class="pre">expr2</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">mod</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">8</span><span class="p">;</span>
<span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">2</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">MOD</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">8</span><span class="p">);</span>
<span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="section" id="monotonically_increasing_id">
<h2>monotonically_increasing_id<a class="headerlink" href="#monotonically_increasing_id" title="Permalink to this headline"> </a></h2>
<p>monotonically_increasing_id() - Returns monotonically increasing 64-bit
integers. The generated ID is guaranteed to be monotonically increasing
and unique, but not consecutive. The current implementation puts the
partition ID in the upper 31 bits, and the lower 33 bits represent the
record number within each partition. The assumption is that the data
frame has less than 1 billion partitions, and each partition has less
than 8 billion records. The function is non-deterministic because its
result depends on partition IDs.</p>
</div>
<div class="section" id="month">
<h2>month<a class="headerlink" href="#month" title="Permalink to this headline"> </a></h2>
<p>month(date) - Returns the month component of the date/timestamp.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">month</span><span class="p">(</span><span class="s1">&#39;2016-07-30&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">7</span>
</pre></div>
</div>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="months_between">
<h2>months_between<a class="headerlink" href="#months_between" title="Permalink to this headline"> </a></h2>
<p>months_between(timestamp1, timestamp2[, roundOff]) - If <code class="docutils literal notranslate"><span class="pre">timestamp1</span></code>
is later than <code class="docutils literal notranslate"><span class="pre">timestamp2</span></code>, then the result is positive. If
<code class="docutils literal notranslate"><span class="pre">timestamp1</span></code> and <code class="docutils literal notranslate"><span class="pre">timestamp2</span></code> are on the same day of month, or both
are the last day of month, time of day will be ignored. Otherwise, the
difference is calculated based on 31 days per month, and rounded to 8
digits unless roundOff=false.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">months_between</span><span class="p">(</span><span class="s1">&#39;1997-02-28 10:30:00&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1996-10-30&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">3</span><span class="p">.</span><span class="mi">94959677</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">months_between</span><span class="p">(</span><span class="s1">&#39;1997-02-28 10:30:00&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1996-10-30&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">);</span>
<span class="w"> </span><span class="mi">3</span><span class="p">.</span><span class="mi">9495967741935485</span>
</pre></div>
</div>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="named_struct">
<h2>named_struct<a class="headerlink" href="#named_struct" title="Permalink to this headline"> </a></h2>
<p>named_struct(name1, val1, name2, val2, …) - Creates a struct with the
given field names and values.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">named_struct</span><span class="p">(</span><span class="ss">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;b&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;c&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;b&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="s2">&quot;c&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="nanvl">
<h2>nanvl<a class="headerlink" href="#nanvl" title="Permalink to this headline"> </a></h2>
<p>nanvl(expr1, expr2) - Returns <code class="docutils literal notranslate"><span class="pre">expr1</span></code> if it’s not NaN, or <code class="docutils literal notranslate"><span class="pre">expr2</span></code>
otherwise.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">nanvl</span><span class="p">(</span><span class="k">cast</span><span class="p">(</span><span class="s1">&#39;NaN&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">double</span><span class="p">),</span><span class="w"> </span><span class="mi">123</span><span class="p">);</span>
<span class="w"> </span><span class="mi">123</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="negative">
<h2>negative<a class="headerlink" href="#negative" title="Permalink to this headline"> </a></h2>
<p>negative(expr) - Returns the negated value of <code class="docutils literal notranslate"><span class="pre">expr</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">negative</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="w"> </span><span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="next_day">
<h2>next_day<a class="headerlink" href="#next_day" title="Permalink to this headline"> </a></h2>
<p>next_day(start_date, day_of_week) - Returns the first date which is
later than <code class="docutils literal notranslate"><span class="pre">start_date</span></code> and named as indicated.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">next_day</span><span class="p">(</span><span class="s1">&#39;2015-01-14&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;TU&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">20</span>
</pre></div>
</div>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="not">
<h2>not<a class="headerlink" href="#not" title="Permalink to this headline"> </a></h2>
<p>not expr - Logical not.</p>
</div>
<div class="section" id="now">
<h2>now<a class="headerlink" href="#now" title="Permalink to this headline"> </a></h2>
<p>now() - Returns the current timestamp at the start of query evaluation.</p>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="ntile">
<h2>ntile<a class="headerlink" href="#ntile" title="Permalink to this headline"> </a></h2>
<p>ntile(n) - Divides the rows for each window partition into <code class="docutils literal notranslate"><span class="pre">n</span></code> buckets
ranging from 1 to at most <code class="docutils literal notranslate"><span class="pre">n</span></code>.</p>
</div>
<div class="section" id="nullif">
<h2>nullif<a class="headerlink" href="#nullif" title="Permalink to this headline"> </a></h2>
<p>nullif(expr1, expr2) - Returns null if <code class="docutils literal notranslate"><span class="pre">expr1</span></code> equals to <code class="docutils literal notranslate"><span class="pre">expr2</span></code>, or
<code class="docutils literal notranslate"><span class="pre">expr1</span></code> otherwise.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">nullif</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w"> </span><span class="k">NULL</span>
</pre></div>
</div>
</div>
<div class="section" id="nvl">
<h2>nvl<a class="headerlink" href="#nvl" title="Permalink to this headline"> </a></h2>
<p>nvl(expr1, expr2) - Returns <code class="docutils literal notranslate"><span class="pre">expr2</span></code> if <code class="docutils literal notranslate"><span class="pre">expr1</span></code> is null, or <code class="docutils literal notranslate"><span class="pre">expr1</span></code>
otherwise.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">nvl</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="nb">array</span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">));</span>
<span class="w"> </span><span class="p">[</span><span class="ss">&quot;2&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="nvl2">
<h2>nvl2<a class="headerlink" href="#nvl2" title="Permalink to this headline"> </a></h2>
<p>nvl2(expr1, expr2, expr3) - Returns <code class="docutils literal notranslate"><span class="pre">expr2</span></code> if <code class="docutils literal notranslate"><span class="pre">expr1</span></code> is not null,
or <code class="docutils literal notranslate"><span class="pre">expr3</span></code> otherwise.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">nvl2</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w"> </span><span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="octet_length">
<h2>octet_length<a class="headerlink" href="#octet_length" title="Permalink to this headline"> </a></h2>
<p>octet_length(expr) - Returns the byte length of string data or number of
bytes of binary data.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">octet_length</span><span class="p">(</span><span class="s1">&#39;Spark SQL&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">9</span>
</pre></div>
</div>
</div>
<div class="section" id="or">
<h2>or<a class="headerlink" href="#or" title="Permalink to this headline"> </a></h2>
<p>expr1 or expr2 - Logical OR.</p>
</div>
<div class="section" id="parse_url">
<h2>parse_url<a class="headerlink" href="#parse_url" title="Permalink to this headline"> </a></h2>
<p>parse_url(url, partToExtract[, key]) - Extracts a part from a URL.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">parse_url</span><span class="p">(</span><span class="s1">&#39;https://spark.apache.org/path?query=1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HOST&#39;</span><span class="p">)</span>
<span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">org</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">parse_url</span><span class="p">(</span><span class="s1">&#39;https://spark.apache.org/path?query=1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;QUERY&#39;</span><span class="p">)</span>
<span class="w"> </span><span class="n">query</span><span class="o">=</span><span class="mi">1</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">parse_url</span><span class="p">(</span><span class="s1">&#39;https://spark.apache.org/path?query=1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;QUERY&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;query&#39;</span><span class="p">)</span>
<span class="w"> </span><span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="percent_rank">
<h2>percent_rank<a class="headerlink" href="#percent_rank" title="Permalink to this headline"> </a></h2>
<p>percent_rank() - Computes the percentage ranking of a value in a group
of values.</p>
</div>
<div class="section" id="percentile">
<h2>percentile<a class="headerlink" href="#percentile" title="Permalink to this headline"> </a></h2>
<p>percentile(col, percentage [, frequency]) - Returns the exact percentile
value of numeric column <code class="docutils literal notranslate"><span class="pre">col</span></code> at the given percentage. The value of
percentage must be between 0.0 and 1.0. The value of frequency should be
positive integral</p>
<p>percentile(col, array(percentage1 [, percentage2]…) [, frequency]) -
Returns the exact percentile value array of numeric column <code class="docutils literal notranslate"><span class="pre">col</span></code> at
the given percentage(s). Each value of the percentage array must be
between 0.0 and 1.0. The value of frequency should be positive integral</p>
</div>
<div class="section" id="percentile_approx">
<h2>percentile_approx<a class="headerlink" href="#percentile_approx" title="Permalink to this headline"> </a></h2>
<p>percentile_approx(col, percentage [, accuracy]) - Returns the
approximate percentile value of numeric column <code class="docutils literal notranslate"><span class="pre">col</span></code> at the given
percentage. The value of percentage must be between 0.0 and 1.0. The
<code class="docutils literal notranslate"><span class="pre">accuracy</span></code> parameter (default: 10000) is a positive numeric literal
which controls approximation accuracy at the cost of memory. Higher
value of <code class="docutils literal notranslate"><span class="pre">accuracy</span></code> yields better accuracy, <code class="docutils literal notranslate"><span class="pre">1.0/accuracy</span></code> is the
relative error of the approximation. When <code class="docutils literal notranslate"><span class="pre">percentage</span></code> is an array,
each value of the percentage array must be between 0.0 and 1.0. In this
case, returns the approximate percentile array of column <code class="docutils literal notranslate"><span class="pre">col</span></code> at the
given percentage array.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">percentile_approx</span><span class="p">(</span><span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nb">array</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<span class="w"> </span><span class="p">[</span><span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="p">]</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">percentile_approx</span><span class="p">(</span><span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<span class="w"> </span><span class="mi">10</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="pi">
<h2>pi<a class="headerlink" href="#pi" title="Permalink to this headline"> </a></h2>
<p>pi() - Returns pi.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">pi</span><span class="p">();</span>
<span class="w"> </span><span class="mi">3</span><span class="p">.</span><span class="mi">141592653589793</span>
</pre></div>
</div>
</div>
<div class="section" id="pmod">
<h2>pmod<a class="headerlink" href="#pmod" title="Permalink to this headline"> </a></h2>
<p>pmod(expr1, expr2) - Returns the positive value of <code class="docutils literal notranslate"><span class="pre">expr1</span></code> mod
<code class="docutils literal notranslate"><span class="pre">expr2</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">pmod</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="w"> </span><span class="mi">1</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">pmod</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="section" id="posexplode">
<h2>posexplode<a class="headerlink" href="#posexplode" title="Permalink to this headline"> </a></h2>
<p>posexplode(expr) - Separates the elements of array <code class="docutils literal notranslate"><span class="pre">expr</span></code> into
multiple rows with positions, or the elements of map <code class="docutils literal notranslate"><span class="pre">expr</span></code> into
multiple rows and columns with positions.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">posexplode</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">));</span>
<span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="mi">10</span>
<span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="mi">20</span>
</pre></div>
</div>
</div>
<div class="section" id="posexplode_outer">
<h2>posexplode_outer<a class="headerlink" href="#posexplode_outer" title="Permalink to this headline"> </a></h2>
<p>posexplode_outer(expr) - Separates the elements of array <code class="docutils literal notranslate"><span class="pre">expr</span></code> into
multiple rows with positions, or the elements of map <code class="docutils literal notranslate"><span class="pre">expr</span></code> into
multiple rows and columns with positions.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">posexplode_outer</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">));</span>
<span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="mi">10</span>
<span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="mi">20</span>
</pre></div>
</div>
</div>
<div class="section" id="position">
<h2>position<a class="headerlink" href="#position" title="Permalink to this headline"> </a></h2>
<p>position(substr, str[, pos]) - Returns the position of the first
occurrence of <code class="docutils literal notranslate"><span class="pre">substr</span></code> in <code class="docutils literal notranslate"><span class="pre">str</span></code> after position <code class="docutils literal notranslate"><span class="pre">pos</span></code>. The given
<code class="docutils literal notranslate"><span class="pre">pos</span></code> and return value are 1-based.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">position</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;abcbarbar&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">4</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">position</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;abcbarbar&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="w"> </span><span class="mi">7</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">POSITION</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="s1">&#39;abcbarbar&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">4</span>
</pre></div>
</div>
</div>
<div class="section" id="positive">
<h2>positive<a class="headerlink" href="#positive" title="Permalink to this headline"> </a></h2>
<p>positive(expr) - Returns the value of <code class="docutils literal notranslate"><span class="pre">expr</span></code>.</p>
</div>
<div class="section" id="pow">
<h2>pow<a class="headerlink" href="#pow" title="Permalink to this headline"> </a></h2>
<p>pow(expr1, expr2) - Raises <code class="docutils literal notranslate"><span class="pre">expr1</span></code> to the power of <code class="docutils literal notranslate"><span class="pre">expr2</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="w"> </span><span class="mi">8</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="power">
<h2>power<a class="headerlink" href="#power" title="Permalink to this headline"> </a></h2>
<p>power(expr1, expr2) - Raises <code class="docutils literal notranslate"><span class="pre">expr1</span></code> to the power of <code class="docutils literal notranslate"><span class="pre">expr2</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">power</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="w"> </span><span class="mi">8</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="printf">
<h2>printf<a class="headerlink" href="#printf" title="Permalink to this headline"> </a></h2>
<p>printf(strfmt, obj, …) - Returns a formatted string from printf-style
format strings.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">printf</span><span class="p">(</span><span class="ss">&quot;Hello World %d %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;days&quot;</span><span class="p">);</span>
<span class="w"> </span><span class="n">Hello</span><span class="w"> </span><span class="n">World</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="n">days</span>
</pre></div>
</div>
</div>
<div class="section" id="quarter">
<h2>quarter<a class="headerlink" href="#quarter" title="Permalink to this headline"> </a></h2>
<p>quarter(date) - Returns the quarter of the year for date, in the range 1
to 4.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">quarter</span><span class="p">(</span><span class="s1">&#39;2016-08-31&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">3</span>
</pre></div>
</div>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="radians">
<h2>radians<a class="headerlink" href="#radians" title="Permalink to this headline"> </a></h2>
<p>radians(expr) - Converts degrees to radians.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>expr - angle in degrees</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">radians</span><span class="p">(</span><span class="mi">180</span><span class="p">);</span>
<span class="w"> </span><span class="mi">3</span><span class="p">.</span><span class="mi">141592653589793</span>
</pre></div>
</div>
</div>
<div class="section" id="rand">
<h2>rand<a class="headerlink" href="#rand" title="Permalink to this headline"> </a></h2>
<p>rand([seed]) - Returns a random value with independent and identically
distributed (i.i.d.) uniformly distributed values in [0, 1).</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">rand</span><span class="p">();</span>
<span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">9629742951434543</span>
<span class="w">  </span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">rand</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">8446490682263027</span>
<span class="w">  </span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">rand</span><span class="p">(</span><span class="k">null</span><span class="p">);</span>
<span class="w">   </span><span class="mi">0</span><span class="p">.</span><span class="mi">8446490682263027</span>
<span class="k">function</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="k">deterministic</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">general</span><span class="w"> </span><span class="k">case</span><span class="p">.</span>
</pre></div>
</div>
</div>
<div class="section" id="randn">
<h2>randn<a class="headerlink" href="#randn" title="Permalink to this headline"> </a></h2>
<p>randn([seed]) - Returns a random value with independent and identically
distributed (i.i.d.) values drawn from the standard normal distribution.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">randn</span><span class="p">();</span>
<span class="w">   </span><span class="o">-</span><span class="mi">0</span><span class="p">.</span><span class="mi">3254147983080288</span>
<span class="w">  </span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">randn</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w">   </span><span class="mi">1</span><span class="p">.</span><span class="mi">1164209726833079</span>
<span class="w">  </span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">randn</span><span class="p">(</span><span class="k">null</span><span class="p">);</span>
<span class="w">   </span><span class="mi">1</span><span class="p">.</span><span class="mi">1164209726833079</span>
<span class="k">function</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="k">deterministic</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">general</span><span class="w"> </span><span class="k">case</span><span class="p">.</span>
</pre></div>
</div>
</div>
<div class="section" id="rank">
<h2>rank<a class="headerlink" href="#rank" title="Permalink to this headline"> </a></h2>
<p>rank() - Computes the rank of a value in a group of values. The result
is one plus the number of rows preceding or equal to the current row in
the ordering of the partition. The values will produce gaps in the
sequence.</p>
</div>
<div class="section" id="reflect">
<h2>reflect<a class="headerlink" href="#reflect" title="Permalink to this headline"> </a></h2>
<p>reflect(class, method[, arg1[, arg2 ..]]) - Calls a method with
reflection.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">reflect</span><span class="p">(</span><span class="s1">&#39;java.util.UUID&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;randomUUID&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">c33fb387</span><span class="o">-</span><span class="mi">8500</span><span class="o">-</span><span class="mi">4</span><span class="n">bfa</span><span class="o">-</span><span class="mi">81</span><span class="n">d2</span><span class="o">-</span><span class="mi">6</span><span class="n">e0e3e930df2</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">reflect</span><span class="p">(</span><span class="s1">&#39;java.util.UUID&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;fromString&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;a5cf6c42-0c85-418f-af6c-3e4e5b1328f2&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">a5cf6c42</span><span class="o">-</span><span class="mi">0</span><span class="n">c85</span><span class="o">-</span><span class="mi">418</span><span class="n">f</span><span class="o">-</span><span class="n">af6c</span><span class="o">-</span><span class="mi">3</span><span class="n">e4e5b1328f2</span>
</pre></div>
</div>
</div>
<div class="section" id="regexp_extract">
<h2>regexp_extract<a class="headerlink" href="#regexp_extract" title="Permalink to this headline"> </a></h2>
<p>regexp_extract(str, regexp[, idx]) - Extracts a group that matches
<code class="docutils literal notranslate"><span class="pre">regexp</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">regexp_extract</span><span class="p">(</span><span class="s1">&#39;100-200&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(\\d+)-(\\d+)&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w"> </span><span class="mi">100</span>
</pre></div>
</div>
</div>
<div class="section" id="regexp_replace">
<h2>regexp_replace<a class="headerlink" href="#regexp_replace" title="Permalink to this headline"> </a></h2>
<p>regexp_replace(str, regexp, rep) - Replaces all substrings of <code class="docutils literal notranslate"><span class="pre">str</span></code>
that match <code class="docutils literal notranslate"><span class="pre">regexp</span></code> with <code class="docutils literal notranslate"><span class="pre">rep</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">regexp_replace</span><span class="p">(</span><span class="s1">&#39;100-200&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(\\d+)&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;num&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">num</span><span class="o">-</span><span class="n">num</span>
</pre></div>
</div>
</div>
<div class="section" id="repeat">
<h2>repeat<a class="headerlink" href="#repeat" title="Permalink to this headline"> </a></h2>
<p>repeat(str, n) - Returns the string which repeats the given string value
n times.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">repeat</span><span class="p">(</span><span class="s1">&#39;123&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w"> </span><span class="mi">123123</span>
</pre></div>
</div>
</div>
<div class="section" id="replace">
<h2>replace<a class="headerlink" href="#replace" title="Permalink to this headline"> </a></h2>
<p>replace(str, search[, replace]) - Replaces all occurrences of <code class="docutils literal notranslate"><span class="pre">search</span></code>
with <code class="docutils literal notranslate"><span class="pre">replace</span></code>.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>str - a string expression</p></li>
<li><p>search - a string expression. If <code class="docutils literal notranslate"><span class="pre">search</span></code> is not found in <code class="docutils literal notranslate"><span class="pre">str</span></code>,
<code class="docutils literal notranslate"><span class="pre">str</span></code> is returned unchanged.</p></li>
<li><p>replace - a string expression. If <code class="docutils literal notranslate"><span class="pre">replace</span></code> is not specified or is
an empty string, nothing replaces the string that is removed from
<code class="docutils literal notranslate"><span class="pre">str</span></code>.</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">replace</span><span class="p">(</span><span class="s1">&#39;ABCabc&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;abc&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;DEF&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">ABCDEF</span>
</pre></div>
</div>
</div>
<div class="section" id="reverse">
<h2>reverse<a class="headerlink" href="#reverse" title="Permalink to this headline"> </a></h2>
<p>reverse(array) - Returns a reversed string or an array with reverse
order of elements.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;Spark SQL&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">LQS</span><span class="w"> </span><span class="n">krapS</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">reverse</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">));</span>
<span class="w"> </span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
<p>rse logic for arrays is available since 2.4.0. <strong>Since:</strong>
1.5.0</p>
</div>
<div class="section" id="right">
<h2>right<a class="headerlink" href="#right" title="Permalink to this headline"> </a></h2>
<p>right(str, len) - Returns the rightmost <code class="docutils literal notranslate"><span class="pre">len</span></code>(<code class="docutils literal notranslate"><span class="pre">len</span></code> can be string
type) characters from the string <code class="docutils literal notranslate"><span class="pre">str</span></code>,if <code class="docutils literal notranslate"><span class="pre">len</span></code> is less or equal
than 0 the result is an empty string.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">right</span><span class="p">(</span><span class="s1">&#39;Spark SQL&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="w"> </span><span class="k">SQL</span>
</pre></div>
</div>
</div>
<div class="section" id="rint">
<h2>rint<a class="headerlink" href="#rint" title="Permalink to this headline"> </a></h2>
<p>rint(expr) - Returns the double value that is closest in value to the
argument and is equal to a mathematical integer.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">rint</span><span class="p">(</span><span class="mi">12</span><span class="p">.</span><span class="mi">3456</span><span class="p">);</span>
<span class="w"> </span><span class="mi">12</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="rlike">
<h2>rlike<a class="headerlink" href="#rlike" title="Permalink to this headline"> </a></h2>
<p>str rlike regexp - Returns true if <code class="docutils literal notranslate"><span class="pre">str</span></code> matches <code class="docutils literal notranslate"><span class="pre">regexp</span></code>, or false
otherwise.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><p>str - a string expression</p></li>
<li><p>regexp - a string expression. The pattern string should be a Java
regular expression.</p>
<p>Since Spark 2.0, string literals (including regex patterns) are
unescaped in our SQL parser. For example, to match “abc”, a regular
expression for <code class="docutils literal notranslate"><span class="pre">regexp</span></code> can be “^abc$”.</p>
<p>There is a SQL config ‘spark.sql.parser.escapedStringLiterals’ that
can be used to fallback to the Spark 1.6 behavior regarding string
literal parsing. For example, if the config is enabled, the
<code class="docutils literal notranslate"><span class="pre">regexp</span></code> that can match “abc” is “^abc$”.</p>
</li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">When</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="k">sql</span><span class="p">.</span><span class="n">parser</span><span class="p">.</span><span class="n">escapedStringLiterals</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">disabled</span><span class="w"> </span><span class="p">(</span><span class="k">default</span><span class="p">).</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="s1">&#39;%SystemDrive%\Users\John&#39;</span><span class="w"> </span><span class="n">rlike</span><span class="w"> </span><span class="s1">&#39;%SystemDrive%\\Users.*&#39;</span>
<span class="k">true</span>

<span class="k">When</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="k">sql</span><span class="p">.</span><span class="n">parser</span><span class="p">.</span><span class="n">escapedStringLiterals</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">enabled</span><span class="p">.</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="s1">&#39;%SystemDrive%\Users\John&#39;</span><span class="w"> </span><span class="n">rlike</span><span class="w"> </span><span class="s1">&#39;%SystemDrive%\Users.*&#39;</span>
<span class="k">true</span>
</pre></div>
</div>
<p><strong>Note:</strong></p>
<p>Use LIKE to match with simple string pattern.</p>
</div>
<div class="section" id="rollup">
<h2>rollup<a class="headerlink" href="#rollup" title="Permalink to this headline"> </a></h2>
</div>
<div class="section" id="round">
<h2>round<a class="headerlink" href="#round" title="Permalink to this headline"> </a></h2>
<p>round(expr, d) - Returns <code class="docutils literal notranslate"><span class="pre">expr</span></code> rounded to <code class="docutils literal notranslate"><span class="pre">d</span></code> decimal places using
HALF_UP rounding mode.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w"> </span><span class="mi">3</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="row_number">
<h2>row_number<a class="headerlink" href="#row_number" title="Permalink to this headline"> </a></h2>
<p>row_number() - Assigns a unique, sequential number to each row, starting
with one, according to the ordering of rows within the window partition.</p>
</div>
<div class="section" id="rpad">
<h2>rpad<a class="headerlink" href="#rpad" title="Permalink to this headline"> </a></h2>
<p>rpad(str, len, pad) - Returns <code class="docutils literal notranslate"><span class="pre">str</span></code>, right-padded with <code class="docutils literal notranslate"><span class="pre">pad</span></code> to a
length of <code class="docutils literal notranslate"><span class="pre">len</span></code>. If <code class="docutils literal notranslate"><span class="pre">str</span></code> is longer than <code class="docutils literal notranslate"><span class="pre">len</span></code>, the return value
is shortened to <code class="docutils literal notranslate"><span class="pre">len</span></code> characters.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">rpad</span><span class="p">(</span><span class="s1">&#39;hi&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;??&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">hi</span><span class="o">???</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">rpad</span><span class="p">(</span><span class="s1">&#39;hi&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;??&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">h</span>
</pre></div>
</div>
</div>
<div class="section" id="rtrim">
<h2>rtrim<a class="headerlink" href="#rtrim" title="Permalink to this headline"> </a></h2>
<p>rtrim(str) - Removes the trailing space characters from <code class="docutils literal notranslate"><span class="pre">str</span></code>.</p>
<p>rtrim(trimStr, str) - Removes the trailing string which contains the
characters from the trim string from the <code class="docutils literal notranslate"><span class="pre">str</span></code></p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>str - a string expression</p></li>
<li><p>trimStr - the trim string characters to trim, the default value is a
single space</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">rtrim</span><span class="p">(</span><span class="s1">&#39;    SparkSQL   &#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">SparkSQL</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">rtrim</span><span class="p">(</span><span class="s1">&#39;LQSa&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SSparkSQLS&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">SSpark</span>
</pre></div>
</div>
</div>
<div class="section" id="schema_of_json">
<h2>schema_of_json<a class="headerlink" href="#schema_of_json" title="Permalink to this headline"> </a></h2>
<p>schema_of_json(json[, options]) - Returns schema in the DDL format of
JSON string.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">schema_of_json</span><span class="p">(</span><span class="s1">&#39;[{&quot;col&quot;:0}]&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="nb">array</span><span class="o">&lt;</span><span class="n">struct</span><span class="o">&lt;</span><span class="n">col</span><span class="p">:</span><span class="nb">int</span><span class="o">&gt;&gt;</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="second">
<h2>second<a class="headerlink" href="#second" title="Permalink to this headline"> </a></h2>
<p>second(timestamp) - Returns the second component of the
string/timestamp.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">second</span><span class="p">(</span><span class="s1">&#39;2009-07-30 12:58:59&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">59</span>
</pre></div>
</div>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="sentences">
<h2>sentences<a class="headerlink" href="#sentences" title="Permalink to this headline"> </a></h2>
<p>sentences(str[, lang, country]) - Splits <code class="docutils literal notranslate"><span class="pre">str</span></code> into an array of array
of words.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">sentences</span><span class="p">(</span><span class="s1">&#39;Hi there! Good morning.&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="p">[[</span><span class="ss">&quot;Hi&quot;</span><span class="p">,</span><span class="ss">&quot;there&quot;</span><span class="p">],[</span><span class="ss">&quot;Good&quot;</span><span class="p">,</span><span class="ss">&quot;morning&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="section" id="sequence">
<h2>sequence<a class="headerlink" href="#sequence" title="Permalink to this headline"> </a></h2>
<p>sequence(start, stop, step) - Generates an array of elements from start
to stop (inclusive), incrementing by step. The type of the returned
elements is the same as the type of argument expressions.</p>
<p>Supported types are: byte, short, integer, long, date, timestamp.</p>
<p>The start and stop expressions must resolve to the same type. If start
and stop expressions resolve to the ‘date’ or ‘timestamp’ type then the
step expression must resolve to the ‘interval’ type, otherwise to the
same type as the start and stop expressions.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>start - an expression. The start of the range.</p></li>
<li><p>stop - an expression. The end the range (inclusive).</p></li>
<li><p>step - an optional expression. The step of the range. By default step
is 1 if start is less than or equal to stop, otherwise -1. For the
temporal sequences it’s 1 day and -1 day respectively. If start is
greater than stop then the step must be negative, and vice versa.</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">sequence</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">sequence</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w"> </span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">sequence</span><span class="p">(</span><span class="n">to_date</span><span class="p">(</span><span class="s1">&#39;2018-01-01&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">to_date</span><span class="p">(</span><span class="s1">&#39;2018-03-01&#39;</span><span class="p">),</span><span class="w"> </span><span class="nb">interval</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">month</span><span class="p">);</span>
<span class="w"> </span><span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="p">,</span><span class="mi">2018</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">01</span><span class="p">,</span><span class="mi">2018</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">01</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="sha">
<h2>sha<a class="headerlink" href="#sha" title="Permalink to this headline"> </a></h2>
<p>sha(expr) - Returns a sha1 hash value as a hex string of the <code class="docutils literal notranslate"><span class="pre">expr</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">sha</span><span class="p">(</span><span class="s1">&#39;Spark&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">85</span><span class="n">f5955f4b27a9a4c2aab6ffe5d7189fc298b92c</span>
</pre></div>
</div>
</div>
<div class="section" id="sha1">
<h2>sha1<a class="headerlink" href="#sha1" title="Permalink to this headline"> </a></h2>
<p>sha1(expr) - Returns a sha1 hash value as a hex string of the <code class="docutils literal notranslate"><span class="pre">expr</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">sha1</span><span class="p">(</span><span class="s1">&#39;Spark&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">85</span><span class="n">f5955f4b27a9a4c2aab6ffe5d7189fc298b92c</span>
</pre></div>
</div>
</div>
<div class="section" id="sha2">
<h2>sha2<a class="headerlink" href="#sha2" title="Permalink to this headline"> </a></h2>
<p>sha2(expr, bitLength) - Returns a checksum of SHA-2 family as a hex
string of <code class="docutils literal notranslate"><span class="pre">expr</span></code>. SHA-224, SHA-256, SHA-384, and SHA-512 are
supported. Bit length of 0 is equivalent to 256.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">sha2</span><span class="p">(</span><span class="s1">&#39;Spark&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">256</span><span class="p">);</span>
<span class="w"> </span><span class="mi">529</span><span class="n">bc3b07127ecb7e53a4dcf1991d9152c24537d919178022b2c42657f79a26b</span>
</pre></div>
</div>
</div>
<div class="section" id="shiftleft">
<h2>shiftleft<a class="headerlink" href="#shiftleft" title="Permalink to this headline"> </a></h2>
<p>shiftleft(base, expr) - Bitwise left shift.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">shiftleft</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w"> </span><span class="mi">4</span>
</pre></div>
</div>
</div>
<div class="section" id="shiftright">
<h2>shiftright<a class="headerlink" href="#shiftright" title="Permalink to this headline"> </a></h2>
<p>shiftright(base, expr) - Bitwise (signed) right shift.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">shiftright</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="section" id="shiftrightunsigned">
<h2>shiftrightunsigned<a class="headerlink" href="#shiftrightunsigned" title="Permalink to this headline"> </a></h2>
<p>shiftrightunsigned(base, expr) - Bitwise unsigned right shift.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">shiftrightunsigned</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="section" id="shuffle">
<h2>shuffle<a class="headerlink" href="#shuffle" title="Permalink to this headline"> </a></h2>
<p>shuffle(array) - Returns a random permutation of the given array.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">shuffle</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">));</span>
<span class="w"> </span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">20</span><span class="p">]</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">shuffle</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">));</span>
<span class="w"> </span><span class="p">[</span><span class="mi">20</span><span class="p">,</span><span class="k">null</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>function is non-deterministic. <strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="sign">
<h2>sign<a class="headerlink" href="#sign" title="Permalink to this headline"> </a></h2>
<p>sign(expr) - Returns -1.0, 0.0 or 1.0 as <code class="docutils literal notranslate"><span class="pre">expr</span></code> is negative, 0 or
positive.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">sign</span><span class="p">(</span><span class="mi">40</span><span class="p">);</span>
<span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="signum">
<h2>signum<a class="headerlink" href="#signum" title="Permalink to this headline"> </a></h2>
<p>signum(expr) - Returns -1.0, 0.0 or 1.0 as <code class="docutils literal notranslate"><span class="pre">expr</span></code> is negative, 0 or
positive.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">signum</span><span class="p">(</span><span class="mi">40</span><span class="p">);</span>
<span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="sin">
<h2>sin<a class="headerlink" href="#sin" title="Permalink to this headline"> </a></h2>
<p>sin(expr) - Returns the sine of <code class="docutils literal notranslate"><span class="pre">expr</span></code>, as if computed by
<code class="docutils literal notranslate"><span class="pre">java.lang.Math.sin</span></code>.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>expr - angle in radians</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">sin</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="sinh">
<h2>sinh<a class="headerlink" href="#sinh" title="Permalink to this headline"> </a></h2>
<p>sinh(expr) - Returns hyperbolic sine of <code class="docutils literal notranslate"><span class="pre">expr</span></code>, as if computed by
<code class="docutils literal notranslate"><span class="pre">java.lang.Math.sinh</span></code>.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>expr - hyperbolic angle</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">sinh</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="size">
<h2>size<a class="headerlink" href="#size" title="Permalink to this headline"> </a></h2>
<p>size(expr) - Returns the size of an array or a map. The function returns
-1 if its input is null and spark.sql.legacy.sizeOfNull is set to true.
If spark.sql.legacy.sizeOfNull is set to false, the function returns
null for null input. By default, the spark.sql.legacy.sizeOfNull
parameter is set to true.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">size</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;d&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">));</span>
<span class="w"> </span><span class="mi">4</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">size</span><span class="p">(</span><span class="k">map</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">));</span>
<span class="w"> </span><span class="mi">2</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">size</span><span class="p">(</span><span class="k">NULL</span><span class="p">);</span>
<span class="w"> </span><span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="skewness">
<h2>skewness<a class="headerlink" href="#skewness" title="Permalink to this headline"> </a></h2>
<p>skewness(expr) - Returns the skewness value calculated from values of a
group.</p>
</div>
<div class="section" id="slice">
<h2>slice<a class="headerlink" href="#slice" title="Permalink to this headline"> </a></h2>
<p>slice(x, start, length) - Subsets array x starting from index start (or
starting from the end if start is negative) with the specified length.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">slice</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">slice</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">),</span><span class="w"> </span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w"> </span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="smallint">
<h2>smallint<a class="headerlink" href="#smallint" title="Permalink to this headline"> </a></h2>
<p>smallint(expr) - Casts the value <code class="docutils literal notranslate"><span class="pre">expr</span></code> to the target data type
<code class="docutils literal notranslate"><span class="pre">smallint</span></code>.</p>
</div>
<div class="section" id="sort_array">
<h2>sort_array<a class="headerlink" href="#sort_array" title="Permalink to this headline"> </a></h2>
<p>sort_array(array[, ascendingOrder]) - Sorts the input array in ascending
or descending order according to the natural ordering of the array
elements. Null elements will be placed at the beginning of the returned
array in ascending order or at the end of the returned array in
descending order.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">sort_array</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;d&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">),</span><span class="w"> </span><span class="k">true</span><span class="p">);</span>
<span class="w"> </span><span class="p">[</span><span class="k">null</span><span class="p">,</span><span class="ss">&quot;a&quot;</span><span class="p">,</span><span class="ss">&quot;b&quot;</span><span class="p">,</span><span class="ss">&quot;c&quot;</span><span class="p">,</span><span class="ss">&quot;d&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="soundex">
<h2>soundex<a class="headerlink" href="#soundex" title="Permalink to this headline"> </a></h2>
<p>soundex(str) - Returns Soundex code of the string.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">soundex</span><span class="p">(</span><span class="s1">&#39;Miller&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">M460</span>
</pre></div>
</div>
</div>
<div class="section" id="space">
<h2>space<a class="headerlink" href="#space" title="Permalink to this headline"> </a></h2>
<p>space(n) - Returns a string consisting of <code class="docutils literal notranslate"><span class="pre">n</span></code> spaces.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">concat</span><span class="p">(</span><span class="k">space</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;1&#39;</span><span class="p">);</span>
<span class="w">   </span><span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="spark_partition_id">
<h2>spark_partition_id<a class="headerlink" href="#spark_partition_id" title="Permalink to this headline"> </a></h2>
<p>spark_partition_id() - Returns the current partition id.</p>
</div>
<div class="section" id="split">
<h2>split<a class="headerlink" href="#split" title="Permalink to this headline"> </a></h2>
<p>split(str, regex) - Splits <code class="docutils literal notranslate"><span class="pre">str</span></code> around occurrences that match
<code class="docutils literal notranslate"><span class="pre">regex</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;oneAtwoBthreeC&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;[ABC]&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="p">[</span><span class="ss">&quot;one&quot;</span><span class="p">,</span><span class="ss">&quot;two&quot;</span><span class="p">,</span><span class="ss">&quot;three&quot;</span><span class="p">,</span><span class="ss">&quot;&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="sqrt">
<h2>sqrt<a class="headerlink" href="#sqrt" title="Permalink to this headline"> </a></h2>
<p>sqrt(expr) - Returns the square root of <code class="docutils literal notranslate"><span class="pre">expr</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">sqrt</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="stack">
<h2>stack<a class="headerlink" href="#stack" title="Permalink to this headline"> </a></h2>
<p>stack(n, expr1, …, exprk) - Separates <code class="docutils literal notranslate"><span class="pre">expr1</span></code>, …, <code class="docutils literal notranslate"><span class="pre">exprk</span></code> into
<code class="docutils literal notranslate"><span class="pre">n</span></code> rows.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">stack</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="mi">2</span>
<span class="w"> </span><span class="mi">3</span><span class="w">  </span><span class="k">NULL</span>
</pre></div>
</div>
</div>
<div class="section" id="std">
<h2>std<a class="headerlink" href="#std" title="Permalink to this headline"> </a></h2>
<p>std(expr) - Returns the sample standard deviation calculated from values
of a group.</p>
</div>
<div class="section" id="stddev">
<h2>stddev<a class="headerlink" href="#stddev" title="Permalink to this headline"> </a></h2>
<p>stddev(expr) - Returns the sample standard deviation calculated from
values of a group.</p>
</div>
<div class="section" id="stddev_pop">
<h2>stddev_pop<a class="headerlink" href="#stddev_pop" title="Permalink to this headline"> </a></h2>
<p>stddev_pop(expr) - Returns the population standard deviation calculated
from values of a group.</p>
</div>
<div class="section" id="stddev_samp">
<h2>stddev_samp<a class="headerlink" href="#stddev_samp" title="Permalink to this headline"> </a></h2>
<p>stddev_samp(expr) - Returns the sample standard deviation calculated
from values of a group.</p>
</div>
<div class="section" id="str_to_map">
<h2>str_to_map<a class="headerlink" href="#str_to_map" title="Permalink to this headline"> </a></h2>
<p>str_to_map(text[, pairDelim[, keyValueDelim]]) - Creates a map after
splitting the text into key/value pairs using delimiters. Default
delimiters are ‘,’ for <code class="docutils literal notranslate"><span class="pre">pairDelim</span></code> and ‘:’ for <code class="docutils literal notranslate"><span class="pre">keyValueDelim</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">str_to_map</span><span class="p">(</span><span class="s1">&#39;a:1,b:2,c:3&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;:&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="k">map</span><span class="p">(</span><span class="ss">&quot;a&quot;</span><span class="p">:</span><span class="ss">&quot;1&quot;</span><span class="p">,</span><span class="ss">&quot;b&quot;</span><span class="p">:</span><span class="ss">&quot;2&quot;</span><span class="p">,</span><span class="ss">&quot;c&quot;</span><span class="p">:</span><span class="ss">&quot;3&quot;</span><span class="p">)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">str_to_map</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="k">map</span><span class="p">(</span><span class="ss">&quot;a&quot;</span><span class="p">:</span><span class="k">null</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="string">
<h2>string<a class="headerlink" href="#string" title="Permalink to this headline"> </a></h2>
<p>string(expr) - Casts the value <code class="docutils literal notranslate"><span class="pre">expr</span></code> to the target data type
<code class="docutils literal notranslate"><span class="pre">string</span></code>.</p>
</div>
<div class="section" id="struct">
<h2>struct<a class="headerlink" href="#struct" title="Permalink to this headline"> </a></h2>
<p>struct(col1, col2, col3, …) - Creates a struct with the given field
values.</p>
</div>
<div class="section" id="substr">
<h2>substr<a class="headerlink" href="#substr" title="Permalink to this headline"> </a></h2>
<p>substr(str, pos[, len]) - Returns the substring of <code class="docutils literal notranslate"><span class="pre">str</span></code> that starts
at <code class="docutils literal notranslate"><span class="pre">pos</span></code> and is of length <code class="docutils literal notranslate"><span class="pre">len</span></code>, or the slice of byte array that
starts at <code class="docutils literal notranslate"><span class="pre">pos</span></code> and is of length <code class="docutils literal notranslate"><span class="pre">len</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">substr</span><span class="p">(</span><span class="s1">&#39;Spark SQL&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="k">SQL</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">substr</span><span class="p">(</span><span class="s1">&#39;Spark SQL&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">3</span><span class="p">);</span>
<span class="w"> </span><span class="k">SQL</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">substr</span><span class="p">(</span><span class="s1">&#39;Spark SQL&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w"> </span><span class="n">k</span>
</pre></div>
</div>
</div>
<div class="section" id="substring">
<h2>substring<a class="headerlink" href="#substring" title="Permalink to this headline"> </a></h2>
<p>substring(str, pos[, len]) - Returns the substring of <code class="docutils literal notranslate"><span class="pre">str</span></code> that
starts at <code class="docutils literal notranslate"><span class="pre">pos</span></code> and is of length <code class="docutils literal notranslate"><span class="pre">len</span></code>, or the slice of byte array
that starts at <code class="docutils literal notranslate"><span class="pre">pos</span></code> and is of length <code class="docutils literal notranslate"><span class="pre">len</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">substring</span><span class="p">(</span><span class="s1">&#39;Spark SQL&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="k">SQL</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">substring</span><span class="p">(</span><span class="s1">&#39;Spark SQL&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">3</span><span class="p">);</span>
<span class="w"> </span><span class="k">SQL</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">substring</span><span class="p">(</span><span class="s1">&#39;Spark SQL&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w"> </span><span class="n">k</span>
</pre></div>
</div>
</div>
<div class="section" id="substring_index">
<h2>substring_index<a class="headerlink" href="#substring_index" title="Permalink to this headline"> </a></h2>
<p>substring_index(str, delim, count) - Returns the substring from <code class="docutils literal notranslate"><span class="pre">str</span></code>
before <code class="docutils literal notranslate"><span class="pre">count</span></code> occurrences of the delimiter <code class="docutils literal notranslate"><span class="pre">delim</span></code>. If <code class="docutils literal notranslate"><span class="pre">count</span></code> is
positive, everything to the left of the final delimiter (counting from
the left) is returned. If <code class="docutils literal notranslate"><span class="pre">count</span></code> is negative, everything to the right
of the final delimiter (counting from the right) is returned. The
function substring_index performs a case-sensitive match when searching
for <code class="docutils literal notranslate"><span class="pre">delim</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">substring_index</span><span class="p">(</span><span class="s1">&#39;www.apache.org&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;.&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w"> </span><span class="n">www</span><span class="p">.</span><span class="n">apache</span>
</pre></div>
</div>
</div>
<div class="section" id="sum">
<h2>sum<a class="headerlink" href="#sum" title="Permalink to this headline"> </a></h2>
<p>sum(expr) - Returns the sum calculated from values of a group.</p>
</div>
<div class="section" id="tan">
<h2>tan<a class="headerlink" href="#tan" title="Permalink to this headline"> </a></h2>
<p>tan(expr) - Returns the tangent of <code class="docutils literal notranslate"><span class="pre">expr</span></code>, as if computed by
<code class="docutils literal notranslate"><span class="pre">java.lang.Math.tan</span></code>.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>expr - angle in radians</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">tan</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="tanh">
<h2>tanh<a class="headerlink" href="#tanh" title="Permalink to this headline"> </a></h2>
<p>tanh(expr) - Returns the hyperbolic tangent of <code class="docutils literal notranslate"><span class="pre">expr</span></code>, as if computed
by <code class="docutils literal notranslate"><span class="pre">java.lang.Math.tanh</span></code>.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>expr - hyperbolic angle</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">tanh</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="timestamp">
<h2>timestamp<a class="headerlink" href="#timestamp" title="Permalink to this headline"> </a></h2>
<p>timestamp(expr) - Casts the value <code class="docutils literal notranslate"><span class="pre">expr</span></code> to the target data type
<code class="docutils literal notranslate"><span class="pre">timestamp</span></code>.</p>
</div>
<div class="section" id="tinyint">
<h2>tinyint<a class="headerlink" href="#tinyint" title="Permalink to this headline"> </a></h2>
<p>tinyint(expr) - Casts the value <code class="docutils literal notranslate"><span class="pre">expr</span></code> to the target data type
<code class="docutils literal notranslate"><span class="pre">tinyint</span></code>.</p>
</div>
<div class="section" id="to_date">
<h2>to_date<a class="headerlink" href="#to_date" title="Permalink to this headline"> </a></h2>
<p>to_date(date_str[, fmt]) - Parses the <code class="docutils literal notranslate"><span class="pre">date_str</span></code> expression with the
<code class="docutils literal notranslate"><span class="pre">fmt</span></code> expression to a date. Returns null with invalid input. By
default, it follows casting rules to a date if the <code class="docutils literal notranslate"><span class="pre">fmt</span></code> is omitted.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">to_date</span><span class="p">(</span><span class="s1">&#39;2009-07-30 04:17:52&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2009</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">30</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">to_date</span><span class="p">(</span><span class="s1">&#39;2016-12-31&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;yyyy-MM-dd&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2016</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span>
</pre></div>
</div>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="to_json">
<h2>to_json<a class="headerlink" href="#to_json" title="Permalink to this headline"> </a></h2>
<p>to_json(expr[, options]) - Returns a JSON string with a given struct
value</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">to_json</span><span class="p">(</span><span class="n">named_struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">));</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> {&quot;a&quot;:1,&quot;b&quot;:2}
```sql
&gt; SELECT to_json(named_struct(&#39;time&#39;, to_timestamp(&#39;2015-08-26&#39;, &#39;yyyy-MM-dd&#39;)), map(&#39;timestampFormat&#39;, &#39;dd/MM/yyyy&#39;));
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> {&quot;time&quot;:&quot;26/08/2015&quot;}
```sql
&gt; SELECT to_json(array(named_struct(&#39;a&#39;, 1, &#39;b&#39;, 2)));
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> [{&quot;a&quot;:1,&quot;b&quot;:2}]
```sql
&gt; SELECT to_json(map(&#39;a&#39;, named_struct(&#39;b&#39;, 1)));
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> {&quot;a&quot;:{&quot;b&quot;:1}}
```sql
&gt; SELECT to_json(map(named_struct(&#39;a&#39;, 1),named_struct(&#39;b&#39;, 2)));
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> {&quot;[1]&quot;:{&quot;b&quot;:2}}
```sql
&gt; SELECT to_json(map(&#39;a&#39;, 1));
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> {&quot;a&quot;:1}
```sql
&gt; SELECT to_json(array((map(&#39;a&#39;, 1))));
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="p">[{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">}]</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.2.0</p>
</div>
<div class="section" id="to_timestamp">
<h2>to_timestamp<a class="headerlink" href="#to_timestamp" title="Permalink to this headline"> </a></h2>
<p>to_timestamp(timestamp[, fmt]) - Parses the <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> expression
with the <code class="docutils literal notranslate"><span class="pre">fmt</span></code> expression to a timestamp. Returns null with invalid
input. By default, it follows casting rules to a timestamp if the
<code class="docutils literal notranslate"><span class="pre">fmt</span></code> is omitted.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">to_timestamp</span><span class="p">(</span><span class="s1">&#39;2016-12-31 00:12:00&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2016</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">to_timestamp</span><span class="p">(</span><span class="s1">&#39;2016-12-31&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;yyyy-MM-dd&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2016</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span><span class="w"> </span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.2.0</p>
</div>
<div class="section" id="to_unix_timestamp">
<h2>to_unix_timestamp<a class="headerlink" href="#to_unix_timestamp" title="Permalink to this headline"> </a></h2>
<p>to_unix_timestamp(expr[, pattern]) - Returns the UNIX timestamp of the
given time.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">to_unix_timestamp</span><span class="p">(</span><span class="s1">&#39;2016-04-08&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;yyyy-MM-dd&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">1460041200</span>
</pre></div>
</div>
<p><strong>Since:</strong> 1.6.0</p>
</div>
<div class="section" id="to_utc_timestamp">
<h2>to_utc_timestamp<a class="headerlink" href="#to_utc_timestamp" title="Permalink to this headline"> </a></h2>
<p>to_utc_timestamp(timestamp, timezone) - Given a timestamp like
‘2017-07-14 02:40:00.0’, interprets it as a time in the given time zone,
and renders that time as a timestamp in UTC. For example, ‘GMT+1’ would
yield ‘2017-07-14 01:40:00.0’.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">to_utc_timestamp</span><span class="p">(</span><span class="s1">&#39;2016-08-31&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Asia/Seoul&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2016</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">30</span><span class="w"> </span><span class="mi">15</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
</pre></div>
</div>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="transform">
<h2>transform<a class="headerlink" href="#transform" title="Permalink to this headline"> </a></h2>
<p>transform(expr, func) - Transforms elements in an array using the
function.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">transform</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">transform</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">);</span>
<span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="translate">
<h2>translate<a class="headerlink" href="#translate" title="Permalink to this headline"> </a></h2>
<p>translate(input, from, to) - Translates the <code class="docutils literal notranslate"><span class="pre">input</span></code> string by
replacing the characters present in the <code class="docutils literal notranslate"><span class="pre">from</span></code> string with the
corresponding characters in the <code class="docutils literal notranslate"><span class="pre">to</span></code> string.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">translate</span><span class="p">(</span><span class="s1">&#39;AaBbCc&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;abc&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;123&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">A1B2C3</span>
</pre></div>
</div>
</div>
<div class="section" id="trim">
<h2>trim<a class="headerlink" href="#trim" title="Permalink to this headline"> </a></h2>
<p>trim(str) - Removes the leading and trailing space characters from
<code class="docutils literal notranslate"><span class="pre">str</span></code>.</p>
<p>trim(BOTH trimStr FROM str) - Remove the leading and trailing
<code class="docutils literal notranslate"><span class="pre">trimStr</span></code> characters from <code class="docutils literal notranslate"><span class="pre">str</span></code></p>
<p>trim(LEADING trimStr FROM str) - Remove the leading <code class="docutils literal notranslate"><span class="pre">trimStr</span></code>
characters from <code class="docutils literal notranslate"><span class="pre">str</span></code></p>
<p>trim(TRAILING trimStr FROM str) - Remove the trailing <code class="docutils literal notranslate"><span class="pre">trimStr</span></code>
characters from <code class="docutils literal notranslate"><span class="pre">str</span></code></p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>str - a string expression</p></li>
<li><p>trimStr - the trim string characters to trim, the default value is a
single space</p></li>
<li><p>BOTH, FROM - these are keywords to specify trimming string characters
from both ends of the string</p></li>
<li><p>LEADING, FROM - these are keywords to specify trimming string
characters from the left end of the string</p></li>
<li><p>TRAILING, FROM - these are keywords to specify trimming string
characters from the right end of the string</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">trim</span><span class="p">(</span><span class="s1">&#39;    SparkSQL   &#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">SparkSQL</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">trim</span><span class="p">(</span><span class="s1">&#39;SL&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SSparkSQLS&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">parkSQ</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">trim</span><span class="p">(</span><span class="k">BOTH</span><span class="w"> </span><span class="s1">&#39;SL&#39;</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="s1">&#39;SSparkSQLS&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">parkSQ</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">trim</span><span class="p">(</span><span class="k">LEADING</span><span class="w"> </span><span class="s1">&#39;SL&#39;</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="s1">&#39;SSparkSQLS&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">parkSQLS</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">trim</span><span class="p">(</span><span class="k">TRAILING</span><span class="w"> </span><span class="s1">&#39;SL&#39;</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="s1">&#39;SSparkSQLS&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">SSparkSQ</span>
</pre></div>
</div>
</div>
<div class="section" id="trunc">
<h2>trunc<a class="headerlink" href="#trunc" title="Permalink to this headline"> </a></h2>
<p>trunc(date, fmt) - Returns <code class="docutils literal notranslate"><span class="pre">date</span></code> with the time portion of the day
truncated to the unit specified by the format model <code class="docutils literal notranslate"><span class="pre">fmt</span></code>. <code class="docutils literal notranslate"><span class="pre">fmt</span></code>
should be one of [“year”, “yyyy”, “yy”, “mon”, “month”, “mm”]</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">trunc</span><span class="p">(</span><span class="s1">&#39;2009-02-12&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;MM&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2009</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">01</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">trunc</span><span class="p">(</span><span class="s1">&#39;2015-10-27&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;YEAR&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2015</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span>
</pre></div>
</div>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="ucase">
<h2>ucase<a class="headerlink" href="#ucase" title="Permalink to this headline"> </a></h2>
<p>ucase(str) - Returns <code class="docutils literal notranslate"><span class="pre">str</span></code> with all characters changed to uppercase.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">ucase</span><span class="p">(</span><span class="s1">&#39;SparkSql&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">SPARKSQL</span>
</pre></div>
</div>
</div>
<div class="section" id="unbase64">
<h2>unbase64<a class="headerlink" href="#unbase64" title="Permalink to this headline"> </a></h2>
<p>unbase64(str) - Converts the argument from a base 64 string <code class="docutils literal notranslate"><span class="pre">str</span></code> to a
binary.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">unbase64</span><span class="p">(</span><span class="s1">&#39;U3BhcmsgU1FM&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">Spark</span><span class="w"> </span><span class="k">SQL</span>
</pre></div>
</div>
</div>
<div class="section" id="unhex">
<h2>unhex<a class="headerlink" href="#unhex" title="Permalink to this headline"> </a></h2>
<p>unhex(expr) - Converts hexadecimal <code class="docutils literal notranslate"><span class="pre">expr</span></code> to binary.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">decode</span><span class="p">(</span><span class="n">unhex</span><span class="p">(</span><span class="s1">&#39;537061726B2053514C&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;UTF-8&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">Spark</span><span class="w"> </span><span class="k">SQL</span>
</pre></div>
</div>
</div>
<div class="section" id="unix_timestamp">
<h2>unix_timestamp<a class="headerlink" href="#unix_timestamp" title="Permalink to this headline"> </a></h2>
<p>unix_timestamp([expr[, pattern]]) - Returns the UNIX timestamp of
current or specified time.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">unix_timestamp</span><span class="p">();</span>
<span class="w"> </span><span class="mi">1476884637</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">unix_timestamp</span><span class="p">(</span><span class="s1">&#39;2016-04-08&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;yyyy-MM-dd&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">1460041200</span>
</pre></div>
</div>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="upper">
<h2>upper<a class="headerlink" href="#upper" title="Permalink to this headline"> </a></h2>
<p>upper(str) - Returns <code class="docutils literal notranslate"><span class="pre">str</span></code> with all characters changed to uppercase.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">upper</span><span class="p">(</span><span class="s1">&#39;SparkSql&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">SPARKSQL</span>
</pre></div>
</div>
</div>
<div class="section" id="uuid">
<h2>uuid<a class="headerlink" href="#uuid" title="Permalink to this headline"> </a></h2>
<p>uuid() - Returns an universally unique identifier (UUID) string. The
value is returned as a canonical UUID 36-character string.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">uuid</span><span class="p">();</span>
<span class="w">   </span><span class="mi">46707</span><span class="n">d92</span><span class="o">-</span><span class="mi">02</span><span class="n">f4</span><span class="o">-</span><span class="mi">4817</span><span class="o">-</span><span class="mi">8116</span><span class="o">-</span><span class="n">a4c3b23e6266</span>
<span class="k">function</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="k">deterministic</span><span class="p">.</span>
</pre></div>
</div>
</div>
<div class="section" id="var_pop">
<h2>var_pop<a class="headerlink" href="#var_pop" title="Permalink to this headline"> </a></h2>
<p>var_pop(expr) - Returns the population variance calculated from values
of a group.</p>
</div>
<div class="section" id="var_samp">
<h2>var_samp<a class="headerlink" href="#var_samp" title="Permalink to this headline"> </a></h2>
<p>var_samp(expr) - Returns the sample variance calculated from values of a
group.</p>
</div>
<div class="section" id="variance">
<h2>variance<a class="headerlink" href="#variance" title="Permalink to this headline"> </a></h2>
<p>variance(expr) - Returns the sample variance calculated from values of a
group.</p>
</div>
<div class="section" id="weekday">
<h2>weekday<a class="headerlink" href="#weekday" title="Permalink to this headline"> </a></h2>
<p>weekday(date) - Returns the day of the week for date/timestamp (0 =
Monday, 1 = Tuesday, …, 6 = Sunday).</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">weekday</span><span class="p">(</span><span class="s1">&#39;2009-07-30&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">3</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="weekofyear">
<h2>weekofyear<a class="headerlink" href="#weekofyear" title="Permalink to this headline"> </a></h2>
<p>weekofyear(date) - Returns the week of the year of the given date. A
week is considered to start on a Monday and week 1 is the first week
with &gt;3 days.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">weekofyear</span><span class="p">(</span><span class="s1">&#39;2008-02-20&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">8</span>
</pre></div>
</div>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="when">
<h2>when<a class="headerlink" href="#when" title="Permalink to this headline"> </a></h2>
<p>CASE WHEN expr1 THEN expr2 [WHEN expr3 THEN expr4]* [ELSE expr5] END -
When <code class="docutils literal notranslate"><span class="pre">expr1</span></code> = true, returns <code class="docutils literal notranslate"><span class="pre">expr2</span></code>; else when <code class="docutils literal notranslate"><span class="pre">expr3</span></code> = true,
returns <code class="docutils literal notranslate"><span class="pre">expr4</span></code>; else returns <code class="docutils literal notranslate"><span class="pre">expr5</span></code>.</p>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p>expr1, expr3 - the branch condition expressions should all be boolean
type.</p></li>
<li><p>expr2, expr4, expr5 - the branch value expressions and else value
expression should all be same type or coercible to a common type.</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">2</span><span class="w"> </span><span class="k">END</span><span class="p">;</span>
<span class="w"> </span><span class="mi">1</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">2</span><span class="w"> </span><span class="k">END</span><span class="p">;</span>
<span class="w"> </span><span class="mi">2</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="w"> </span><span class="k">END</span><span class="p">;</span>
<span class="w"> </span><span class="k">NULL</span>
</pre></div>
</div>
</div>
<div class="section" id="window">
<h2>window<a class="headerlink" href="#window" title="Permalink to this headline"> </a></h2>
</div>
<div class="section" id="xpath">
<h2>xpath<a class="headerlink" href="#xpath" title="Permalink to this headline"> </a></h2>
<p>xpath(xml, xpath) - Returns a string array of values within the nodes of
xml that match the XPath expression.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">xpath</span><span class="p">(</span><span class="s1">&#39;&lt;a&gt;&lt;b&gt;b1&lt;/b&gt;&lt;b&gt;b2&lt;/b&gt;&lt;b&gt;b3&lt;/b&gt;&lt;c&gt;c1&lt;/c&gt;&lt;c&gt;c2&lt;/c&gt;&lt;/a&gt;&#39;</span><span class="p">,</span><span class="s1">&#39;a/b/text()&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="p">[</span><span class="s1">&#39;b1&#39;</span><span class="p">,</span><span class="s1">&#39;b2&#39;</span><span class="p">,</span><span class="s1">&#39;b3&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="xpath_boolean">
<h2>xpath_boolean<a class="headerlink" href="#xpath_boolean" title="Permalink to this headline"> </a></h2>
<p>xpath_boolean(xml, xpath) - Returns true if the XPath expression
evaluates to true, or if a matching node is found.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">xpath_boolean</span><span class="p">(</span><span class="s1">&#39;&lt;a&gt;&lt;b&gt;1&lt;/b&gt;&lt;/a&gt;&#39;</span><span class="p">,</span><span class="s1">&#39;a/b&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="k">true</span>
</pre></div>
</div>
</div>
<div class="section" id="xpath_double">
<h2>xpath_double<a class="headerlink" href="#xpath_double" title="Permalink to this headline"> </a></h2>
<p>xpath_double(xml, xpath) - Returns a double value, the value zero if no
match is found, or NaN if a match is found but the value is non-numeric.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">xpath_double</span><span class="p">(</span><span class="s1">&#39;&lt;a&gt;&lt;b&gt;1&lt;/b&gt;&lt;b&gt;2&lt;/b&gt;&lt;/a&gt;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;sum(a/b)&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">3</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="xpath_float">
<h2>xpath_float<a class="headerlink" href="#xpath_float" title="Permalink to this headline"> </a></h2>
<p>xpath_float(xml, xpath) - Returns a float value, the value zero if no
match is found, or NaN if a match is found but the value is non-numeric.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">xpath_float</span><span class="p">(</span><span class="s1">&#39;&lt;a&gt;&lt;b&gt;1&lt;/b&gt;&lt;b&gt;2&lt;/b&gt;&lt;/a&gt;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;sum(a/b)&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">3</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="xpath_int">
<h2>xpath_int<a class="headerlink" href="#xpath_int" title="Permalink to this headline"> </a></h2>
<p>xpath_int(xml, xpath) - Returns an integer value, or the value zero if
no match is found, or a match is found but the value is non-numeric.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">xpath_int</span><span class="p">(</span><span class="s1">&#39;&lt;a&gt;&lt;b&gt;1&lt;/b&gt;&lt;b&gt;2&lt;/b&gt;&lt;/a&gt;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;sum(a/b)&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">3</span>
</pre></div>
</div>
</div>
<div class="section" id="xpath_long">
<h2>xpath_long<a class="headerlink" href="#xpath_long" title="Permalink to this headline"> </a></h2>
<p>xpath_long(xml, xpath) - Returns a long integer value, or the value zero
if no match is found, or a match is found but the value is non-numeric.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">xpath_long</span><span class="p">(</span><span class="s1">&#39;&lt;a&gt;&lt;b&gt;1&lt;/b&gt;&lt;b&gt;2&lt;/b&gt;&lt;/a&gt;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;sum(a/b)&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">3</span>
</pre></div>
</div>
</div>
<div class="section" id="xpath_number">
<h2>xpath_number<a class="headerlink" href="#xpath_number" title="Permalink to this headline"> </a></h2>
<p>xpath_number(xml, xpath) - Returns a double value, the value zero if no
match is found, or NaN if a match is found but the value is non-numeric.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">xpath_number</span><span class="p">(</span><span class="s1">&#39;&lt;a&gt;&lt;b&gt;1&lt;/b&gt;&lt;b&gt;2&lt;/b&gt;&lt;/a&gt;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;sum(a/b)&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">3</span><span class="p">.</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="xpath_short">
<h2>xpath_short<a class="headerlink" href="#xpath_short" title="Permalink to this headline"> </a></h2>
<p>xpath_short(xml, xpath) - Returns a short integer value, or the value
zero if no match is found, or a match is found but the value is
non-numeric.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">xpath_short</span><span class="p">(</span><span class="s1">&#39;&lt;a&gt;&lt;b&gt;1&lt;/b&gt;&lt;b&gt;2&lt;/b&gt;&lt;/a&gt;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;sum(a/b)&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">3</span>
</pre></div>
</div>
</div>
<div class="section" id="xpath_string">
<h2>xpath_string<a class="headerlink" href="#xpath_string" title="Permalink to this headline"> </a></h2>
<p>xpath_string(xml, xpath) - Returns the text contents of the first xml
node that matches the XPath expression.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">xpath_string</span><span class="p">(</span><span class="s1">&#39;&lt;a&gt;&lt;b&gt;b&lt;/b&gt;&lt;c&gt;cc&lt;/c&gt;&lt;/a&gt;&#39;</span><span class="p">,</span><span class="s1">&#39;a/c&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="n">cc</span>
</pre></div>
</div>
</div>
<div class="section" id="year">
<h2>year<a class="headerlink" href="#year" title="Permalink to this headline"> </a></h2>
<p>year(date) - Returns the year component of the date/timestamp.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">year</span><span class="p">(</span><span class="s1">&#39;2016-07-30&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="mi">2016</span>
</pre></div>
</div>
<p><strong>Since:</strong> 1.5.0</p>
</div>
<div class="section" id="zip_with">
<h2>zip_with<a class="headerlink" href="#zip_with" title="Permalink to this headline"> </a></h2>
<p>zip_with(left, right, func) - Merges the two given arrays, element-wise,
into a single array using function. If one array is shorter, nulls are
appended at the end to match the length of the longer array, before
applying function.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">zip_with</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="nb">array</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;c&#39;</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">));</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="p">[{</span><span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">},{</span><span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="s2">&quot;b&quot;</span><span class="p">,</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">},{</span><span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="s2">&quot;c&quot;</span><span class="p">,</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">}]</span>
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">zip_with</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="nb">array</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">zip_with</span><span class="p">(</span><span class="nb">array</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;c&#39;</span><span class="p">),</span><span class="w"> </span><span class="nb">array</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;e&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;f&#39;</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">concat</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">));</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="p">[</span><span class="s2">&quot;ad&quot;</span><span class="p">,</span><span class="s2">&quot;be&quot;</span><span class="p">,</span><span class="s2">&quot;cf&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Since:</strong> 2.4.0</p>
</div>
<div class="section" id="f15">
<h2>|<a class="headerlink" href="#f15" title="Permalink to this headline"> </a></h2>
<p>expr1 | expr2 - Returns the result of bitwise OR of <code class="docutils literal notranslate"><span class="pre">expr1</span></code> and
<code class="docutils literal notranslate"><span class="pre">expr2</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="w"> </span><span class="mi">7</span>
</pre></div>
</div>
</div>
<div class="section" id="f16">
<h2>~<a class="headerlink" href="#f16" title="Permalink to this headline"> </a></h2>
<p>~ expr - Returns the result of bitwise NOT of <code class="docutils literal notranslate"><span class="pre">expr</span></code>.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w"> </span><span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
</div>
</div>


    
          </div>
        </div>
        <div  class="suapp-rating">
  <div id="suPageRateApp">
     <su-app></su-app>
   </div> 
 </div>
<hr> 
<footer>
  <div role="contentinfo">
      <p class="copyright">
          &copy; Databricks 2023. All rights reserved. Apache, Apache Spark, Spark, and the Spark logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a>.
      </p>
      <p> 
        
          <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
        
     | <a href="https://databricks.com/privacy-policy">Privacy Policy</a> | <a href="https://databricks.com/terms-of-use">Terms of Use</a></p>

  </div> 

</footer>
      </div>
    </div>
  </section>
</main>

  </page>
  
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT: '../../',
      VERSION: '1.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE: 'false'
    };
  </script>
  <script type="text/javascript" src="../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../_static/underscore.js"></script>
  <script type="text/javascript" src="../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../_static/language_data.js"></script>
  

  <script type="text/javascript" src="../../_static/js/clipboard.min.js"></script>
  <script type="text/javascript" src="../../_static/js/jquery.waypoints.min.js"></script>

  <!-- Select2 (https://select2.org/) -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <!-- End Select2 -->

  
  
  <script type="text/javascript" src="../../_static/js/localized.js"></script>
  <script type="text/javascript" src="../../_static/js/custom.js"></script>
  

  
  
  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.StickyNav.enable();
    });

  </script>
  
 



  <script>
  window.__searchunifyLoaderConfig = JSON.parse('{"clients": {"en": "02c2e804-27e9-11ee-aefb-0242ac120011", "ja": "6a42c3f2-2820-11ee-aefb-0242ac120011", "pt": "6a86badd-2821-11ee-aefb-0242ac120011"}}')
</script>
<script type="text/javascript" src="../../_static/js/search-loader.js"></script>
</body>
<script type='text/javascript'>
  window.onload = function () {
    var description = document.querySelector('meta[name="description"]').getAttribute("content");
    let titleText = document.querySelector('h1').textContent;
    document.querySelector('meta[property="og:title"]').setAttribute("content", titleText);
    document.querySelector('meta[property="og:description"]').setAttribute("content", description);
    document.querySelector('meta[property="twitter:description"]').setAttribute("content", description);
  };
</script>

</html>