

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en-US" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en-US"> <!--<![endif]-->

<head>
  <!-- cookie consent -->
  
    <!-- Combined Onetrust and Rudderstack Implementation Scripts -->
    <!-- Onetrust Initialization -->
    <script type="text/javascript" src="https://cdn.cookielaw.org/consent/92466579-1717-44d3-809d-a05fb02843ed-test/OtAutoBlock.js"></script>
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="92466579-1717-44d3-809d-a05fb02843ed-test"></script>
    <link rel="stylesheet" id="db-onetrust-style" href="https://www.databricks.com/wp-content/uploads/db_onetrust.css" media="all" />
    <!-- Setting Rudderstack Write Key -->
    <script>window.rudderstackKey = "2SOR9fvSr5Fi6tN2ihPbVHnX1SZ" </script>
    <!-- Rudderstack Initialization + Onetrust Integration + Rudderstack Custom Events -->
    <script type="text/javascript" src="https://www.databricks.com/sites/default/files/rudderstack/v1/db-rudderstack-events.js"></script>

  <!-- cookie consent -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta content="Learn about using the tumor/normal pipeline contained in Databricks Runtime for Genomics." name="description" />
<meta content="noindex" name="robots" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta property="og:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:title" content="Tumor/Normal pipeline">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://docs.databricks.com">
  <meta property="og:description" content="" id="og-description">
  <meta name="twitter:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta name="twitter:site" content="@databricks">
  <meta name="twitter:creator" content="@databricks">
  <meta property="twitter:description" content="">
  
  <title>Tumor/Normal pipeline &#124; Databricks on AWS</title>
  
  
  <link rel="canonical" href="https://docs.databricks.com/en/archive/genomics/secondary/tumor-normal-pipeline.html">
  <!-- Start hreflang tag -->
  <link rel="alternate" hreflang="en" href="https://docs.databricks.com/en/archive/genomics/secondary/tumor-normal-pipeline.html" />
<link rel="alternate" hreflang="x-default" href="https://docs.databricks.com/en/archive/genomics/secondary/tumor-normal-pipeline.html" />
  <!-- End hreflang tag -->
  
  
  <link rel="shortcut icon" href="../../../_static/favicon.ico" />
  

  

  

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T85FQ33');</script>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWTKQQ');</script>
    
  <!-- End Google Tag Manager -->


  <!-- MaxMind / GEO IP -->
  <script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>
  <!-- End MaxMind / GEO IP -->

  
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600&display=swap" rel="stylesheet">
  <link rel="preload" href="../../../_static/fonts/DMSans-Bold.ttf" as="font">
  <link rel="preload" href="../../../_static/fonts/DMSans-Regular.ttf" as="font">
  <link rel="preload" href="../../../_static/fonts/DMMono-Regular.ttf" as="font">
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/cloud-provider-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/translation-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/searchunify/main.css" type="text/css" />

  
  <link rel="index" title="Index" href="../../../genindex.html" />
  <link rel="search" title="Search" href="../../../search.html" />
  <link rel="top" title="Databricks on AWS" href="../../../index.html" /> 
</head>

<body class="wy-body-for-nav" role="document">

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T85FQ33"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWTKQQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  
  <nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
    
<nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
  <div class="container-logo">
    <ul class="mobile-menu-toggle">
        <li class="menu-toggle">
            <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
            
            <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
              alt="Databricks" /></a>   
               
              </li>
    </ul>
    <ul class="su_nav-menu">
      <li class="menu-toggle">
        <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
        
          
        
        <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
            alt="Databricks" /></a></li>
        <!-- 
<li><a href="https://help.databricks.com/s/">Help Center</a></li>
<li class="active"><a href="https://docs.databricks.com/en/">Documentation</a></li>
<li><a href="https://kb.databricks.com/">Knowledge Base</a></li>
 -->
    </ul>
  </div>
  <div class="su_nav-right">
    <ul class="su_link-mobile">
  <!-- Mobile header code can go here -->
</ul>
<ul class="right-try-list">
   
</ul>
  </div>
</nav>
  </nav>

  <div class="su_sub-header">
    <div class="container">
      <div class="su_sub-header-inner">
        <!-- <div class="su_subnav-menu-right">
  <div id="auto" style="width: 100%;">
    <div ng-controller="SearchautoController">
      <div bind-html-compile="autocompleteHtml">
        <form class="su__search-box-1" disabled="disabled">
          <input class="su__search-input" type="search" name="Search box" id="su__search-b" placeholder="Search Documentation" disabled="disabled"/>
          <button class="su__search-button" type="submit" class="button button-success" disabled="disabled">
            <svg width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                fill="#333"></path>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>
</div> -->
        <div class="search-lng-gap"></div>
        <div style="margin-left: 16px; margin-right: 16px;">
          <!-- <select name="lng selector" id="lng-selector">
    <option value="../../../../en/archive/genomics/secondary/tumor-normal-pipeline.html" class="notranslate">English</option>
    <option value="../../../../ja/archive/genomics/secondary/tumor-normal-pipeline.html" class="notranslate">日本語</option>
    <option value="../../../../pt/archive/genomics/secondary/tumor-normal-pipeline.html" class="notranslate">Português (Brasil)</option>
</select> -->
        </div>
        <div class="cloud-selector-container">
          <!-- <select name="cloud provider selector" id="cloud-provider-selector">
    <option value="aws" selected class="notranslate">
        Amazon Web Services
    </option>
    <option value="azure"  class="notranslate">
        Microsoft Azure
    </option>
    <option value="gcp"  class="notranslate">
        Google Cloud Platform
    </option>
</select> -->
        </div>
      </div>
    </div>
  </div>
  <page class="js-page-container">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side su_nav-side">
<div class="wy-side-scroll">
  <div class="wy-side-nav-search">
    

    

    

    
  </div>

  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      <a href="../../../index.html" class="main-navigation-home">Databricks on AWS</a>
    

    
      

      
        <p class="caption"><span class="caption-text">Load &amp; manage data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../rag-temp/index.html">RAG Studio</a></li>
</ul>

      
    
  </div>

  <div role="contentinfo">
    
  <p class="build_info notranslate"data-last-edit="December 23, 2023">
    Updated Jan 11, 2024
  </p>
<script>
  window.addEventListener('DOMContentLoaded',function(){
    var h1=document.querySelector('h1');
    var bi=document.querySelector('[data-last-edit]');
    if(h1 && bi){
      var ver = document.createElement('p');
      ver.className = 'version_info';
      ver.textContent = bi.getAttribute('data-last-edit');
      h1.parentElement.insertBefore(ver, h1.nextElementSibling);
    }
  });
</script>

    <p>
      
        <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
      
    </p>
  </div>
</div>
</nav>
    
    
<main class="wy-grid-for-nav su_nav-grid">
  <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
    <div class="wy-nav-content su__nav_content">
      <div class="rst-content">
        





<div role="navigation" aria-label="breadcrumbs navigation" class="wy-breadcrumbs-wrapper">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Documentation</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
    
      <li>Tumor/Normal pipeline</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>
</div>
        
        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
          <div itemprop="articleBody">
            
    
  <p></p>
<div class="section" id="tumornormal-pipeline">
<h1>Tumor/Normal pipeline<a class="headerlink" href="#tumornormal-pipeline" title="Permalink to this headline"> </a></h1>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>This documentation has been retired and might not be updated. The products, services, or technologies mentioned in this content are no longer supported.</p>
<p>The Databricks Genomics runtime has been deprecated. For open source equivalents, see repos for <a class="reference external" href="https://github.com/databricks/genomics-pipelines">genomics-pipelines</a> and <a class="reference external" href="https://github.com/projectglow/glow">Glow</a>. Bioinformatics libraries that were part of the runtime have been released as a Docker container, which can be pulled from the <a class="reference external" href="https://hub.docker.com/r/projectglow">ProjectGlow Dockerhub</a> page.</p>
<p>For more information about the Databricks Runtime deprecation policy and schedule, see <a class="reference internal" href="../../../release-notes/runtime/index.html#supported-list"><span class="std std-ref">All supported Databricks Runtime releases</span></a>.</p>
</div>
<p>The Databricks tumor/normal pipeline is a <a class="reference external" href="https://gatk.broadinstitute.org/hc/en-us/articles/360035894731-Somatic-short-variant-discovery-SNVs-Indels-">GATK best practices</a> compliant pipeline for short read alignment
and somatic variant calling using the <a class="reference external" href="https://gatk.broadinstitute.org/hc/en-us/articles/360041416112-Mutect2">MuTect2</a> variant caller.</p>
<div class="section" id="walkthrough">
<h2>Walkthrough<a class="headerlink" href="#walkthrough" title="Permalink to this headline"> </a></h2>
<p>The pipeline consists of the following steps:</p>
<ol class="arabic simple">
<li><p>Normal sample alignment using BWA-MEM.</p></li>
<li><p>Tumor sample alignment using BWA-MEM.</p></li>
<li><p>Variant calling with MuTect2.</p></li>
</ol>
</div>
<div class="section" id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline"> </a></h2>
<p>The pipeline is run as a Databricks job. You can set up a <a class="reference internal" href="../../../administration-guide/clusters/policies.html"><span class="doc">cluster policy</span></a> to save the configuration:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;num_workers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;unlimited&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;defaultValue&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;node_type_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;unlimited&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;defaultValue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c5.9xlarge&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;spark_env_vars.refGenomeId&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;unlimited&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;defaultValue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;grch38&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;spark_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;regex&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;pattern&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;.*-hls.*&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;defaultValue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;7.4.x-hls-scala2.12&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;aws_attributes.ebs_volume_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;unlimited&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;defaultValue&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;aws_attributes.ebs_volume_size&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;unlimited&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;defaultValue&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>The cluster configuration should use Databricks Runtime for Genomics.</p></li>
<li><p>The task should be the tumor/normal notebook found at the bottom of this page.</p></li>
<li><p>For best performance, use compute optimized instances with at least 60GB of memory. We
recommend <strong>c5.9xlarge</strong>.</p></li>
<li><p>If you’re running base quality score recalibration, use general purpose (<strong>m5.4xlarge</strong>)
instances instead since this operation requires more memory.</p></li>
<li><p>To reduce costs, use all spot workers with the <strong>Spot fall back to On-demand</strong> option selected.</p></li>
<li><p>Attach 3 200GB SSD EBS volumes</p></li>
</ul>
</div>
<div class="section" id="reference-genomes">
<h2>Reference genomes<a class="headerlink" href="#reference-genomes" title="Permalink to this headline"> </a></h2>
<p>You must configure the reference genome using an <a class="reference internal" href="../../../compute/configure.html#env-var"><span class="std std-ref">environment variable</span></a>.
To use GRCh37, set the environment variable:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">refGenomeId</span><span class="o">=</span>grch37
</pre></div>
</div>
<p>To use GRCh38, change <code class="docutils literal notranslate"><span class="pre">grch37</span></code> to <code class="docutils literal notranslate"><span class="pre">grch38</span></code>.</p>
<p>To use a custom reference genome, see instructions in <a class="reference internal" href="dnaseq-pipeline.html#custom-reference-genomes"><span class="std std-ref">Custom reference genomes</span></a>.</p>
</div>
<div class="section" id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline"> </a></h2>
<p>The pipeline accepts parameters that control its behavior. The most important and
commonly changed parameters are documented here. To view all available parameters and their usage
information, run the first cell of the pipeline notebook. New parameters are added regularly.
After importing the notebook and setting it as a job task, you can set these parameters for
<a class="reference internal" href="../../../workflows/jobs/create-run-jobs.html#create-a-job"><span class="std std-ref">all runs</span></a> or <a class="reference internal" href="../../../workflows/jobs/create-run-jobs.html#run-a-job-with-different-parameters"><span class="std std-ref">per-run</span></a>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>manifest</p></td>
<td><p>n/a</p></td>
<td><p>The manifest describing the input.</p></td>
</tr>
<tr class="row-odd"><td><p>output</p></td>
<td><p>n/a</p></td>
<td><p>The path where pipeline output should be written.</p></td>
</tr>
<tr class="row-even"><td><p>replayMode</p></td>
<td><p>skip</p></td>
<td><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">skip</span></code>, stages will be skipped if output already exists.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">overwrite</span></code>, existing output will be deleted.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>exportVCF</p></td>
<td><p>false</p></td>
<td><p>If true, the pipeline writes results to a VCF file as well as Delta.</p></td>
</tr>
<tr class="row-even"><td><p>perSampleTimeout</p></td>
<td><p>12h</p></td>
<td><p>A timeout applied per sample. After reaching this timeout, the pipeline continues on to
the next sample. The value of this parameter must include a timeout unit: ‘s’ for seconds,
‘m’ for minutes, or ‘h’ for hours. For example, ‘60m’ results in a timeout of 60
minutes.</p></td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To optimize run time, set the <code class="docutils literal notranslate"><span class="pre">spark.sql.shuffle.partitions</span></code>
<a class="reference internal" href="../../../compute/configure.html#spark-configuration"><span class="std std-ref">Spark configuration</span></a> to three times the number of cores of the cluster.</p>
</div>
</div>
<div class="section" id="manifest-format">
<h2>Manifest format<a class="headerlink" href="#manifest-format" title="Permalink to this headline"> </a></h2>
<p>The manifest is a CSV file or blob describing where to find the input FASTQ or BAM files. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pair_id</span><span class="p">,</span><span class="n">file_path</span><span class="p">,</span><span class="n">sample_id</span><span class="p">,</span><span class="n">label</span><span class="p">,</span><span class="n">paired_end</span><span class="p">,</span><span class="n">read_group_id</span>
<span class="n">HG001</span><span class="p">,</span><span class="o">*</span><span class="n">_R1_</span><span class="o">*.</span><span class="n">normal</span><span class="o">.</span><span class="n">fastq</span><span class="o">.</span><span class="n">bgz</span><span class="p">,</span><span class="n">HG001_normal</span><span class="p">,</span><span class="n">normal</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">read_group_normal</span>
<span class="n">HG001</span><span class="p">,</span><span class="o">*</span><span class="n">_R2_</span><span class="o">*.</span><span class="n">normal</span><span class="o">.</span><span class="n">fastq</span><span class="o">.</span><span class="n">bgz</span><span class="p">,</span><span class="n">HG001_normal</span><span class="p">,</span><span class="n">normal</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">read_group_normal</span>
<span class="n">HG001</span><span class="p">,</span><span class="o">*</span><span class="n">_R1_</span><span class="o">*.</span><span class="n">tumor</span><span class="o">.</span><span class="n">fastq</span><span class="o">.</span><span class="n">bgz</span><span class="p">,</span><span class="n">HG001_tumor</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">tumor</span><span class="p">,</span><span class="n">read_group_tumor</span>
<span class="n">HG001</span><span class="p">,</span><span class="o">*</span><span class="n">_R2_</span><span class="o">*.</span><span class="n">tumor</span><span class="o">.</span><span class="n">fastq</span><span class="o">.</span><span class="n">bgz</span><span class="p">,</span><span class="n">HG001_tumor</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">tumor</span><span class="p">,</span><span class="n">read_group_tumor</span>
</pre></div>
</div>
<p>If your input consists of unaligned BAM files, you should omit the <code class="docutils literal notranslate"><span class="pre">paired_end</span></code> field:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pair_id</span><span class="p">,</span><span class="n">file_path</span><span class="p">,</span><span class="n">sample_id</span><span class="p">,</span><span class="n">label</span><span class="p">,</span><span class="n">paired_end</span><span class="p">,</span><span class="n">read_group_id</span>
<span class="n">HG001</span><span class="p">,</span><span class="o">*.</span><span class="n">normal</span><span class="o">.</span><span class="n">bam</span><span class="p">,</span><span class="n">HG001_normal</span><span class="p">,</span><span class="n">normal</span><span class="p">,,</span><span class="n">read_group_tumor</span>
<span class="n">HG001</span><span class="p">,</span><span class="o">*.</span><span class="n">tumor</span><span class="o">.</span><span class="n">bam</span><span class="p">,</span><span class="n">HG001_tumor</span><span class="p">,</span><span class="n">tumor</span><span class="p">,,</span><span class="n">read_group_normal</span>
</pre></div>
</div>
<p>The tumor and normal samples for a given individual are grouped by the <code class="docutils literal notranslate"><span class="pre">pair_id</span></code> field. The tumor and normal sample names read group names must be different within a pair.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If the provided manifest is a file, the <code class="docutils literal notranslate"><span class="pre">file_path</span></code> field in each row may be an absolute path or a path relative to
the manifest file. If the provided manifest is a blob, the <code class="docutils literal notranslate"><span class="pre">file_path</span></code> field must be an absolute path. You can
include globs <code class="docutils literal notranslate"><span class="pre">(*)</span></code> to match many files.</p>
</div>
</div>
<div class="section" id="additional-usage-info-and-troubleshooting">
<h2>Additional usage info and troubleshooting<a class="headerlink" href="#additional-usage-info-and-troubleshooting" title="Permalink to this headline"> </a></h2>
<p>The tumor/normal pipeline shares many operational details with the other Databricks pipelines. For
more detailed usage information, such as output format structure, tips for running programmatically,
steps for setting up custom reference genomes, and common issues, see <a class="reference internal" href="dnaseq-pipeline.html"><span class="doc">DNASeq pipeline</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The pipeline was renamed from TNSeq to MutSeq in Databricks Runtime 7.3 LTS for Genomics and above.</p>
</div>
</div>
</div>


    
          </div>
        </div>
        <div  class="suapp-rating">
  <div id="suPageRateApp">
     <su-app></su-app>
   </div> 
 </div>
<hr> 
<footer>
  <div role="contentinfo">
      <p class="copyright">
          &copy; Databricks 2023. All rights reserved. Apache, Apache Spark, Spark, and the Spark logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a>.
      </p>
      <p> 
        
          <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
        
     | <a href="https://databricks.com/privacy-policy">Privacy Policy</a> | <a href="https://databricks.com/terms-of-use">Terms of Use</a></p>

  </div> 

</footer>
      </div>
    </div>
  </section>
</main>

  </page>
  
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT: '../../../',
      VERSION: '1.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE: 'false'
    };
  </script>
  <script type="text/javascript" src="../../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../../_static/underscore.js"></script>
  <script type="text/javascript" src="../../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../../_static/language_data.js"></script>
  

  <script type="text/javascript" src="../../../_static/js/clipboard.min.js"></script>
  <script type="text/javascript" src="../../../_static/js/jquery.waypoints.min.js"></script>

  <!-- Select2 (https://select2.org/) -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <!-- End Select2 -->

  
  
  <script type="text/javascript" src="../../../_static/js/localized.js"></script>
  <script type="text/javascript" src="../../../_static/js/custom.js"></script>
  

  
  
  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.StickyNav.enable();
    });

  </script>
  
 



  <script>
  window.__searchunifyLoaderConfig = JSON.parse('{"clients": {"en": "02c2e804-27e9-11ee-aefb-0242ac120011", "ja": "6a42c3f2-2820-11ee-aefb-0242ac120011", "pt": "6a86badd-2821-11ee-aefb-0242ac120011"}}')
</script>
<script type="text/javascript" src="../../../_static/js/search-loader.js"></script>
</body>
<script type='text/javascript'>
  window.onload = function () {
    var description = document.querySelector('meta[name="description"]').getAttribute("content");
    let titleText = document.querySelector('h1').textContent;
    document.querySelector('meta[property="og:title"]').setAttribute("content", titleText);
    document.querySelector('meta[property="og:description"]').setAttribute("content", description);
    document.querySelector('meta[property="twitter:description"]').setAttribute("content", description);
  };
</script>

</html>