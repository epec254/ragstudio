

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en-US" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en-US"> <!--<![endif]-->

<head>
  <!-- cookie consent -->
  
    <!-- Combined Onetrust and Rudderstack Implementation Scripts -->
    <!-- Onetrust Initialization -->
    <script type="text/javascript" src="https://cdn.cookielaw.org/consent/92466579-1717-44d3-809d-a05fb02843ed-test/OtAutoBlock.js"></script>
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="92466579-1717-44d3-809d-a05fb02843ed-test"></script>
    <link rel="stylesheet" id="db-onetrust-style" href="https://www.databricks.com/wp-content/uploads/db_onetrust.css" media="all" />
    <!-- Setting Rudderstack Write Key -->
    <script>window.rudderstackKey = "2SOR9fvSr5Fi6tN2ihPbVHnX1SZ" </script>
    <!-- Rudderstack Initialization + Onetrust Integration + Rudderstack Custom Events -->
    <script type="text/javascript" src="https://www.databricks.com/sites/default/files/rudderstack/v1/db-rudderstack-events.js"></script>

  <!-- cookie consent -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta content="Learn how to use dbx by Databricks Labs with Databricks." name="description" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta property="og:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:title" content="dbx by Databricks Labs">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://docs.databricks.com">
  <meta property="og:description" content="" id="og-description">
  <meta name="twitter:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta name="twitter:site" content="@databricks">
  <meta name="twitter:creator" content="@databricks">
  <meta property="twitter:description" content="">
  
  <title>dbx by Databricks Labs &#124; Databricks on AWS</title>
  
  
  <link rel="canonical" href="https://docs.databricks.com/en/archive/dev-tools/dbx/dbx.html">
  <!-- Start hreflang tag -->
  <link rel="alternate" hreflang="en" href="https://docs.databricks.com/en/archive/dev-tools/dbx/dbx.html" />
<link rel="alternate" hreflang="x-default" href="https://docs.databricks.com/en/archive/dev-tools/dbx/dbx.html" />
  <!-- End hreflang tag -->
  
  
  <link rel="shortcut icon" href="../../../_static/favicon.ico" />
  

  

  

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T85FQ33');</script>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWTKQQ');</script>
    
  <!-- End Google Tag Manager -->


  <!-- MaxMind / GEO IP -->
  <script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>
  <!-- End MaxMind / GEO IP -->

  
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600&display=swap" rel="stylesheet">
  <link rel="preload" href="../../../_static/fonts/DMSans-Bold.ttf" as="font">
  <link rel="preload" href="../../../_static/fonts/DMSans-Regular.ttf" as="font">
  <link rel="preload" href="../../../_static/fonts/DMMono-Regular.ttf" as="font">
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/cloud-provider-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/translation-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/searchunify/main.css" type="text/css" />

  
  <link rel="index" title="Index" href="../../../genindex.html" />
  <link rel="search" title="Search" href="../../../search.html" />
  <link rel="top" title="Databricks on AWS" href="../../../index.html" /> 
</head>

<body class="wy-body-for-nav" role="document">

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T85FQ33"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWTKQQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  
  <nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
    
<nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
  <div class="container-logo">
    <ul class="mobile-menu-toggle">
        <li class="menu-toggle">
            <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
            
            <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
              alt="Databricks" /></a>   
               
              </li>
    </ul>
    <ul class="su_nav-menu">
      <li class="menu-toggle">
        <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
        
          
        
        <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
            alt="Databricks" /></a></li>
        <!-- 
<li><a href="https://help.databricks.com/s/">Help Center</a></li>
<li class="active"><a href="https://docs.databricks.com/en/">Documentation</a></li>
<li><a href="https://kb.databricks.com/">Knowledge Base</a></li>
 -->
    </ul>
  </div>
  <div class="su_nav-right">
    <ul class="su_link-mobile">
  <!-- Mobile header code can go here -->
</ul>
<ul class="right-try-list">
   
</ul>
  </div>
</nav>
  </nav>

  <div class="su_sub-header">
    <div class="container">
      <div class="su_sub-header-inner">
        <!-- <div class="su_subnav-menu-right">
  <div id="auto" style="width: 100%;">
    <div ng-controller="SearchautoController">
      <div bind-html-compile="autocompleteHtml">
        <form class="su__search-box-1" disabled="disabled">
          <input class="su__search-input" type="search" name="Search box" id="su__search-b" placeholder="Search Documentation" disabled="disabled"/>
          <button class="su__search-button" type="submit" class="button button-success" disabled="disabled">
            <svg width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                fill="#333"></path>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>
</div> -->
        <div class="search-lng-gap"></div>
        <div style="margin-left: 16px; margin-right: 16px;">
          <!-- <select name="lng selector" id="lng-selector">
    <option value="../../../../en/archive/dev-tools/dbx/dbx.html" class="notranslate">English</option>
    <option value="../../../../ja/archive/dev-tools/dbx/dbx.html" class="notranslate">日本語</option>
    <option value="../../../../pt/archive/dev-tools/dbx/dbx.html" class="notranslate">Português (Brasil)</option>
</select> -->
        </div>
        <div class="cloud-selector-container">
          <!-- <select name="cloud provider selector" id="cloud-provider-selector">
    <option value="aws" selected class="notranslate">
        Amazon Web Services
    </option>
    <option value="azure"  class="notranslate">
        Microsoft Azure
    </option>
    <option value="gcp"  class="notranslate">
        Google Cloud Platform
    </option>
</select> -->
        </div>
      </div>
    </div>
  </div>
  <page class="js-page-container">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side su_nav-side">
<div class="wy-side-scroll">
  <div class="wy-side-nav-search">
    

    

    

    
  </div>

  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      <a href="../../../index.html" class="main-navigation-home">Databricks on AWS</a>
    

    
      

      
        <p class="caption"><span class="caption-text">Load &amp; manage data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../rag-temp/index.html">RAG Studio</a></li>
</ul>

      
    
  </div>

  <div role="contentinfo">
    
  <p class="build_info notranslate"data-last-edit="December 23, 2023">
    Updated Jan 11, 2024
  </p>
<script>
  window.addEventListener('DOMContentLoaded',function(){
    var h1=document.querySelector('h1');
    var bi=document.querySelector('[data-last-edit]');
    if(h1 && bi){
      var ver = document.createElement('p');
      ver.className = 'version_info';
      ver.textContent = bi.getAttribute('data-last-edit');
      h1.parentElement.insertBefore(ver, h1.nextElementSibling);
    }
  });
</script>

    <p>
      
        <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
      
    </p>
  </div>
</div>
</nav>
    
    
<main class="wy-grid-for-nav su_nav-grid">
  <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
    <div class="wy-nav-content su__nav_content">
      <div class="rst-content">
        





<div role="navigation" aria-label="breadcrumbs navigation" class="wy-breadcrumbs-wrapper">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Documentation</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
    
      <li>dbx by Databricks Labs</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>
</div>
        
        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
          <div itemprop="articleBody">
            
    
  <div class="section" id="dbx-by-databricks-labs">
<h1>dbx by Databricks Labs<a class="headerlink" href="#dbx-by-databricks-labs" title="Permalink to this headline"> </a></h1>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>This documentation has been retired and might not be updated.</p>
<p>Databricks recommends that you use Databricks Asset Bundles instead of <code class="docutils literal notranslate"><span class="pre">dbx</span></code> by Databricks Labs. See <a class="reference internal" href="../../../dev-tools/bundles/index.html"><span class="doc">What are Databricks Asset Bundles?</span></a> and <a class="reference internal" href="dbx-migrate.html"><span class="doc">Migrate from dbx to bundles</span></a>.</p>
</div>
<p></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This article covers <code class="docutils literal notranslate"><span class="pre">dbx</span></code> by Databricks Labs, which is provided as-is and is not supported by Databricks through customer technical support channels. Questions and feature requests can be communicated through the <a class="reference external" href="https://github.com/databrickslabs/dbx/issues">Issues</a> page of the <a class="reference external" href="https://github.com/databrickslabs/dbx">databrickslabs/dbx</a> repo on GitHub.</p>
</div>
<p><a class="reference external" href="https://dbx.readthedocs.io/en/latest">dbx</a> by Databricks Labs is an open source tool which is designed to extend the legacy Databricks command-line interface (<a class="reference internal" href="../cli/index.html"><span class="doc">Databricks CLI</span></a>) and to provide functionality for rapid development lifecycle and continuous integration and continuous delivery/deployment (CI/CD) on the Databricks platform.</p>
<p><code class="docutils literal notranslate"><span class="pre">dbx</span></code> simplifies <a class="reference internal" href="../../../workflows/index.html#what-is-jobs"><span class="std std-ref">jobs</span></a> launch and deployment processes across multiple environments. It also helps to package your project and deliver it to your Databricks environment in a versioned fashion. Designed in a CLI-first manner, it is built to be actively used both inside CI/CD pipelines and as a part of local tooling (such as local IDEs, including Visual Studio Code and PyCharm).</p>
<p>The typical development workflow with <code class="docutils literal notranslate"><span class="pre">dbx</span></code> is:</p>
<ol class="arabic">
<li><p>Create a remote repository with a <a class="reference internal" href="../../../repos/index.html#supported-git-providers"><span class="std std-ref">Git provider</span></a> Databricks supports, if you do not have a remote repo available already.</p></li>
<li><p><a class="reference internal" href="../../../repos/git-operations-with-repos.html"><span class="doc">Clone</span></a> your remote repo into your Databricks workspace.</p></li>
<li><p>Create or move a Databricks notebook into the cloned repo in your Databricks workspace. Use this notebook to begin prototyping the code that you want your Databricks <a class="reference internal" href="../../../compute/index.html"><span class="doc">clusters</span></a> to run.</p></li>
<li><p>To enhance and modularize your notebook code by adding separate helper classes and functions, configuration files, and tests, switch over to using a local development machine with <code class="docutils literal notranslate"><span class="pre">dbx</span></code>, your preferred IDE, and Git installed.</p></li>
<li><p>Clone your remote repo to your local development machine.</p></li>
<li><p>Move your code out of your notebook into one or more local code files.</p></li>
<li><p>As you code locally, push your work from your local repo to your remote repo. Also, <a class="reference internal" href="../../../repos/git-operations-with-repos.html"><span class="doc">sync</span></a> your remote repo with your Databricks workspace.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Alternatively, you can use <a class="reference internal" href="dbx-sync.html"><span class="doc">dbx sync</span></a> to automatically synchronize local file changes with corresponding files in your workspace, in real time.</p>
</div>
</li>
<li><p>Keep using the notebook in your Databricks workspace for rapid prototyping, and keep moving validated code from your notebook to your local machine. Keep using your local IDE for tasks such as code modularization, code completion, linting, unit testing, and step-through debugging of code and objects that do not require a live connection to Databricks.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">dbx</span></code> to batch run your local code on your target clusters, as desired. (This is similar to running the <a class="reference external" href="https://spark.apache.org/docs/latest/submitting-applications.html#launching-applications-with-spark-submit">spark-submit</a> script in Spark’s <code class="docutils literal notranslate"><span class="pre">bin</span></code> directory to launch applications on a Spark cluster.)</p></li>
<li><p>When you are ready for production, use a CI/CD platform such as <a class="reference external" href="https://docs.github.com/en/actions">GitHub Actions</a>, <a class="reference external" href="https://learn.microsoft.com/azure/devops">Azure DevOps</a>, or <a class="reference external" href="https://about.gitlab.com/get-started/">GitLab</a> to automate running your remote repo’s code on your clusters.</p></li>
</ol>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline"> </a></h2>
<p>To use <code class="docutils literal notranslate"><span class="pre">dbx</span></code>, you must have the following installed on your local development machine, regardless of whether your code uses Python, Scala, or Java:</p>
<ul>
<li><p><a class="reference external" href="https://www.python.org/downloads/">Python</a> version 3.8 or above.</p>
<p>If your code uses Python, you should use a version of Python that matches the one that is installed on your target clusters. To get the version of Python that is installed on an existing cluster, you can use the cluster’s <a class="reference internal" href="../../../compute/web-terminal.html"><span class="doc">web terminal</span></a> to run the <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">--version</span></code> command. See also the “System environment” section in the <a class="reference internal" href="../../../release-notes/runtime/index.html"><span class="doc">Databricks Runtime release notes versions and compatibility</span></a> for the Databricks Runtime version for your target clusters.</p>
</li>
<li><p><a class="reference external" href="https://pip.pypa.io/en/stable/installation/">pip</a>.</p></li>
<li><p>If your code uses Python, a method to create Python virtual environments to ensure you are using the correct versions of Python and package dependencies in your <code class="docutils literal notranslate"><span class="pre">dbx</span></code> projects. This article covers <a class="reference external" href="https://pipenv.pypa.io/">pipenv</a>.</p></li>
<li><p><a class="reference external" href="https://pypi.org/project/dbx/">dbx</a> version 0.8.0 or above. You can install this package from the Python Package Index (PyPI) by running <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">dbx</span></code>.</p>
<p>To confirm that <code class="docutils literal notranslate"><span class="pre">dbx</span></code> is installed, run the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dbx<span class="w"> </span>--version
</pre></div>
</div>
<p>If the version number is returned, <code class="docutils literal notranslate"><span class="pre">dbx</span></code> is installed.</p>
<p>If the version number is below 0.8.0, upgrade <code class="docutils literal notranslate"><span class="pre">dbx</span></code> by running the following command, and then check the version number again:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>dbx<span class="w"> </span>--upgrade
dbx<span class="w"> </span>--version

<span class="c1"># Or ...</span>
python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>dbx<span class="w"> </span>--upgrade
dbx<span class="w"> </span>--version
</pre></div>
</div>
</li>
<li><p>The <a class="reference internal" href="../cli/index.html"><span class="doc">Databricks CLI version 0.18 or below</span></a>, set up with <a class="reference internal" href="../cli/index.html#set-up-authentication"><span class="std std-ref">authentication</span></a>. The legacy Databricks CLI (Databricks CLI version 0.17) is automatically installed when you install <code class="docutils literal notranslate"><span class="pre">dbx</span></code>. This authentication can be set up on your local development machine in one or both of the following locations:</p>
<ul class="simple">
<li><p>Within the <code class="docutils literal notranslate"><span class="pre">DATABRICKS_HOST</span></code> and <code class="docutils literal notranslate"><span class="pre">DATABRICKS_TOKEN</span></code> environment variables (starting with legacy Databricks CLI version 0.8.0).</p></li>
<li><p>In a Databricks <a class="reference internal" href="../../../dev-tools/auth/index.html#config-profiles"><span class="std std-ref">configuration profile</span></a> within your <code class="docutils literal notranslate"><span class="pre">.databrickscfg</span></code> file.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">dbx</span></code> looks for authentication credentials in these two locations, respectively. <code class="docutils literal notranslate"><span class="pre">dbx</span></code> uses only the first set of matching credentials that it finds.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">dbx</span></code> does not support the use of a <a class="reference external" href="https://everything.curl.dev/usingcurl/netrc">.netrc</a> file for authentication, beginning with legacy Databricks CLI version 0.17.2. To check your installed legacy Databricks CLI version, run the command <code class="docutils literal notranslate"><span class="pre">databricks</span> <span class="pre">--version</span></code>.</p>
</div>
</li>
<li><p><a class="reference external" href="https://git-scm.com/downloads">git</a> for pushing and syncing local and remote code changes.</p></li>
</ul>
<p>Continue with the instructions for one of the following IDEs:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#visual-studio-code"><span class="std std-ref">Visual Studio Code</span></a></p></li>
<li><p><a class="reference internal" href="#pycharm"><span class="std std-ref">PyCharm</span></a></p></li>
<li><p><a class="reference internal" href="#intellij-idea"><span class="std std-ref">IntelliJ IDEA</span></a></p></li>
<li><p><a class="reference internal" href="#eclipse"><span class="std std-ref">Eclipse</span></a></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Databricks has validated usage of the preceding IDEs with <code class="docutils literal notranslate"><span class="pre">dbx</span></code>; however, <code class="docutils literal notranslate"><span class="pre">dbx</span></code> should work with any IDE. You can also use <a class="reference internal" href="#terminal"><span class="std std-ref">No IDE (terminal only)</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">dbx</span></code> is optimized to work with single-file Python code files and compiled Scala and Java JAR files. <code class="docutils literal notranslate"><span class="pre">dbx</span></code> does not work with single-file R code files or compiled R code packages. This is because <code class="docutils literal notranslate"><span class="pre">dbx</span></code> works with the Jobs API <a class="reference internal" href="../../../workflows/jobs/jobs-2.0-api.html"><span class="doc">2.0</span></a> and <a class="reference external" href="https://docs.databricks.com/api/workspace/jobs">2.1</a>, and these APIs cannot run single-file R code files or compiled R code packages as jobs.</p>
</div>
</div>
<div class="section" id="visual-studio-code">
<h2>Visual Studio Code<a class="headerlink" href="#visual-studio-code" title="Permalink to this headline"> </a></h2>
<p>Complete the following instructions to begin using <a class="reference external" href="https://code.visualstudio.com/">Visual Studio Code</a> and Python with <code class="docutils literal notranslate"><span class="pre">dbx</span></code>.</p>
<p>On your local development machine, you must have the following installed in addition to the general <a class="reference internal" href="#requirements"><span class="std std-ref">requirements</span></a>:</p>
<ul>
<li><p><a class="reference external" href="https://code.visualstudio.com/">Visual Studio Code</a>.</p></li>
<li><p>The <a class="reference external" href="https://marketplace.visualstudio.com/items?itemName=ms-python.python">Python</a> extension for Visual Studio Code. For more information, see <a class="reference external" href="https://code.visualstudio.com/docs/editor/extension-marketplace">Extension Marketplace</a> on the Visual Studio Code website.</p>
<p>For more information, see <a class="reference external" href="https://code.visualstudio.com/docs/python/python-tutorial">Getting Started with Python in VS Code</a> in the Visual Studio Code documentation.</p>
</li>
</ul>
<p>Follow these steps to begin setting up your <code class="docutils literal notranslate"><span class="pre">dbx</span></code> project structure:</p>
<ol class="arabic">
<li><p>From your terminal, create a blank folder. These instructions use a folder named <code class="docutils literal notranslate"><span class="pre">dbx-demo</span></code>. You can give your <code class="docutils literal notranslate"><span class="pre">dbx</span></code> project’s root folder any name you want. If you use a different name, replace the name throughout these steps. After you create the folder, switch to it, and then start Visual Studio Code from that folder.</p>
<p>For Linux and macOS:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>dbx-demo
<span class="nb">cd</span><span class="w"> </span>dbx-demo
code<span class="w"> </span>.
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If <code class="docutils literal notranslate"><span class="pre">command</span> <span class="pre">not</span> <span class="pre">found:</span> <span class="pre">code</span></code> displays after you run <code class="docutils literal notranslate"><span class="pre">code</span> <span class="pre">.</span></code>, see <a class="reference external" href="https://code.visualstudio.com/docs/setup/mac#_launching-from-the-command-line">Launching from the command line</a> on the Microsoft website.</p>
</div>
<p>For Windows:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nb">md </span><span class="n">dbx-demo</span>
<span class="nb">cd </span><span class="n">dbx-demo</span>
<span class="n">code</span> <span class="p">.</span>
</pre></div>
</div>
</li>
<li><p>In Visual Studio Code, create a Python virtual environment for this project:</p>
<ol class="loweralpha">
<li><p>On the menu bar, click <strong>View &gt; Terminal</strong>.</p></li>
<li><p>From the root of the <code class="docutils literal notranslate"><span class="pre">dbx-demo</span></code> folder, run the <code class="docutils literal notranslate"><span class="pre">pipenv</span></code> command with the following option, where <code class="docutils literal notranslate"><span class="pre">&lt;version&gt;</span></code> is the target version of Python that you already have installed locally (and, ideally, a version that matches your target clusters’ version of Python), for example <code class="docutils literal notranslate"><span class="pre">3.8.14</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pipenv<span class="w"> </span>--python<span class="w"> </span>&lt;version&gt;
</pre></div>
</div>
<p>Make a note of the <code class="docutils literal notranslate"><span class="pre">Virtualenv</span> <span class="pre">location</span></code> value in the output of the <code class="docutils literal notranslate"><span class="pre">pipenv</span></code> command, as you will need it in the next step.</p>
</li>
</ol>
</li>
<li><p>Select the target Python interpreter, and then activate the Python virtual environment:</p>
<ol class="loweralpha simple">
<li><p>On the menu bar, click <strong>View &gt; Command Palette</strong>, type <code class="docutils literal notranslate"><span class="pre">Python:</span> <span class="pre">Select</span></code>, and then click <strong>Python: Select Interpreter</strong>.</p></li>
<li><p>Select the Python interpreter within the path to the Python virtual environment that you just created. (This path is listed as the <code class="docutils literal notranslate"><span class="pre">Virtualenv</span> <span class="pre">location</span></code> value in the output of the <code class="docutils literal notranslate"><span class="pre">pipenv</span></code> command.)</p></li>
<li><p>On the menu bar, click <strong>View &gt; Command Palette</strong>, type <code class="docutils literal notranslate"><span class="pre">Terminal:</span> <span class="pre">Create</span></code>, and then click <strong>Terminal: Create New Terminal</strong>.</p></li>
</ol>
<p>For more information, see <a class="reference external" href="https://code.visualstudio.com/docs/python/environments">Using Python environments in VS Code</a> in the Visual Studio Code documentation.</p>
</li>
<li><p>Continue with <a class="reference internal" href="#create-a-dbx-project"><span class="std std-ref">Create a dbx project</span></a>.</p></li>
</ol>
</div>
<div class="section" id="pycharm">
<h2>PyCharm<a class="headerlink" href="#pycharm" title="Permalink to this headline"> </a></h2>
<p>Complete the following instructions to begin using <a class="reference external" href="https://www.jetbrains.com/pycharm/">PyCharm</a> and Python with <code class="docutils literal notranslate"><span class="pre">dbx</span></code>.</p>
<p>On your local development machine, you must have <a class="reference external" href="https://www.jetbrains.com/pycharm/">PyCharm</a> installed in addition to the general <a class="reference internal" href="#requirements"><span class="std std-ref">requirements</span></a>.</p>
<p>Follow these steps to begin setting up your <code class="docutils literal notranslate"><span class="pre">dbx</span></code> project structure:</p>
<ol class="arabic simple">
<li><p>In PyCharm, on the menu bar, click <strong>File &gt; New Project</strong>.</p></li>
<li><p>In the <strong>Create Project</strong> dialog, choose a location for your new project.</p></li>
<li><p>Expand <strong>Python interpreter: New Pipenv environment</strong>.</p></li>
<li><p>Select <strong>New environment using</strong>, if it is not already selected, and then select <strong>Pipenv</strong> from the drop-down list.</p></li>
<li><p>For <strong>Base interpreter</strong>, select the location that contains the Python interpreter for the target version of Python that you already have installed locally (and, ideally, a version that matches your target clusters’ version of Python).</p></li>
<li><p>For <strong>Pipenv executable</strong>, select the location that contains your local installation of <code class="docutils literal notranslate"><span class="pre">pipenv</span></code>, if it is not already auto-detected.</p></li>
<li><p>If you want to create a minimal <code class="docutils literal notranslate"><span class="pre">dbx</span></code> project, and you want to use the <code class="docutils literal notranslate"><span class="pre">main.py</span></code> file with that minimal <code class="docutils literal notranslate"><span class="pre">dbx</span></code> project, then select the <strong>Create a main.py welcome script</strong> box. Otherwise, clear this box.</p></li>
<li><p>Click <strong>Create</strong>.</p></li>
<li><p>In the <strong>Project</strong> tool window, right-click the project’s root folder, and then click <strong>Open in &gt; Terminal</strong>.</p></li>
<li><p>Continue with <a class="reference internal" href="#create-a-dbx-project"><span class="std std-ref">Create a dbx project</span></a>.</p></li>
</ol>
</div>
<div class="section" id="intellij-idea">
<h2>IntelliJ IDEA<a class="headerlink" href="#intellij-idea" title="Permalink to this headline"> </a></h2>
<p>Complete the following instructions to begin using <a class="reference external" href="https://www.jetbrains.com/idea/">IntelliJ IDEA</a> and Scala with <code class="docutils literal notranslate"><span class="pre">dbx</span></code>. These instructions create a minimal sbt-based Scala project that you can use to start a <code class="docutils literal notranslate"><span class="pre">dbx</span></code> project.</p>
<p>On your local development machine, you must have the following installed in addition to the general <a class="reference internal" href="#requirements"><span class="std std-ref">requirements</span></a>:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.jetbrains.com/idea/download/">IntelliJ IDEA</a>.</p></li>
<li><p>The <a class="reference external" href="https://plugins.jetbrains.com/plugin/1347-scala">Scala</a> plugin for IntelliJ IDEA. For more information, see <a class="reference external" href="https://www.jetbrains.com/help/idea/discover-intellij-idea-for-scala.html">Discover IntelliJ IDEA for Scala</a> in the IntelliJ IDEA documentation.</p></li>
<li><p>Java Runtime Environment (JRE) 8. While any edition of JRE 8 should work, Databricks has so far only validated usage of <code class="docutils literal notranslate"><span class="pre">dbx</span></code> and IntelliJ IDEA with the OpenJDK 8 JRE. Databricks has not yet validated usage of <code class="docutils literal notranslate"><span class="pre">dbx</span></code> with IntelliJ IDEA and Java 11. For more information, see <a class="reference external" href="https://www.jetbrains.com/help/idea/sdk.html#jdk">Java Development Kit (JDK)</a> in the IntelliJ IDEA documentation.</p></li>
</ul>
<p>Follow these steps to begin setting up your <code class="docutils literal notranslate"><span class="pre">dbx</span></code> project structure:</p>
<div class="section" id="step-1-create-an-sbt-based-scala-project">
<h3>Step 1: Create an sbt-based Scala project<a class="headerlink" href="#step-1-create-an-sbt-based-scala-project" title="Permalink to this headline"> </a></h3>
<ol class="arabic simple">
<li><p>In IntelliJ IDEA, depending on your view, click <strong>Projects &gt; New Project</strong> or <strong>File &gt; New &gt; Project</strong>.</p></li>
<li><p>In the <strong>New Project</strong> dialog, click <strong>Scala</strong>, click <strong>sbt</strong>, and then click <strong>Next</strong>.</p></li>
<li><p>Enter a project name and a location for the project.</p></li>
<li><p>For <strong>JDK</strong>, select your installation of the OpenJDK 8 JRE.</p></li>
<li><p>For <strong>sbt</strong>, choose the highest available version of <code class="docutils literal notranslate"><span class="pre">sbt</span></code> that is listed.</p></li>
<li><p>For <strong>Scala</strong>, ideally, choose the version of Scala that matches your target clusters’ version of Scala. See the “System environment” section in the <a class="reference internal" href="../../../release-notes/runtime/index.html"><span class="doc">Databricks Runtime release notes versions and compatibility</span></a> for the Databricks Runtime version for your target clusters.</p></li>
<li><p>Next to <strong>Scala</strong>, select the <strong>Sources</strong> box if it is not already selected.</p></li>
<li><p>Add a package prefix to <strong>Package Prefix</strong>. These steps use the package prefix <code class="docutils literal notranslate"><span class="pre">com.example.demo</span></code>. If you specify a different package prefix, replace the package prefix throughout these steps.</p></li>
<li><p>Click <strong>Finish</strong>.</p></li>
</ol>
</div>
<div class="section" id="step-2-add-an-object-to-the-package">
<h3>Step 2: Add an object to the package<a class="headerlink" href="#step-2-add-an-object-to-the-package" title="Permalink to this headline"> </a></h3>
<p>You can add any required objects to your package. This package contains a single object named <code class="docutils literal notranslate"><span class="pre">SampleApp</span></code>.</p>
<ol class="arabic">
<li><p>In the <strong>Project</strong> tool window (<strong>View &gt; Tool Windows &gt; Project</strong>), right-click the <strong><em>project-name</em> &gt; src &gt; main &gt; scala</strong> folder, and then click <strong>New &gt; Scala Class</strong>.</p></li>
<li><p>Choose <strong>Object</strong>, and type the object’s name and then press Enter. For example, type <code class="docutils literal notranslate"><span class="pre">SampleApp</span></code>. If you enter a different object name here, be sure to replace the name throughout these steps.</p></li>
<li><p>Replace the contents of the <code class="docutils literal notranslate"><span class="pre">SampleApp.scala</span></code> file with the following code:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">package</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">example</span><span class="p">.</span><span class="n">demo</span>

<span class="k">object</span><span class="w"> </span><span class="nc">SampleApp</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span><span class="w"> </span><span class="nc">Array</span><span class="p">[</span><span class="nc">String</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="step-3-build-the-project">
<h3>Step 3: Build the project<a class="headerlink" href="#step-3-build-the-project" title="Permalink to this headline"> </a></h3>
<p>Add any required project build settings and dependencies to your project. This step assumes that you are building a project that was set up in the previous steps and it depends on only the following libraries.</p>
<ol class="arabic">
<li><p>Replace the contents of the project’s <code class="docutils literal notranslate"><span class="pre">build.sbt</span></code> file with the following content:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="nc">ThisBuild</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;0.1.0-SNAPSHOT&quot;</span>

<span class="nc">ThisBuild</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">scalaVersion</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;2.12.14&quot;</span>

<span class="kd">val</span><span class="w"> </span><span class="n">sparkVersion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;3.2.1&quot;</span>

<span class="k">lazy</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">project</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">file</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">))</span>
<span class="w">  </span><span class="p">.</span><span class="n">settings</span><span class="p">(</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;dbx-demo&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">idePackagePrefix</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nc">Some</span><span class="p">(</span><span class="s">&quot;com.example.demo&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">libraryDependencies</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s">&quot;org.apache.spark&quot;</span><span class="w"> </span><span class="o">%%</span><span class="w"> </span><span class="s">&quot;spark-core&quot;</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">sparkVersion</span><span class="w"> </span><span class="n">withSources</span><span class="p">(),</span>
<span class="w">    </span><span class="n">libraryDependencies</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s">&quot;org.apache.spark&quot;</span><span class="w"> </span><span class="o">%%</span><span class="w"> </span><span class="s">&quot;spark-sql&quot;</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">sparkVersion</span><span class="w"> </span><span class="n">withSources</span><span class="p">(),</span>
<span class="w">    </span><span class="n">libraryDependencies</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s">&quot;org.apache.spark&quot;</span><span class="w"> </span><span class="o">%%</span><span class="w"> </span><span class="s">&quot;spark-hive&quot;</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">sparkVersion</span><span class="w"> </span><span class="n">withSources</span><span class="p">()</span>
<span class="w">  </span><span class="p">)</span>
</pre></div>
</div>
<p>In the preceding file, replace:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">2.12.14</span></code> with the version of Scala that you chose earlier for this project.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3.2.1</span></code> with the version of Spark that you chose earlier for this project.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dbx-demo</span></code> with the name of your project.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">com.example.demo</span></code> with the name of your package prefix.</p></li>
</ul>
</li>
<li><p>On the menu bar, click <strong>View &gt; Tool Windows &gt; sbt</strong>.</p></li>
<li><p>In the <strong>sbt</strong> tool window, right-click the name of your project, and click <strong>Reload sbt Project</strong>. Wait until <code class="docutils literal notranslate"><span class="pre">sbt</span></code> finishes downloading the project’s dependencies from an Internet artifact store such as Coursier or Ivy by default, depending on your version of <code class="docutils literal notranslate"><span class="pre">sbt</span></code>. You can watch the download progress in the status bar. If you add or change any more dependencies to this project, you must repeat this project reloading step for each set of dependencies that you add or change.</p></li>
<li><p>On the menu bar, click <strong>IntelliJ IDEA &gt; Preferences</strong>.</p></li>
<li><p>In the <strong>Preferences</strong> dialog, click <strong>Build, Execution, Deployment &gt; Build Tools &gt; sbt</strong>.</p></li>
<li><p>In <strong>JVM</strong>, for <strong>JRE</strong>, select your installation of the OpenJDK 8 JRE.</p></li>
<li><p>In <strong>sbt projects</strong>, select the name of your project.</p></li>
<li><p>In <strong>sbt shell</strong>, select <strong>builds</strong>.</p></li>
<li><p>Click <strong>OK</strong>.</p></li>
<li><p>On the menu bar, click <strong>Build &gt; Build Project</strong>. The build’s results appear in the <strong>sbt shell</strong> tool window (<strong>View &gt; Tool Windows &gt; sbt shell</strong>).</p></li>
</ol>
</div>
<div class="section" id="step-4-add-code-to-the-project">
<h3>Step 4: Add code to the project<a class="headerlink" href="#step-4-add-code-to-the-project" title="Permalink to this headline"> </a></h3>
<p>Add any required code to your project. This step assumes that you only want to add code to the <code class="docutils literal notranslate"><span class="pre">SampleApp.scala</span></code> file in the <code class="docutils literal notranslate"><span class="pre">example</span></code> package.</p>
<p>In the project’s <code class="docutils literal notranslate"><span class="pre">src</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">main</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">scala</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">SampleApp.scala</span></code> file, add the code that you want <code class="docutils literal notranslate"><span class="pre">dbx</span></code> to batch run on your target clusters. For basic testing, use the example Scala code in the section <a class="reference internal" href="#code-example"><span class="std std-ref">Code example</span></a>.</p>
</div>
<div class="section" id="step-5-run-the-project">
<h3>Step 5: Run the project<a class="headerlink" href="#step-5-run-the-project" title="Permalink to this headline"> </a></h3>
<ol class="arabic simple">
<li><p>On the menu bar, click <strong>Run &gt; Edit Configurations</strong>.</p></li>
<li><p>In the <strong>Run/Debug Configurations</strong> dialog, click the <strong>+</strong> (<strong>Add New Configuration</strong>) icon, or <strong>Add new</strong>, or <strong>Add new run configuration</strong>.</p></li>
<li><p>In the drop-down, click <strong>sbt Task</strong>.</p></li>
<li><p>For <strong>Name</strong>, enter a name for the configuration, for example, <strong>Run the program</strong>.</p></li>
<li><p>For <strong>Tasks</strong>, enter <code class="docutils literal notranslate"><span class="pre">~run</span></code>.</p></li>
<li><p>Select <strong>Use sbt shell</strong>.</p></li>
<li><p>Click <strong>OK</strong>.</p></li>
<li><p>On the menu bar, click <strong>Run &gt; Run ‘Run the program’</strong>. The run’s results appear in the <strong>sbt shell</strong> tool window.</p></li>
</ol>
</div>
<div class="section" id="step-6-build-the-project-as-a-jar">
<h3>Step 6: Build the project as a JAR<a class="headerlink" href="#step-6-build-the-project-as-a-jar" title="Permalink to this headline"> </a></h3>
<p>You can add any JAR build settings to your project that you want. This step assumes that you only want to build a JAR that is based on the project that was set up in the previous steps.</p>
<ol class="arabic simple">
<li><p>On the menu bar, click <strong>File &gt; Project Structure</strong>.</p></li>
<li><p>In the <strong>Project Structure</strong> dialog, click <strong>Project Settings &gt; Artifacts</strong>.</p></li>
<li><p>Click the <strong>+</strong> (<strong>Add</strong>) icon.</p></li>
<li><p>In the drop-down list, select <strong>JAR &gt; From modules with dependencies</strong>.</p></li>
<li><p>In the <strong>Create JAR from Modules</strong> dialog, for <strong>Module</strong>, select the name of your project.</p></li>
<li><p>For <strong>Main Class</strong>, click the folder icon.</p></li>
<li><p>In the <strong>Select Main Class</strong> dialog, on the <strong>Search by Name</strong> tab, select <strong>SampleApp</strong>, and then click <strong>OK</strong>.</p></li>
<li><p>For <strong>JAR files from libraries</strong>, select <strong>copy to the output directory and link via manifest</strong>.</p></li>
<li><p>Click <strong>OK</strong> to close the <strong>Create JAR from Modules</strong> dialog.</p></li>
<li><p>Click <strong>OK</strong> to close the <strong>Project Structure</strong> dialog.</p></li>
<li><p>On the menu bar, click <strong>Build &gt; Build Artifacts</strong>.</p></li>
<li><p>In the context menu that appears, select <strong><em>project-name</em>:jar &gt; Build</strong>. Wait while <code class="docutils literal notranslate"><span class="pre">sbt</span></code> builds your JAR. The build’s results appear in the <strong>Build Output</strong> tool window (<strong>View &gt; Tool Windows &gt; Build</strong>).</p></li>
</ol>
<p>The JAR is built to the project’s <code class="docutils literal notranslate"><span class="pre">out</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">artifacts</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">&lt;project-name&gt;_jar</span></code> folder. The JAR’s name is <code class="docutils literal notranslate"><span class="pre">&lt;project-name&gt;.jar</span></code>.</p>
</div>
<div class="section" id="step-7-display-the-terminal-in-the-ide">
<h3>Step 7: Display the terminal in the IDE<a class="headerlink" href="#step-7-display-the-terminal-in-the-ide" title="Permalink to this headline"> </a></h3>
<p>With your <code class="docutils literal notranslate"><span class="pre">dbx</span></code> project structure now in place, you are ready to create your <code class="docutils literal notranslate"><span class="pre">dbx</span></code> project.</p>
<p>Display the IntelliJ IDEA terminal by clicking <strong>View &gt; Tool Windows &gt; Terminal</strong> on the menu bar, and then continue with <a class="reference internal" href="#create-a-dbx-project"><span class="std std-ref">Create a dbx project</span></a>.</p>
</div>
</div>
<div class="section" id="eclipse">
<h2>Eclipse<a class="headerlink" href="#eclipse" title="Permalink to this headline"> </a></h2>
<p>Complete the following instructions to begin using <a class="reference external" href="https://www.eclipse.org/ide/">Eclipse</a> and Java with <code class="docutils literal notranslate"><span class="pre">dbx</span></code>. These instructions create a minimal Maven-based Java project that you can use to start a <code class="docutils literal notranslate"><span class="pre">dbx</span></code> project.</p>
<p>On your local development machine, you must have the following installed in addition to the general <a class="reference internal" href="#requirements"><span class="std std-ref">requirements</span></a>:</p>
<ul class="simple">
<li><p>A version of Eclipse. These instructions use the Eclipse IDE for Java Developers edition of the <a class="reference external" href="https://www.eclipse.org/downloads/">Eclipse IDE</a>.</p></li>
<li><p>An edition of the Java Runtime Environment (JRE) or Java Development Kit (JDK) 11, depending on your local machine’s operating system. While any edition of JRE or JDK 11 should work, Databricks has so far only validated usage of <code class="docutils literal notranslate"><span class="pre">dbx</span></code> and the Eclipse IDE for Java Developers with Eclipse 2022-03 R, which includes AdoptOpenJDK 11.</p></li>
</ul>
<p>Follow these steps to begin setting up your <code class="docutils literal notranslate"><span class="pre">dbx</span></code> project structure:</p>
<div class="section" id="step-1-create-a-maven-based-java-project">
<h3>Step 1: Create a Maven-based Java project<a class="headerlink" href="#step-1-create-a-maven-based-java-project" title="Permalink to this headline"> </a></h3>
<ol class="arabic simple">
<li><p>In Eclipse, click <strong>File &gt; New &gt; Project</strong>.</p></li>
<li><p>In the <strong>New Project</strong> dialog, expand <strong>Maven</strong>, select <strong>Maven Project</strong>, and click <strong>Next</strong>.</p></li>
<li><p>In the <strong>New Maven Project</strong> dialog, select <strong>Create a simple project (skip archetype selection)</strong>, and click <strong>Next</strong>.</p></li>
<li><p>For <strong>Group Id</strong>, enter a group ID that conforms to Java’s package name rules. These steps use the package name of <code class="docutils literal notranslate"><span class="pre">com.example.demo</span></code>. If you enter a different group ID, substitute it throughout these steps.</p></li>
<li><p>For <strong>Artifact Id</strong>, enter a name for the JAR file without the version number. These steps use the JAR name of <code class="docutils literal notranslate"><span class="pre">dbx-demo</span></code>. If you enter a different name for the JAR file, substitute it throughout these steps.</p></li>
<li><p>Click <strong>Finish</strong>.</p></li>
</ol>
</div>
<div class="section" id="step-2-add-a-class-to-the-package">
<h3>Step 2: Add a class to the package<a class="headerlink" href="#step-2-add-a-class-to-the-package" title="Permalink to this headline"> </a></h3>
<p>You can add any classes to your package that you want. This package will contain a single class named <code class="docutils literal notranslate"><span class="pre">SampleApp</span></code>.</p>
<ol class="arabic simple">
<li><p>In the <strong>Project Explorer</strong> view (<strong>Window &gt; Show View &gt; Project Explorer</strong>), select the <strong><em>project-name</em></strong> project icon, and then click <strong>File &gt; New &gt; Class</strong>.</p></li>
<li><p>In the <strong>New Java Class</strong> dialog, for <strong>Package</strong>, enter <code class="docutils literal notranslate"><span class="pre">com.example.demo</span></code>.</p></li>
<li><p>For <strong>Name</strong>, enter <code class="docutils literal notranslate"><span class="pre">SampleApp</span></code>.</p></li>
<li><p>For <strong>Modifiers</strong>, select <strong>public</strong>.</p></li>
<li><p>Leave <strong>Superclass</strong> blank.</p></li>
<li><p>For <strong>Which method stubs would you like to create</strong>, select <strong>public static void Main(String[] args)</strong>.</p></li>
<li><p>Click <strong>Finish</strong>.</p></li>
</ol>
</div>
<div class="section" id="step-3-add-dependencies-to-the-project">
<h3>Step 3: Add dependencies to the project<a class="headerlink" href="#step-3-add-dependencies-to-the-project" title="Permalink to this headline"> </a></h3>
<ol class="arabic">
<li><p>In the <strong>Project Explorer</strong> view, double-click <strong><em>project-name</em> &gt; pom.xml</strong>.</p></li>
<li><p>Add the following dependencies as a child element of the <code class="docutils literal notranslate"><span class="pre">&lt;project&gt;</span></code> element, and then save the file:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;dependencies&gt;</span>
<span class="w">  </span><span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>org.apache.spark<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>spark-sql_2.12<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;version&gt;</span>3.2.1<span class="nt">&lt;/version&gt;</span>
<span class="w">    </span><span class="nt">&lt;scope&gt;</span>provided<span class="nt">&lt;/scope&gt;</span>
<span class="w">  </span><span class="nt">&lt;/dependency&gt;</span>
<span class="w">  </span><span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>org.apache.spark<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>spark-core_2.12<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;version&gt;</span>3.2.1<span class="nt">&lt;/version&gt;</span>
<span class="w">  </span><span class="nt">&lt;/dependency&gt;</span>
<span class="w">  </span><span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>org.apache.spark<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>spark-hive_2.12<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;version&gt;</span>3.2.1<span class="nt">&lt;/version&gt;</span>
<span class="w">    </span><span class="nt">&lt;scope&gt;</span>provided<span class="nt">&lt;/scope&gt;</span>
<span class="w">  </span><span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;/dependencies&gt;</span>
</pre></div>
</div>
<p>Replace:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">2.12</span></code> with your target clusters’ version of Scala.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3.2.1</span></code> with your target clusters’ version of Spark.</p></li>
</ul>
<p>See the “System environment” section in the <a class="reference internal" href="../../../release-notes/runtime/index.html"><span class="doc">Databricks Runtime release notes versions and compatibility</span></a> for the Databricks Runtime version for your target clusters.</p>
</li>
</ol>
</div>
<div class="section" id="step-4-compile-the-project">
<h3>Step 4: Compile the project<a class="headerlink" href="#step-4-compile-the-project" title="Permalink to this headline"> </a></h3>
<ol class="arabic">
<li><p>In the project’s <code class="docutils literal notranslate"><span class="pre">pom.xml</span></code> file, add the following Maven compiler properties as a child element of the <code class="docutils literal notranslate"><span class="pre">&lt;project&gt;</span></code> element, and then save the file:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;properties&gt;</span>
<span class="w">  </span><span class="nt">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span class="nt">&lt;/project.build.sourceEncoding&gt;</span>
<span class="w">  </span><span class="nt">&lt;maven.compiler.source&gt;</span>1.6<span class="nt">&lt;/maven.compiler.source&gt;</span>
<span class="w">  </span><span class="nt">&lt;maven.compiler.target&gt;</span>1.6<span class="nt">&lt;/maven.compiler.target&gt;</span>
<span class="nt">&lt;/properties&gt;</span>
</pre></div>
</div>
</li>
<li><p>In the <strong>Project Explorer</strong> view, right-click the <strong><em>project-name</em></strong> project icon, and then click <strong>Run As &gt; Run Configurations</strong>.</p></li>
<li><p>In the <strong>Run Configurations</strong> dialog, click <strong>Maven Build</strong>.</p></li>
<li><p>Click the <strong>New launch configuration</strong> icon.</p></li>
<li><p>Enter a name for this launch configuration, for example <strong>clean compile</strong>.</p></li>
<li><p>For <strong>Base directory</strong>, click <strong>Workspace</strong>, choose your project’s directory, and click <strong>OK</strong>.</p></li>
<li><p>For <strong>Goals</strong>, enter <code class="docutils literal notranslate"><span class="pre">clean</span> <span class="pre">compile</span></code>.</p></li>
<li><p>Click <strong>Run</strong>. The run’s output appears in the <strong>Console</strong> view (<strong>Window &gt; Show View &gt; Console</strong>).</p></li>
</ol>
</div>
<div class="section" id="step-5-add-code-to-the-project">
<h3>Step 5: Add code to the project<a class="headerlink" href="#step-5-add-code-to-the-project" title="Permalink to this headline"> </a></h3>
<p>You can add any code to your project that you want. This step assumes that you only want to add code to a file named <code class="docutils literal notranslate"><span class="pre">SampleApp.java</span></code> for a package named <code class="docutils literal notranslate"><span class="pre">com.example.demo</span></code>.</p>
<p>In the project’s <code class="docutils literal notranslate"><span class="pre">src/main/java</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">com.example.demo</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">SampleApp.java</span></code> file, add the code that you want <code class="docutils literal notranslate"><span class="pre">dbx</span></code> to batch run on your target clusters. (If you do not have any code handy, you can use the Java code in the <a class="reference internal" href="#code-example"><span class="std std-ref">Code example</span></a>, listed toward the end of this article.)</p>
</div>
<div class="section" id="step-6-run-the-project">
<h3>Step 6: Run the project<a class="headerlink" href="#step-6-run-the-project" title="Permalink to this headline"> </a></h3>
<ol class="arabic simple">
<li><p>In the <strong>Project Explorer</strong> view, right-click the <strong><em>project-name</em></strong> project icon, and then click <strong>Run As &gt; Run Configurations</strong>.</p></li>
<li><p>In the <strong>Run Configurations</strong> dialog, expand <strong>Java Application</strong>, and then click <strong>App</strong>.</p></li>
<li><p>Click <strong>Run</strong>. The run’s output appears in the <strong>Console</strong> view.</p></li>
</ol>
</div>
<div class="section" id="step-7-build-the-project-as-a-jar">
<h3>Step 7: Build the project as a JAR<a class="headerlink" href="#step-7-build-the-project-as-a-jar" title="Permalink to this headline"> </a></h3>
<ol class="arabic simple">
<li><p>In the <strong>Project Explorer</strong> view, right-click the <strong><em>project-name</em></strong> project icon, and then click <strong>Run As &gt; Run Configurations</strong>.</p></li>
<li><p>In the <strong>Run Configurations</strong> dialog, click <strong>Maven Build</strong>.</p></li>
<li><p>Click the <strong>New launch configuration</strong> icon.</p></li>
<li><p>Enter a name for this launch configuration, for example <strong>clean package</strong>.</p></li>
<li><p>For <strong>Base directory</strong>, click <strong>Workspace</strong>, choose your project’s directory, and click <strong>OK</strong>.</p></li>
<li><p>For <strong>Goals</strong>, enter <code class="docutils literal notranslate"><span class="pre">clean</span> <span class="pre">package</span></code>.</p></li>
<li><p>Click <strong>Run</strong>. The run’s output appears in the <strong>Console</strong> view.</p></li>
</ol>
<p>The JAR is built to the <code class="docutils literal notranslate"><span class="pre">&lt;project-name&gt;</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">target</span></code> folder. The JAR’s name is <code class="docutils literal notranslate"><span class="pre">&lt;project-name&gt;-0.0.1-SNAPSHOT.jar</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the JAR does not appear in the <code class="docutils literal notranslate"><span class="pre">target</span></code> folder in the <strong>Project Explorer</strong> window at first, you can try to display it by right-clicking the <strong><em>project-name</em></strong> project icon, and then click <strong>Refresh</strong>.</p>
</div>
</div>
<div class="section" id="step-8-display-the-terminal-in-the-ide">
<h3>Step 8: Display the terminal in the IDE<a class="headerlink" href="#step-8-display-the-terminal-in-the-ide" title="Permalink to this headline"> </a></h3>
<p>With your <code class="docutils literal notranslate"><span class="pre">dbx</span></code> project structure now in place, you are ready to create your <code class="docutils literal notranslate"><span class="pre">dbx</span></code> project. To start, set <strong>Project Explorer</strong> view to show the hidden files (files starting with a dot (<code class="docutils literal notranslate"><span class="pre">./</span></code>)) the <code class="docutils literal notranslate"><span class="pre">dbx</span></code> generates, as follows:</p>
<ol class="arabic simple">
<li><p>In the <strong>Project Explorer</strong> view, click the ellipses (<strong>View Menu</strong>) filter icon, and then click <strong>Filters and Customization</strong>.</p></li>
<li><p>In the <strong>Filters and Customization</strong> dialog, on the <strong>Pre-set filters</strong> tab, clear the <strong>.* resources</strong> box.</p></li>
<li><p>Click <strong>OK</strong>.</p></li>
</ol>
<p>Next, display the Eclipse terminal as follows:</p>
<ol class="arabic simple">
<li><p>Click <strong>Window &gt; Show View &gt; Terminal</strong> on the menu bar.</p></li>
<li><p>In the terminal’s command prompt does not appear, in the <strong>Terminal</strong> view, click the <strong>Open a Terminal</strong> icon.</p></li>
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">cd</span></code> command to switch to your project’s root directory.</p></li>
<li><p>Continue with <a class="reference internal" href="#create-a-dbx-project"><span class="std std-ref">Create a dbx project</span></a>.</p></li>
</ol>
</div>
</div>
<div class="section" id="no-ide-terminal-only">
<span id="terminal"></span><h2>No IDE (terminal only)<a class="headerlink" href="#no-ide-terminal-only" title="Permalink to this headline"> </a></h2>
<p>Complete the following instructions to begin using a terminal and Python with <code class="docutils literal notranslate"><span class="pre">dbx</span></code>.</p>
<p>Follow these steps to use a terminal to begin setting up your <code class="docutils literal notranslate"><span class="pre">dbx</span></code> project structure:</p>
<ol class="arabic">
<li><p>From your terminal, create a blank folder. These instructions use a folder named <code class="docutils literal notranslate"><span class="pre">dbx-demo</span></code> (but you can give your <code class="docutils literal notranslate"><span class="pre">dbx</span></code> project’s root folder any name you want). After you create the folder, switch to it.</p>
<p>For Linux and macOS:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>dbx-demo
<span class="nb">cd</span><span class="w"> </span>dbx-demo
</pre></div>
</div>
<p>For Windows:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nb">md </span><span class="n">dbx-demo</span>
<span class="nb">cd </span><span class="n">dbx-demo</span>
</pre></div>
</div>
</li>
<li><p>Create a Python virtual environment for this project by running the <code class="docutils literal notranslate"><span class="pre">pipenv</span></code> command, with the following option, from the root of the <code class="docutils literal notranslate"><span class="pre">dbx-demo</span></code> folder, where <code class="docutils literal notranslate"><span class="pre">&lt;version&gt;</span></code> is the target version of Python that you already have installed locally, for example <code class="docutils literal notranslate"><span class="pre">3.8.14</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pipenv<span class="w"> </span>--python<span class="w"> </span>&lt;version&gt;
</pre></div>
</div>
</li>
<li><p>Activate your Python virtual environment by running <code class="docutils literal notranslate"><span class="pre">pipenv</span> <span class="pre">shell</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pipenv<span class="w"> </span>shell
</pre></div>
</div>
</li>
<li><p>Continue with <a class="reference internal" href="#create-a-dbx-project"><span class="std std-ref">Create a dbx project</span></a>.</p></li>
</ol>
</div>
<div class="section" id="create-a-dbx-project">
<span id="create-project"></span><h2>Create a dbx project<a class="headerlink" href="#create-a-dbx-project" title="Permalink to this headline"> </a></h2>
<p>With your <code class="docutils literal notranslate"><span class="pre">dbx</span></code> project structure in place from one of the previous sections, you are now ready to create one of the following types of projects:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#create-minimal-project"><span class="std std-ref">Create a minimal dbx project for Python</span></a></p></li>
<li><p><a class="reference internal" href="#create-minimal-project-jar"><span class="std std-ref">Create a minimal dbx project for Scala or Java</span></a></p></li>
<li><p><a class="reference internal" href="#create-templated-project"><span class="std std-ref">Create a dbx templated project for Python with CI/CD support</span></a></p></li>
</ul>
<div class="section" id="create-a-minimal-dbx-project-for-python">
<span id="create-minimal-project"></span><h3>Create a minimal dbx project for Python<a class="headerlink" href="#create-a-minimal-dbx-project-for-python" title="Permalink to this headline"> </a></h3>
<p>The following minimal <code class="docutils literal notranslate"><span class="pre">dbx</span></code> project is the simplest and fastest approach to getting started with Python and <code class="docutils literal notranslate"><span class="pre">dbx</span></code>. It demonstrates batch running of a single Python code file on an existing Databricks <a class="reference internal" href="../../../compute/index.html"><span class="doc">all-purpose cluster</span></a> in your Databricks workspace.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To create a <code class="docutils literal notranslate"><span class="pre">dbx</span></code> templated project for Python that demonstrates batch running of code on all-purpose clusters and jobs clusters, remote code artifact deployments, and CI/CD platform setup, skip ahead to <a class="reference internal" href="#create-templated-project"><span class="std std-ref">Create a dbx templated project for Python with CI/CD support</span></a>.</p>
</div>
<p>To complete this procedure, you must have an existing all-purpose cluster in your workspace. (See <a class="reference internal" href="../../../compute/clusters-manage.html#display-clusters"><span class="std std-ref">Display clusters</span></a> or <a class="reference internal" href="../../../compute/configure.html"><span class="doc">Create a cluster</span></a>.) Ideally (but not required), the version of Python in your Python virtual environment should match the version that is installed on this cluster. To identify the version of Python on the cluster, use the cluster’s <a class="reference internal" href="../../../compute/web-terminal.html"><span class="doc">web terminal</span></a> to run the command <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">--version</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>--version
</pre></div>
</div>
<ol class="arabic">
<li><p>From your terminal, from your <code class="docutils literal notranslate"><span class="pre">dbx</span></code> project’s root folder, run the <code class="docutils literal notranslate"><span class="pre">dbx</span> <span class="pre">configure</span></code> command with the following option. This command creates a hidden <code class="docutils literal notranslate"><span class="pre">.dbx</span></code> folder within your <code class="docutils literal notranslate"><span class="pre">dbx</span></code> project’s root folder. This <code class="docutils literal notranslate"><span class="pre">.dbx</span></code> folder contains <code class="docutils literal notranslate"><span class="pre">lock.json</span></code> and <code class="docutils literal notranslate"><span class="pre">project.json</span></code> files.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dbx<span class="w"> </span>configure<span class="w"> </span>--profile<span class="w"> </span>DEFAULT<span class="w"> </span>--environment<span class="w"> </span>default
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">project.json</span></code> file defines an environment named <code class="docutils literal notranslate"><span class="pre">default</span></code> along with a reference to the <code class="docutils literal notranslate"><span class="pre">DEFAULT</span></code> profile within your <code class="docutils literal notranslate"><span class="pre">.databrickscfg</span></code> file. If you want <code class="docutils literal notranslate"><span class="pre">dbx</span></code> to use a different profile, replace <code class="docutils literal notranslate"><span class="pre">--profile</span> <span class="pre">DEFAULT</span></code> with <code class="docutils literal notranslate"><span class="pre">--profile</span></code> followed by your target profile’s name, in the <code class="docutils literal notranslate"><span class="pre">dbx</span> <span class="pre">configure</span></code> command.</p>
<p>For example, if you have a profile named <code class="docutils literal notranslate"><span class="pre">DEV</span></code> within your <code class="docutils literal notranslate"><span class="pre">.databrickscfg</span></code> file and you want <code class="docutils literal notranslate"><span class="pre">dbx</span></code> to use it instead of the <code class="docutils literal notranslate"><span class="pre">DEFAULT</span></code> profile, your <code class="docutils literal notranslate"><span class="pre">project.json</span></code> file might look like this instead, in which you case you would also replace <code class="docutils literal notranslate"><span class="pre">--environment</span> <span class="pre">default</span></code> with <code class="docutils literal notranslate"><span class="pre">--environment</span> <span class="pre">dev</span></code> in the <code class="docutils literal notranslate"><span class="pre">dbx</span> <span class="pre">configure</span></code> command:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;environments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;profile&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DEFAULT&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;storage_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mlflow&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;workspace_directory&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/Shared/dbx/projects/&lt;current-folder-name&gt;&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;artifact_location&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dbfs:/dbx/&lt;current-folder-name&gt;&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;dev&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;profile&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DEV&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;storage_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mlflow&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;workspace_directory&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/Shared/dbx/projects/&lt;some-other-folder-name&gt;&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;artifact_location&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dbfs:/dbx/&lt;some-other-folder-name&gt;&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If you want <code class="docutils literal notranslate"><span class="pre">dbx</span></code> to use the <code class="docutils literal notranslate"><span class="pre">DATABRICKS_HOST</span></code> and <code class="docutils literal notranslate"><span class="pre">DATABRICKS_TOKEN</span></code> environment variables instead of a profile in your <code class="docutils literal notranslate"><span class="pre">.databrickscfg</span></code> file, then leave out the <code class="docutils literal notranslate"><span class="pre">--profile</span></code> option altogether from the <code class="docutils literal notranslate"><span class="pre">dbx</span> <span class="pre">configure</span></code> command.</p>
</div>
</li>
<li><p>Create a folder named <code class="docutils literal notranslate"><span class="pre">conf</span></code> within your <code class="docutils literal notranslate"><span class="pre">dbx</span></code> project’s root folder.</p>
<p>For Linux and macOS:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>conf
</pre></div>
</div>
<p>For Windows:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nb">md </span><span class="n">conf</span>
</pre></div>
</div>
</li>
<li><p>Add a file named <code class="docutils literal notranslate"><span class="pre">deployment.yaml</span></code> file to the <code class="docutils literal notranslate"><span class="pre">conf</span></code> directory, with the following file contents:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">build</span><span class="p">:</span>
<span class="w">  </span><span class="nt">no_build</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">environments</span><span class="p">:</span>
<span class="w">  </span><span class="nt">default</span><span class="p">:</span>
<span class="w">    </span><span class="nt">workflows</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;dbx-demo-job&quot;</span>
<span class="w">        </span><span class="nt">spark_python_task</span><span class="p">:</span>
<span class="w">          </span><span class="nt">python_file</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;file://dbx-demo-job.py&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">deployment.yaml</span></code> file contains the lower-cased word <code class="docutils literal notranslate"><span class="pre">default</span></code>, which is a reference to the upper-cased <code class="docutils literal notranslate"><span class="pre">DEFAULT</span></code> profile within your <code class="docutils literal notranslate"><span class="pre">.databrickscfg</span></code> file. If you want <code class="docutils literal notranslate"><span class="pre">dbx</span></code> to use a different profile, replace <code class="docutils literal notranslate"><span class="pre">default</span></code> with your target profile’s name.</p>
<p>For example, if you have a profile named <code class="docutils literal notranslate"><span class="pre">DEV</span></code> within your <code class="docutils literal notranslate"><span class="pre">.databrickscfg</span></code> file and you want <code class="docutils literal notranslate"><span class="pre">dbx</span></code> to use it instead of the <code class="docutils literal notranslate"><span class="pre">DEFAULT</span></code> profile, your <code class="docutils literal notranslate"><span class="pre">deployment.yaml</span></code> file might look like this instead:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">environments</span><span class="p">:</span>
<span class="w">  </span><span class="nt">default</span><span class="p">:</span>
<span class="w">    </span><span class="nt">workflows</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;dbx-demo-job&quot;</span>
<span class="w">        </span><span class="nt">spark_python_task</span><span class="p">:</span>
<span class="w">          </span><span class="nt">python_file</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;file://dbx-demo-job.py&quot;</span>
<span class="w">  </span><span class="nt">dev</span><span class="p">:</span>
<span class="w">    </span><span class="nt">workflows</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&lt;some-other-job-name&gt;&quot;</span>
<span class="w">        </span><span class="nt">spark_python_task</span><span class="p">:</span>
<span class="w">          </span><span class="nt">python_file</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;file://&lt;some-other-filename&gt;.py&quot;</span>
</pre></div>
</div>
<p>If you want <code class="docutils literal notranslate"><span class="pre">dbx</span></code> to use the <code class="docutils literal notranslate"><span class="pre">DATABRICKS_HOST</span></code> and <code class="docutils literal notranslate"><span class="pre">DATABRICKS_TOKEN</span></code> environment variables instead of a profile in your <code class="docutils literal notranslate"><span class="pre">.databrickscfg</span></code> file, then leave <code class="docutils literal notranslate"><span class="pre">default</span></code> in the <code class="docutils literal notranslate"><span class="pre">deployment.yaml</span></code> as is. <code class="docutils literal notranslate"><span class="pre">dbx</span></code> will use this reference by default.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To add Spark configuration key-value pairs to a job, use the <code class="docutils literal notranslate"><span class="pre">spark_conf</span></code> field, for example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">environments</span><span class="p">:</span>
<span class="w">  </span><span class="nt">default</span><span class="p">:</span>
<span class="w">    </span><span class="nt">workflows</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;dbx-demo-job&quot;</span>
<span class="w">        </span><span class="nt">spark_conf</span><span class="p">:</span>
<span class="w">          </span><span class="nt">spark.speculation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">          </span><span class="nt">spark.streaming.ui.retainedBatches</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">          </span><span class="nt">spark.driver.extraJavaOptions</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;-verbose:gc</span><span class="nv"> </span><span class="s">-XX:+PrintGCDetails&quot;</span>
<span class="w">        </span><span class="c1"># ...</span>
</pre></div>
</div>
<p>To add permissions to a job, use the <code class="docutils literal notranslate"><span class="pre">access_control_list</span></code> field, for example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">environments</span><span class="p">:</span>
<span class="w">  </span><span class="nt">default</span><span class="p">:</span>
<span class="w">    </span><span class="nt">workflows</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;dbx-demo-job&quot;</span>
<span class="w">        </span><span class="nt">access_control_list</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">user_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;someone@example.com&quot;</span>
<span class="w">            </span><span class="nt">permission_level</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;IS_OWNER&quot;</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">group_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;some-group&quot;</span>
<span class="w">            </span><span class="nt">permission_level</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;CAN_VIEW&quot;</span>
<span class="w">        </span><span class="c1"># ...</span>
</pre></div>
</div>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">access_control_list</span></code> field must be exhaustive, so the job’s owner should be added to the list as well as adding other user and group permissions.</p>
</div>
</li>
<li><p>Add the code to run on the cluster to a file named <code class="docutils literal notranslate"><span class="pre">dbx-demo-job.py</span></code> and add the file to the root folder of your <code class="docutils literal notranslate"><span class="pre">dbx</span></code> project. (If you do not have any code handy, you can use the Python code in the <a class="reference internal" href="#code-example"><span class="std std-ref">Code example</span></a>, listed toward the end of this article.)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You do not have to name this file <code class="docutils literal notranslate"><span class="pre">dbx-demo-job.py</span></code>. If you choose a different file name, be sure to update the <code class="docutils literal notranslate"><span class="pre">python_file</span></code> field in the <code class="docutils literal notranslate"><span class="pre">conf/deployment.yaml</span></code> file to match.</p>
</div>
</li>
<li><p>Run the command <code class="docutils literal notranslate"><span class="pre">dbx</span> <span class="pre">execute</span></code> command with the following options. In this command, replace <code class="docutils literal notranslate"><span class="pre">&lt;existing-cluster-id&gt;</span></code> with the ID of the target cluster in your workspace. (To get the ID, see <a class="reference internal" href="../../../workspace/workspace-details.html#cluster-url-and-id"><span class="std std-ref">Cluster URL and ID</span></a>.)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dbx<span class="w"> </span>execute<span class="w"> </span>--cluster-id<span class="o">=</span>&lt;existing-cluster-id&gt;<span class="w"> </span>dbx-demo-job<span class="w"> </span>--no-package
</pre></div>
</div>
</li>
<li><p>To view the run’s results locally, see your terminal’s output. To view the run’s results on your cluster, go to the <strong>Standard output</strong> pane in the <strong>Driver logs</strong> tab for your cluster. (See <a class="reference internal" href="../../../compute/clusters-manage.html#cluster-driver-and-worker-logs"><span class="std std-ref">Cluster driver and worker logs</span></a>.)</p></li>
<li><p>Continue with <a class="reference internal" href="#next-steps"><span class="std std-ref">Next steps</span></a>.</p></li>
</ol>
</div>
<div class="section" id="create-a-minimal-dbx-project-for-scala-or-java">
<span id="create-minimal-project-jar"></span><h3>Create a minimal dbx project for Scala or Java<a class="headerlink" href="#create-a-minimal-dbx-project-for-scala-or-java" title="Permalink to this headline"> </a></h3>
<p>The following minimal <code class="docutils literal notranslate"><span class="pre">dbx</span></code> project is the simplest and fastest approach to getting started with <code class="docutils literal notranslate"><span class="pre">dbx</span></code> and Scala or Java. It demonstrates deploying a single Scala or Java JAR to your Databricks workspace and then running that deployed JAR on a Databricks <a class="reference internal" href="../../../compute/index.html"><span class="doc">jobs cluster</span></a> in your Databricks workspace.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Databricks limits how you can run Scala and Java code on clusters:</p>
<ul class="simple">
<li><p>You cannot run a single Scala or Java file as a job on a cluster as you can with a single Python file. To run Scala or Java code, you must first build it into a JAR.</p></li>
<li><p>You can run a JAR as a job on an existing <a class="reference internal" href="../../../compute/index.html"><span class="doc">all-purpose cluster</span></a>. However, you cannot reinstall any updates to that JAR on the same all-purpose cluster. In this case, you must use a job cluster instead. This section uses the job cluster approach.</p></li>
<li><p>You must first deploy the JAR to your Databricks workspace before you can run that deployed JAR on any all-purpose cluster or jobs cluster in that workspace.</p></li>
</ul>
</div>
<ol class="arabic">
<li><p>In your terminal, from your project’s root folder, run the <code class="docutils literal notranslate"><span class="pre">dbx</span> <span class="pre">configure</span></code> command with the following option. This command creates a hidden <code class="docutils literal notranslate"><span class="pre">.dbx</span></code> folder within your project’s root folder. This <code class="docutils literal notranslate"><span class="pre">.dbx</span></code> folder contains <code class="docutils literal notranslate"><span class="pre">lock.json</span></code> and <code class="docutils literal notranslate"><span class="pre">project.json</span></code> files.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dbx<span class="w"> </span>configure<span class="w"> </span>--profile<span class="w"> </span>DEFAULT<span class="w"> </span>--environment<span class="w"> </span>default
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">project.json</span></code> file defines an environment named <code class="docutils literal notranslate"><span class="pre">default</span></code> along with a reference to the <code class="docutils literal notranslate"><span class="pre">DEFAULT</span></code> profile within your <code class="docutils literal notranslate"><span class="pre">.databrickscfg</span></code> file. If you want <code class="docutils literal notranslate"><span class="pre">dbx</span></code> to use a different profile, replace <code class="docutils literal notranslate"><span class="pre">--profile</span> <span class="pre">DEFAULT</span></code> with <code class="docutils literal notranslate"><span class="pre">--profile</span></code> followed by your target profile’s name, in the <code class="docutils literal notranslate"><span class="pre">dbx</span> <span class="pre">configure</span></code> command.</p>
<p>For example, if you have a profile named <code class="docutils literal notranslate"><span class="pre">DEV</span></code> within your <code class="docutils literal notranslate"><span class="pre">.databrickscfg</span></code> file and you want <code class="docutils literal notranslate"><span class="pre">dbx</span></code> to use it instead of the <code class="docutils literal notranslate"><span class="pre">DEFAULT</span></code> profile, your <code class="docutils literal notranslate"><span class="pre">project.json</span></code> file might look like this instead, in which you case you would also replace <code class="docutils literal notranslate"><span class="pre">--environment</span> <span class="pre">default</span></code> with <code class="docutils literal notranslate"><span class="pre">--environment</span> <span class="pre">dev</span></code> in the <code class="docutils literal notranslate"><span class="pre">dbx</span> <span class="pre">configure</span></code> command:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;environments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;profile&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DEFAULT&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;storage_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mlflow&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;workspace_directory&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/Shared/dbx/projects/&lt;current-folder-name&gt;&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;artifact_location&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dbfs:/dbx/&lt;current-folder-name&gt;&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;dev&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;profile&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DEV&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;storage_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mlflow&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;workspace_directory&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/Shared/dbx/projects/&lt;some-other-folder-name&gt;&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;artifact_location&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dbfs:/dbx/&lt;some-other-folder-name&gt;&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If you want <code class="docutils literal notranslate"><span class="pre">dbx</span></code> to use the <code class="docutils literal notranslate"><span class="pre">DATABRICKS_HOST</span></code> and <code class="docutils literal notranslate"><span class="pre">DATABRICKS_TOKEN</span></code> environment variables instead of a profile in your <code class="docutils literal notranslate"><span class="pre">.databrickscfg</span></code> file, then leave out the <code class="docutils literal notranslate"><span class="pre">--profile</span></code> option altogether from the <code class="docutils literal notranslate"><span class="pre">dbx</span> <span class="pre">configure</span></code> command.</p>
</div>
</li>
<li><p>Create a folder named <code class="docutils literal notranslate"><span class="pre">conf</span></code> within your project’s root folder.</p>
<p>For Linux and macOS:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>conf
</pre></div>
</div>
<p>For Windows:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nb">md </span><span class="n">conf</span>
</pre></div>
</div>
</li>
<li><p>Add a file named <code class="docutils literal notranslate"><span class="pre">deployment.yaml</span></code> file to the <code class="docutils literal notranslate"><span class="pre">conf</span></code> directory, with the following minimal file contents:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">build</span><span class="p">:</span>
<span class="w">  </span><span class="nt">no_build</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">environments</span><span class="p">:</span>
<span class="w">  </span><span class="nt">default</span><span class="p">:</span>
<span class="w">    </span><span class="nt">workflows</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;dbx-demo-job&quot;</span>
<span class="w">        </span><span class="nt">new_cluster</span><span class="p">:</span>
<span class="w">          </span><span class="nt">spark_version</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;10.4.x-scala2.12&quot;</span>
<span class="w">          </span><span class="nt">node_type_id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;i3.xlarge&quot;</span>
<span class="w">          </span><span class="nt">aws_attributes</span><span class="p">:</span>
<span class="w">            </span><span class="nt">first_on_demand</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">            </span><span class="nt">availability</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;SPOT&quot;</span>
<span class="w">          </span><span class="nt">num_workers</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">          </span><span class="nt">instance_pool_id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;my-instance-pool&quot;</span>
<span class="w">        </span><span class="nt">libraries</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">jar</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;file://out/artifacts/dbx_demo_jar/dbx-demo.jar&quot;</span>
<span class="w">        </span><span class="nt">spark_jar_task</span><span class="p">:</span>
<span class="w">          </span><span class="nt">main_class_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;com.example.demo.SampleApp&quot;</span>
</pre></div>
</div>
<p>Replace:</p>
<ul class="simple">
<li><p>The value of <code class="docutils literal notranslate"><span class="pre">spark_version</span></code> with the appropriate <a class="reference external" href="https://docs.databricks.com/api/workspace/introduction">runtime version</a> for your target jobs cluster.</p></li>
<li><p>The value of <code class="docutils literal notranslate"><span class="pre">node_type_id</span></code> with the appropriate <a class="reference internal" href="../../../compute/configure.html#node-types"><span class="std std-ref">Worker and driver node types</span></a> for your target jobs cluster.</p></li>
<li><p>The value of <code class="docutils literal notranslate"><span class="pre">instance_pool_id</span></code> with the ID of an existing instance <a class="reference internal" href="../../../compute/pools.html"><span class="doc">pool</span></a> in your workspace, to enable faster running of jobs. If you do not have an existing instance pool available or you do not want to use an instance pool, remove this line altogether.</p></li>
<li><p>The value of <code class="docutils literal notranslate"><span class="pre">jar</span></code> with the path in the project to the JAR. For IntelliJ IDEA with Scala, it could be <code class="docutils literal notranslate"><span class="pre">file://out/artifacts/dbx_demo_jar/dbx-demo.jar</span></code>. For the Eclipse IDE with Java, it could be <code class="docutils literal notranslate"><span class="pre">file://target/dbx-demo-0.0.1-SNAPSHOT.jar</span></code>.</p></li>
<li><p>The value of <code class="docutils literal notranslate"><span class="pre">main_class_name</span></code> with the name of main class in the JAR, for example <code class="docutils literal notranslate"><span class="pre">com.example.demo.SampleApp</span></code>.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">deployment.yaml</span></code> file contains the word <code class="docutils literal notranslate"><span class="pre">default</span></code>, which is a reference to the <code class="docutils literal notranslate"><span class="pre">default</span></code> environment in the <code class="docutils literal notranslate"><span class="pre">.dbx/project.json</span></code> file, which in turn is a reference to the <code class="docutils literal notranslate"><span class="pre">DEFAULT</span></code> profile within your <code class="docutils literal notranslate"><span class="pre">.databrickscfg</span></code> file. If you want <code class="docutils literal notranslate"><span class="pre">dbx</span></code> to use a different profile, replace <code class="docutils literal notranslate"><span class="pre">default</span></code> in this <code class="docutils literal notranslate"><span class="pre">deployment.yaml</span></code> file with the corresponding reference in the <code class="docutils literal notranslate"><span class="pre">.dbx/project.json</span></code> file, which in turn references the corresponding profile within your <code class="docutils literal notranslate"><span class="pre">.databrickscfg</span></code> file.</p>
<p>For example, if you have a profile named <code class="docutils literal notranslate"><span class="pre">DEV</span></code> within your <code class="docutils literal notranslate"><span class="pre">.databrickscfg</span></code> file and you want <code class="docutils literal notranslate"><span class="pre">dbx</span></code> to use it instead of the <code class="docutils literal notranslate"><span class="pre">DEFAULT</span></code> profile, your <code class="docutils literal notranslate"><span class="pre">deployment.yaml</span></code> file might look like this instead:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">environments</span><span class="p">:</span>
<span class="w">  </span><span class="nt">default</span><span class="p">:</span>
<span class="w">    </span><span class="nt">workflows</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;dbx-demo-job&quot;</span>
<span class="w">        </span><span class="c1"># ...</span>
<span class="w">  </span><span class="nt">dev</span><span class="p">:</span>
<span class="w">    </span><span class="nt">workflows</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&lt;some-other-job-name&gt;&quot;</span>
<span class="w">        </span><span class="c1"># ...</span>
</pre></div>
</div>
<p>If you want <code class="docutils literal notranslate"><span class="pre">dbx</span></code> to use the <code class="docutils literal notranslate"><span class="pre">DATABRICKS_HOST</span></code> and <code class="docutils literal notranslate"><span class="pre">DATABRICKS_TOKEN</span></code> environment variables instead of a profile in your <code class="docutils literal notranslate"><span class="pre">.databrickscfg</span></code> file, then leave <code class="docutils literal notranslate"><span class="pre">default</span></code> in the <code class="docutils literal notranslate"><span class="pre">deployment.yaml</span></code> as is. <code class="docutils literal notranslate"><span class="pre">dbx</span></code> will use the <code class="docutils literal notranslate"><span class="pre">default</span></code> environment settings (except for the <code class="docutils literal notranslate"><span class="pre">profile</span></code> value) in the <code class="docutils literal notranslate"><span class="pre">.dbx/project.json</span></code> file by default.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To add Spark configuration key-value pairs to a job, use the <code class="docutils literal notranslate"><span class="pre">spark_conf</span></code>field, for example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">environments</span><span class="p">:</span>
<span class="w">  </span><span class="nt">default</span><span class="p">:</span>
<span class="w">    </span><span class="nt">workflows</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;dbx-demo-job&quot;</span>
<span class="w">        </span><span class="nt">spark_conf</span><span class="p">:</span>
<span class="w">          </span><span class="nt">spark.speculation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">          </span><span class="nt">spark.streaming.ui.retainedBatches</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">          </span><span class="nt">spark.driver.extraJavaOptions</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;-verbose:gc</span><span class="nv"> </span><span class="s">-XX:+PrintGCDetails&quot;</span>
<span class="w">        </span><span class="c1"># ...</span>
</pre></div>
</div>
<p>To add permissions to a job, use the <code class="docutils literal notranslate"><span class="pre">access_control_list</span></code> field, for example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">environments</span><span class="p">:</span>
<span class="w">  </span><span class="nt">default</span><span class="p">:</span>
<span class="w">    </span><span class="nt">workflows</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;dbx-demo-job&quot;</span>
<span class="w">        </span><span class="nt">access_control_list</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">user_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;someone@example.com&quot;</span>
<span class="w">            </span><span class="nt">permission_level</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;IS_OWNER&quot;</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">group_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;some-group&quot;</span>
<span class="w">            </span><span class="nt">permission_level</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;CAN_VIEW&quot;</span>
<span class="w">        </span><span class="c1"># ...</span>
</pre></div>
</div>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">access_control_list</span></code> field must be exhaustive, so the job’s owner should be added to the list as well as adding other user and group permissions.</p>
</div>
</li>
<li><p>Run the <code class="docutils literal notranslate"><span class="pre">dbx</span> <span class="pre">deploy</span></code> command. <code class="docutils literal notranslate"><span class="pre">dbx</span></code> deploys the JAR to the location in the <code class="docutils literal notranslate"><span class="pre">.dbx/project.json</span></code> file’s <code class="docutils literal notranslate"><span class="pre">artifact_location</span></code> path for the matching environment. <code class="docutils literal notranslate"><span class="pre">dbx</span></code> also deploys the project’s files as part of an <a class="reference internal" href="../../../mlflow/experiments.html"><span class="doc">MLflow experiment</span></a>, to the location listed in the <code class="docutils literal notranslate"><span class="pre">.dbx/project.json</span></code> file’s <code class="docutils literal notranslate"><span class="pre">workspace_directory</span></code> path for the matching environment.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dbx<span class="w"> </span>deploy<span class="w"> </span>--no-package
</pre></div>
</div>
</li>
<li><p>Run the <code class="docutils literal notranslate"><span class="pre">dbx</span> <span class="pre">launch</span></code> command with the following options. This command runs the job with the matching name in <code class="docutils literal notranslate"><span class="pre">conf/deployment.yaml</span></code>. To find the deployed JAR to run as part of the job, <code class="docutils literal notranslate"><span class="pre">dbx</span></code> references the location in the <code class="docutils literal notranslate"><span class="pre">.dbx/project.json</span></code> file’s <code class="docutils literal notranslate"><span class="pre">artifact_location</span></code> path for the matching environment. To determine which specific JAR to run, <code class="docutils literal notranslate"><span class="pre">dbx</span></code> references the MLflow experiment in the location listed in the <code class="docutils literal notranslate"><span class="pre">.dbx/project.json</span></code> file’s <code class="docutils literal notranslate"><span class="pre">workspace_directory</span></code> path for the matching environment.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dbx<span class="w"> </span>launch<span class="w"> </span>dbx-demo-job
</pre></div>
</div>
</li>
<li><p>To view the job run’s results on your jobs cluster, see <a class="reference internal" href="../../../workflows/jobs/monitor-job-runs.html#view-jobs-list"><span class="std std-ref">View jobs</span></a>.</p></li>
<li><p>To view the experiment that the job referenced, see <a class="reference internal" href="../../../mlflow/experiments.html"><span class="doc">Organize training runs with MLflow experiments</span></a>.</p></li>
<li><p>Continue with <a class="reference internal" href="#next-steps"><span class="std std-ref">Next steps</span></a>.</p></li>
</ol>
</div>
<div class="section" id="create-a-dbx-templated-project-for-python-with-cicd-support">
<span id="create-templated-project"></span><h3>Create a dbx templated project for Python with CI/CD support<a class="headerlink" href="#create-a-dbx-templated-project-for-python-with-cicd-support" title="Permalink to this headline"> </a></h3>
<p></p>
<p>The following <code class="docutils literal notranslate"><span class="pre">dbx</span></code> templated project for Python demonstrates support for batch running of Python code on Databricks <a class="reference internal" href="../../../compute/index.html"><span class="doc">all-purpose clusters</span></a> and <a class="reference internal" href="../../../compute/index.html"><span class="doc">jobs clusters</span></a> in your Databricks workspaces, remote code artifact deployments, and CI/CD platform setup. (To create a minimal <code class="docutils literal notranslate"><span class="pre">dbx</span></code> project for Python that only demonstrates batch running of a single Python code file on an existing all-purpose cluster, skip back to <a class="reference internal" href="#create-minimal-project"><span class="std std-ref">Create a minimal dbx project for Python</span></a>.)</p>
<ol class="arabic">
<li><p>From your terminal, in your <code class="docutils literal notranslate"><span class="pre">dbx</span></code> project’s root folder, run the <code class="docutils literal notranslate"><span class="pre">dbx</span> <span class="pre">init</span></code> command.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dbx<span class="w"> </span>init
</pre></div>
</div>
</li>
<li><p>For <strong>project_name</strong>, enter a name for your project, or press Enter to accept the default project name.</p></li>
<li><p>For <strong>version</strong>, enter a starting version number for your project, or press Enter to accept the default project version.</p></li>
<li><p>For <strong>cloud</strong>, select the number that corresponds to the Databricks cloud version that you want your project to use, or press Enter to accept the default.</p></li>
<li><p>For <strong>cicd_tool</strong>, select the number that corresponds to the supported CI/CD tool that you want your project to use, or press Enter to accept the default.</p></li>
<li><p>For <strong>project_slug</strong>, enter a prefix that you want to use for resources in your project, or press Enter to accept the default.</p></li>
<li><p>For <strong>workspace_directory</strong>, enter the local path to the workspace directory for your project, or press Enter to accept the default.</p></li>
<li><p>For <strong>artifact_location</strong>, enter the path in your Databricks workspace to where your project’s artifacts will be written, or press Enter to accept the default.</p></li>
<li><p>For <strong>profile</strong>, enter the name of the CLI authentication profile that you want your project to use, or press Enter to accept the default.</p></li>
</ol>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can skip the preceding steps by running <code class="docutils literal notranslate"><span class="pre">dbx</span> <span class="pre">init</span></code> with hard-coded template parameters, for example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dbx<span class="w"> </span>init<span class="w"> </span>--template<span class="o">=</span><span class="s2">&quot;python_basic&quot;</span><span class="w"> </span><span class="se">\</span>
-p<span class="w"> </span><span class="s2">&quot;project_name=cicd-sample-project&quot;</span><span class="w"> </span><span class="se">\</span>
-p<span class="w"> </span><span class="s2">&quot;cloud=AWS&quot;</span><span class="w"> </span><span class="se">\</span>
-p<span class="w"> </span><span class="s2">&quot;cicd_tool=GitHub Actions&quot;</span><span class="w"> </span><span class="se">\</span>
-p<span class="w"> </span><span class="s2">&quot;profile=DEFAULT&quot;</span><span class="w"> </span><span class="se">\</span>
--no-input
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">dbx</span></code> calculates the parameters <code class="docutils literal notranslate"><span class="pre">project_slug</span></code>, <code class="docutils literal notranslate"><span class="pre">workspace_directory</span></code>, and <code class="docutils literal notranslate"><span class="pre">artifact_location</span></code> automatically. These three parameters are optional, and they are useful only for more advanced use cases.</p>
<p>See the <code class="docutils literal notranslate"><span class="pre">init</span></code> command in <a class="reference external" href="https://dbx.readthedocs.io/en/latest/reference/cli/">CLI Reference</a> in the <code class="docutils literal notranslate"><span class="pre">dbx</span></code> documentation.</p>
</div>
<p>See also <a class="reference internal" href="#next-steps"><span class="std std-ref">Next steps</span></a>.</p>
</div>
</div>
<div class="section" id="code-example">
<h2>Code example<a class="headerlink" href="#code-example" title="Permalink to this headline"> </a></h2>
<p>If you do not have any code readily available to batch run with <code class="docutils literal notranslate"><span class="pre">dbx</span></code>, you can experiment by having <code class="docutils literal notranslate"><span class="pre">dbx</span></code> batch run the following code. This code creates a small table in your workspace, queries the table, and then deletes the table.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you want to leave the table in your workspace instead of deleting it, comment out the last line of code in this example before you batch run it with <code class="docutils literal notranslate"><span class="pre">dbx</span></code>.</p>
</div>
<div class="js-code-language-tabs compound">
<div class="compound-first compound" lang="python">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># For testing and debugging of local objects, run</span>
<span class="c1"># &quot;pip install pyspark=X.Y.Z&quot;, where &quot;X.Y.Z&quot;</span>
<span class="c1"># matches the version of PySpark</span>
<span class="c1"># on your target clusters.</span>
<span class="kn">from</span> <span class="nn">pyspark.sql</span> <span class="kn">import</span> <span class="n">SparkSession</span>

<span class="kn">from</span> <span class="nn">pyspark.sql.types</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>

<span class="n">spark</span> <span class="o">=</span> <span class="n">SparkSession</span><span class="o">.</span><span class="n">builder</span><span class="o">.</span><span class="n">appName</span><span class="p">(</span><span class="s2">&quot;dbx-demo&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">getOrCreate</span><span class="p">()</span>

<span class="c1"># Create a DataFrame consisting of high and low temperatures</span>
<span class="c1"># by airport code and date.</span>
<span class="n">schema</span> <span class="o">=</span> <span class="n">StructType</span><span class="p">([</span>
   <span class="n">StructField</span><span class="p">(</span><span class="s1">&#39;AirportCode&#39;</span><span class="p">,</span> <span class="n">StringType</span><span class="p">(),</span> <span class="kc">False</span><span class="p">),</span>
   <span class="n">StructField</span><span class="p">(</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">DateType</span><span class="p">(),</span> <span class="kc">False</span><span class="p">),</span>
   <span class="n">StructField</span><span class="p">(</span><span class="s1">&#39;TempHighF&#39;</span><span class="p">,</span> <span class="n">IntegerType</span><span class="p">(),</span> <span class="kc">False</span><span class="p">),</span>
   <span class="n">StructField</span><span class="p">(</span><span class="s1">&#39;TempLowF&#39;</span><span class="p">,</span> <span class="n">IntegerType</span><span class="p">(),</span> <span class="kc">False</span><span class="p">)</span>
<span class="p">])</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">[</span>
   <span class="p">[</span> <span class="s1">&#39;BLI&#39;</span><span class="p">,</span> <span class="n">date</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">52</span><span class="p">,</span> <span class="mi">43</span><span class="p">],</span>
   <span class="p">[</span> <span class="s1">&#39;BLI&#39;</span><span class="p">,</span> <span class="n">date</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">38</span><span class="p">],</span>
   <span class="p">[</span> <span class="s1">&#39;BLI&#39;</span><span class="p">,</span> <span class="n">date</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">52</span><span class="p">,</span> <span class="mi">41</span><span class="p">],</span>
   <span class="p">[</span> <span class="s1">&#39;PDX&#39;</span><span class="p">,</span> <span class="n">date</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">45</span><span class="p">],</span>
   <span class="p">[</span> <span class="s1">&#39;PDX&#39;</span><span class="p">,</span> <span class="n">date</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">61</span><span class="p">,</span> <span class="mi">41</span><span class="p">],</span>
   <span class="p">[</span> <span class="s1">&#39;PDX&#39;</span><span class="p">,</span> <span class="n">date</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">66</span><span class="p">,</span> <span class="mi">39</span><span class="p">],</span>
   <span class="p">[</span> <span class="s1">&#39;SEA&#39;</span><span class="p">,</span> <span class="n">date</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">57</span><span class="p">,</span> <span class="mi">43</span><span class="p">],</span>
   <span class="p">[</span> <span class="s1">&#39;SEA&#39;</span><span class="p">,</span> <span class="n">date</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">54</span><span class="p">,</span> <span class="mi">39</span><span class="p">],</span>
   <span class="p">[</span> <span class="s1">&#39;SEA&#39;</span><span class="p">,</span> <span class="n">date</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">41</span><span class="p">]</span>
<span class="p">]</span>

<span class="n">temps</span> <span class="o">=</span> <span class="n">spark</span><span class="o">.</span><span class="n">createDataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">schema</span><span class="p">)</span>

<span class="c1"># Create a table on the cluster and then fill</span>
<span class="c1"># the table with the DataFrame&#39;s contents.</span>
<span class="c1"># If the table already exists from a previous run,</span>
<span class="c1"># delete it first.</span>
<span class="n">spark</span><span class="o">.</span><span class="n">sql</span><span class="p">(</span><span class="s1">&#39;USE default&#39;</span><span class="p">)</span>
<span class="n">spark</span><span class="o">.</span><span class="n">sql</span><span class="p">(</span><span class="s1">&#39;DROP TABLE IF EXISTS demo_temps_table&#39;</span><span class="p">)</span>
<span class="n">temps</span><span class="o">.</span><span class="n">write</span><span class="o">.</span><span class="n">saveAsTable</span><span class="p">(</span><span class="s1">&#39;demo_temps_table&#39;</span><span class="p">)</span>

<span class="c1"># Query the table on the cluster, returning rows</span>
<span class="c1"># where the airport code is not BLI and the date is later</span>
<span class="c1"># than 2021-04-01. Group the results and order by high</span>
<span class="c1"># temperature in descending order.</span>
<span class="n">df_temps</span> <span class="o">=</span> <span class="n">spark</span><span class="o">.</span><span class="n">sql</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM demo_temps_table &quot;</span> \
   <span class="s2">&quot;WHERE AirportCode != &#39;BLI&#39; AND Date &gt; &#39;2021-04-01&#39; &quot;</span> \
   <span class="s2">&quot;GROUP BY AirportCode, Date, TempHighF, TempLowF &quot;</span> \
   <span class="s2">&quot;ORDER BY TempHighF DESC&quot;</span><span class="p">)</span>
<span class="n">df_temps</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Results:</span>
<span class="c1">#</span>
<span class="c1"># +-----------+----------+---------+--------+</span>
<span class="c1"># |AirportCode|      Date|TempHighF|TempLowF|</span>
<span class="c1"># +-----------+----------+---------+--------+</span>
<span class="c1"># |        PDX|2021-04-03|       64|      45|</span>
<span class="c1"># |        PDX|2021-04-02|       61|      41|</span>
<span class="c1"># |        SEA|2021-04-03|       57|      43|</span>
<span class="c1"># |        SEA|2021-04-02|       54|      39|</span>
<span class="c1"># +-----------+----------+---------+--------+</span>

<span class="c1"># Clean up by deleting the table from the cluster.</span>
<span class="n">spark</span><span class="o">.</span><span class="n">sql</span><span class="p">(</span><span class="s1">&#39;DROP TABLE demo_temps_table&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="compound-middle compound" lang="scala">
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">package</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">example</span><span class="p">.</span><span class="n">demo</span>

<span class="k">import</span><span class="w"> </span><span class="nn">org</span><span class="p">.</span><span class="nn">apache</span><span class="p">.</span><span class="nn">spark</span><span class="p">.</span><span class="nn">sql</span><span class="p">.</span><span class="nc">SparkSession</span>
<span class="k">import</span><span class="w"> </span><span class="nn">org</span><span class="p">.</span><span class="nn">apache</span><span class="p">.</span><span class="nn">spark</span><span class="p">.</span><span class="nn">sql</span><span class="p">.</span><span class="nn">types</span><span class="p">.</span><span class="n">_</span>
<span class="k">import</span><span class="w"> </span><span class="nn">org</span><span class="p">.</span><span class="nn">apache</span><span class="p">.</span><span class="nn">spark</span><span class="p">.</span><span class="nn">sql</span><span class="p">.</span><span class="nc">Row</span>
<span class="k">import</span><span class="w"> </span><span class="nn">java</span><span class="p">.</span><span class="nn">sql</span><span class="p">.</span><span class="nc">Date</span>

<span class="k">object</span><span class="w"> </span><span class="nc">SampleApp</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span><span class="w"> </span><span class="nc">Array</span><span class="p">[</span><span class="nc">String</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="n">spark</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">SparkSession</span><span class="p">.</span><span class="n">builder</span><span class="p">().</span><span class="n">master</span><span class="p">(</span><span class="s">&quot;local&quot;</span><span class="p">).</span><span class="n">getOrCreate</span><span class="p">()</span>

<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="n">schema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">StructType</span><span class="p">(</span><span class="nc">Array</span><span class="p">(</span>
<span class="w">      </span><span class="nc">StructField</span><span class="p">(</span><span class="s">&quot;AirportCode&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">StringType</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">),</span>
<span class="w">      </span><span class="nc">StructField</span><span class="p">(</span><span class="s">&quot;Date&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">DateType</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">),</span>
<span class="w">      </span><span class="nc">StructField</span><span class="p">(</span><span class="s">&quot;TempHighF&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">IntegerType</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">),</span>
<span class="w">      </span><span class="nc">StructField</span><span class="p">(</span><span class="s">&quot;TempLowF&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">IntegerType</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="p">))</span>

<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span>
<span class="w">      </span><span class="nc">Row</span><span class="p">(</span><span class="s">&quot;BLI&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">Date</span><span class="p">.</span><span class="n">valueOf</span><span class="p">(</span><span class="s">&quot;2021-04-03&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">52</span><span class="p">,</span><span class="w"> </span><span class="mi">43</span><span class="p">),</span>
<span class="w">      </span><span class="nc">Row</span><span class="p">(</span><span class="s">&quot;BLI&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">Date</span><span class="p">.</span><span class="n">valueOf</span><span class="p">(</span><span class="s">&quot;2021-04-02&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">38</span><span class="p">),</span>
<span class="w">      </span><span class="nc">Row</span><span class="p">(</span><span class="s">&quot;BLI&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">Date</span><span class="p">.</span><span class="n">valueOf</span><span class="p">(</span><span class="s">&quot;2021-04-01&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">52</span><span class="p">,</span><span class="w"> </span><span class="mi">41</span><span class="p">),</span>
<span class="w">      </span><span class="nc">Row</span><span class="p">(</span><span class="s">&quot;PDX&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">Date</span><span class="p">.</span><span class="n">valueOf</span><span class="p">(</span><span class="s">&quot;2021-04-03&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">45</span><span class="p">),</span>
<span class="w">      </span><span class="nc">Row</span><span class="p">(</span><span class="s">&quot;PDX&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">Date</span><span class="p">.</span><span class="n">valueOf</span><span class="p">(</span><span class="s">&quot;2021-04-02&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">61</span><span class="p">,</span><span class="w"> </span><span class="mi">41</span><span class="p">),</span>
<span class="w">      </span><span class="nc">Row</span><span class="p">(</span><span class="s">&quot;PDX&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">Date</span><span class="p">.</span><span class="n">valueOf</span><span class="p">(</span><span class="s">&quot;2021-04-01&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">66</span><span class="p">,</span><span class="w"> </span><span class="mi">39</span><span class="p">),</span>
<span class="w">      </span><span class="nc">Row</span><span class="p">(</span><span class="s">&quot;SEA&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">Date</span><span class="p">.</span><span class="n">valueOf</span><span class="p">(</span><span class="s">&quot;2021-04-03&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">57</span><span class="p">,</span><span class="w"> </span><span class="mi">43</span><span class="p">),</span>
<span class="w">      </span><span class="nc">Row</span><span class="p">(</span><span class="s">&quot;SEA&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">Date</span><span class="p">.</span><span class="n">valueOf</span><span class="p">(</span><span class="s">&quot;2021-04-02&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">54</span><span class="p">,</span><span class="w"> </span><span class="mi">39</span><span class="p">),</span>
<span class="w">      </span><span class="nc">Row</span><span class="p">(</span><span class="s">&quot;SEA&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">Date</span><span class="p">.</span><span class="n">valueOf</span><span class="p">(</span><span class="s">&quot;2021-04-01&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">56</span><span class="p">,</span><span class="w"> </span><span class="mi">41</span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="n">rdd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">sparkContext</span><span class="p">.</span><span class="n">makeRDD</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="n">temps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">createDataFrame</span><span class="p">(</span><span class="n">rdd</span><span class="p">,</span><span class="w"> </span><span class="n">schema</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// Create a table on the Databricks cluster and then fill</span>
<span class="w">    </span><span class="c1">// the table with the DataFrame&#39;s contents.</span>
<span class="w">    </span><span class="c1">// If the table already exists from a previous run,</span>
<span class="w">    </span><span class="c1">// delete it first.</span>
<span class="w">    </span><span class="n">spark</span><span class="p">.</span><span class="n">sql</span><span class="p">(</span><span class="s">&quot;USE default&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">spark</span><span class="p">.</span><span class="n">sql</span><span class="p">(</span><span class="s">&quot;DROP TABLE IF EXISTS demo_temps_table&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">temps</span><span class="p">.</span><span class="n">write</span><span class="p">.</span><span class="n">saveAsTable</span><span class="p">(</span><span class="s">&quot;demo_temps_table&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// Query the table on the Databricks cluster, returning rows</span>
<span class="w">    </span><span class="c1">// where the airport code is not BLI and the date is later</span>
<span class="w">    </span><span class="c1">// than 2021-04-01. Group the results and order by high</span>
<span class="w">    </span><span class="c1">// temperature in descending order.</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="n">df_temps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">sql</span><span class="p">(</span><span class="s">&quot;SELECT * FROM demo_temps_table &quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">      </span><span class="s">&quot;WHERE AirportCode != &#39;BLI&#39; AND Date &gt; &#39;2021-04-01&#39; &quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">      </span><span class="s">&quot;GROUP BY AirportCode, Date, TempHighF, TempLowF &quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">      </span><span class="s">&quot;ORDER BY TempHighF DESC&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">df_temps</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>

<span class="w">    </span><span class="c1">// Results:</span>
<span class="w">    </span><span class="c1">//</span>
<span class="w">    </span><span class="c1">// +-----------+----------+---------+--------+</span>
<span class="w">    </span><span class="c1">// |AirportCode|      Date|TempHighF|TempLowF|</span>
<span class="w">    </span><span class="c1">// +-----------+----------+---------+--------+</span>
<span class="w">    </span><span class="c1">// |        PDX|2021-04-03|       64|      45|</span>
<span class="w">    </span><span class="c1">// |        PDX|2021-04-02|       61|      41|</span>
<span class="w">    </span><span class="c1">// |        SEA|2021-04-03|       57|      43|</span>
<span class="w">    </span><span class="c1">// |        SEA|2021-04-02|       54|      39|</span>
<span class="w">    </span><span class="c1">// +-----------+----------+---------+--------+</span>

<span class="w">    </span><span class="c1">// Clean up by deleting the table from the Databricks cluster.</span>
<span class="w">    </span><span class="n">spark</span><span class="p">.</span><span class="n">sql</span><span class="p">(</span><span class="s">&quot;DROP TABLE demo_temps_table&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="compound-last compound" lang="java">
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span><span class="w"> </span><span class="nn">com.example.demo</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.sql.Date</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.spark.sql.SparkSession</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.spark.sql.types.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.spark.sql.Row</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.spark.sql.RowFactory</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.spark.sql.Dataset</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SampleApp</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">SparkSession</span><span class="w"> </span><span class="n">spark</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SparkSession</span>
<span class="w">      </span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">      </span><span class="p">.</span><span class="na">appName</span><span class="p">(</span><span class="s">&quot;Temps Demo&quot;</span><span class="p">)</span>
<span class="w">      </span><span class="p">.</span><span class="na">config</span><span class="p">(</span><span class="s">&quot;spark.master&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;local&quot;</span><span class="p">)</span>
<span class="w">      </span><span class="p">.</span><span class="na">getOrCreate</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Create a Spark DataFrame consisting of high and low temperatures</span>
<span class="w">    </span><span class="c1">// by airport code and date.</span>
<span class="w">    </span><span class="n">StructType</span><span class="w"> </span><span class="n">schema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">StructType</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">StructField</span><span class="o">[]</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">new</span><span class="w"> </span><span class="n">StructField</span><span class="p">(</span><span class="s">&quot;AirportCode&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">DataTypes</span><span class="p">.</span><span class="na">StringType</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">Metadata</span><span class="p">.</span><span class="na">empty</span><span class="p">()),</span>
<span class="w">      </span><span class="k">new</span><span class="w"> </span><span class="n">StructField</span><span class="p">(</span><span class="s">&quot;Date&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">DataTypes</span><span class="p">.</span><span class="na">DateType</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">Metadata</span><span class="p">.</span><span class="na">empty</span><span class="p">()),</span>
<span class="w">      </span><span class="k">new</span><span class="w"> </span><span class="n">StructField</span><span class="p">(</span><span class="s">&quot;TempHighF&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">DataTypes</span><span class="p">.</span><span class="na">IntegerType</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">Metadata</span><span class="p">.</span><span class="na">empty</span><span class="p">()),</span>
<span class="w">      </span><span class="k">new</span><span class="w"> </span><span class="n">StructField</span><span class="p">(</span><span class="s">&quot;TempLowF&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">DataTypes</span><span class="p">.</span><span class="na">IntegerType</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">Metadata</span><span class="p">.</span><span class="na">empty</span><span class="p">()),</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Row</span><span class="o">&gt;</span><span class="w"> </span><span class="n">dataList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Row</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="n">dataList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">RowFactory</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="s">&quot;BLI&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Date</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="s">&quot;2021-04-03&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">52</span><span class="p">,</span><span class="w"> </span><span class="mi">43</span><span class="p">));</span>
<span class="w">    </span><span class="n">dataList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">RowFactory</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="s">&quot;BLI&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Date</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="s">&quot;2021-04-02&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">38</span><span class="p">));</span>
<span class="w">    </span><span class="n">dataList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">RowFactory</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="s">&quot;BLI&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Date</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="s">&quot;2021-04-01&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">52</span><span class="p">,</span><span class="w"> </span><span class="mi">41</span><span class="p">));</span>
<span class="w">    </span><span class="n">dataList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">RowFactory</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="s">&quot;PDX&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Date</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="s">&quot;2021-04-03&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">45</span><span class="p">));</span>
<span class="w">    </span><span class="n">dataList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">RowFactory</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="s">&quot;PDX&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Date</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="s">&quot;2021-04-02&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">61</span><span class="p">,</span><span class="w"> </span><span class="mi">41</span><span class="p">));</span>
<span class="w">    </span><span class="n">dataList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">RowFactory</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="s">&quot;PDX&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Date</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="s">&quot;2021-04-01&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">66</span><span class="p">,</span><span class="w"> </span><span class="mi">39</span><span class="p">));</span>
<span class="w">    </span><span class="n">dataList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">RowFactory</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="s">&quot;SEA&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Date</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="s">&quot;2021-04-03&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">57</span><span class="p">,</span><span class="w"> </span><span class="mi">43</span><span class="p">));</span>
<span class="w">    </span><span class="n">dataList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">RowFactory</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="s">&quot;SEA&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Date</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="s">&quot;2021-04-02&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">54</span><span class="p">,</span><span class="w"> </span><span class="mi">39</span><span class="p">));</span>
<span class="w">    </span><span class="n">dataList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">RowFactory</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="s">&quot;SEA&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Date</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="s">&quot;2021-04-01&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">56</span><span class="p">,</span><span class="w"> </span><span class="mi">41</span><span class="p">));</span>

<span class="w">    </span><span class="n">Dataset</span><span class="o">&lt;</span><span class="n">Row</span><span class="o">&gt;</span><span class="w"> </span><span class="n">temps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="na">createDataFrame</span><span class="p">(</span><span class="n">dataList</span><span class="p">,</span><span class="w"> </span><span class="n">schema</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Create a table on the Databricks cluster and then fill</span>
<span class="w">    </span><span class="c1">// the table with the DataFrame&#39;s contents.</span>
<span class="w">    </span><span class="c1">// If the table already exists from a previous run,</span>
<span class="w">    </span><span class="c1">// delete it first.</span>
<span class="w">    </span><span class="n">spark</span><span class="p">.</span><span class="na">sql</span><span class="p">(</span><span class="s">&quot;USE default&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">spark</span><span class="p">.</span><span class="na">sql</span><span class="p">(</span><span class="s">&quot;DROP TABLE IF EXISTS demo_temps_table&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">temps</span><span class="p">.</span><span class="na">write</span><span class="p">().</span><span class="na">saveAsTable</span><span class="p">(</span><span class="s">&quot;demo_temps_table&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Query the table on the Databricks cluster, returning rows</span>
<span class="w">    </span><span class="c1">// where the airport code is not BLI and the date is later</span>
<span class="w">    </span><span class="c1">// than 2021-04-01. Group the results and order by high</span>
<span class="w">    </span><span class="c1">// temperature in descending order.</span>
<span class="w">    </span><span class="n">Dataset</span><span class="o">&lt;</span><span class="n">Row</span><span class="o">&gt;</span><span class="w"> </span><span class="n">df_temps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="na">sql</span><span class="p">(</span><span class="s">&quot;SELECT * FROM demo_temps_table &quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">      </span><span class="s">&quot;WHERE AirportCode != &#39;BLI&#39; AND Date &gt; &#39;2021-04-01&#39; &quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">      </span><span class="s">&quot;GROUP BY AirportCode, Date, TempHighF, TempLowF &quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">      </span><span class="s">&quot;ORDER BY TempHighF DESC&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">df_temps</span><span class="p">.</span><span class="na">show</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Results:</span>
<span class="w">    </span><span class="c1">//</span>
<span class="w">    </span><span class="c1">// +-----------+----------+---------+--------+</span>
<span class="w">    </span><span class="c1">// |AirportCode|      Date|TempHighF|TempLowF|</span>
<span class="w">    </span><span class="c1">// +-----------+----------+---------+--------+</span>
<span class="w">    </span><span class="c1">// |        PDX|2021-04-03|       64|      45|</span>
<span class="w">    </span><span class="c1">// |        PDX|2021-04-02|       61|      41|</span>
<span class="w">    </span><span class="c1">// |        SEA|2021-04-03|       57|      43|</span>
<span class="w">    </span><span class="c1">// |        SEA|2021-04-02|       54|      39|</span>
<span class="w">    </span><span class="c1">// +-----------+----------+---------+--------+</span>

<span class="w">    </span><span class="c1">// Clean up by deleting the table from the Databricks cluster.</span>
<span class="w">    </span><span class="n">spark</span><span class="p">.</span><span class="na">sql</span><span class="p">(</span><span class="s">&quot;DROP TABLE demo_temps_table&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="next-steps">
<h2>Next steps<a class="headerlink" href="#next-steps" title="Permalink to this headline"> </a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://dbx.readthedocs.io/en/latest/reference/deployment/">Extend your conf/deployment.yaml file</a> to support various types of all-purpose and jobs cluster definitions.</p></li>
<li><p><a class="reference external" href="https://dbx.readthedocs.io/en/latest/reference/deployment/">Declare multitask jobs</a> in your <code class="docutils literal notranslate"><span class="pre">conf/deployment.yaml</span></code> file.</p></li>
<li><p>Reference <a class="reference external" href="https://dbx.readthedocs.io/en/latest/features/named_properties/">named properties</a> in your <code class="docutils literal notranslate"><span class="pre">conf/deployment.yaml</span></code> file.</p></li>
<li><p>Batch run code as new jobs on clusters with the <a class="reference external" href="https://dbx.readthedocs.io/en/latest/reference/cli/#dbx-execute">dbx execute</a> command.</p></li>
</ul>
</div>
<div class="section" id="additional-resources">
<h2>Additional resources<a class="headerlink" href="#additional-resources" title="Permalink to this headline"> </a></h2>
<ul class="simple">
<li><p>Batch deploy code artifacts to Databricks workspace storage with the <a class="reference external" href="https://dbx.readthedocs.io/en/latest/reference/cli/#dbx-deploy">dbx deploy</a> command.</p></li>
<li><p>Batch run existing jobs on clusters with the <a class="reference external" href="https://dbx.readthedocs.io/en/latest/reference/cli/#dbx-launch">dbx launch</a> command.</p></li>
<li><p><a class="reference external" href="https://dbx.readthedocs.io/en/latest/features/assets/">Use dbx to do assets-based workflow deployment and launch</a>.</p></li>
<li><p><a class="reference external" href="https://dbx.readthedocs.io/en/latest/reference/deployment/?h=or#scheduling-workflows">Schedule workflow deployments</a>.</p></li>
<li><p>Learn more about <a class="reference external" href="https://dbx.readthedocs.io/en/latest/guides/python/devops/package/">dbx and CI/CD</a>.</p></li>
<li><p><a class="reference external" href="https://dbx.readthedocs.io/en/latest/">dbx documentation</a></p></li>
<li><p><a class="reference external" href="https://github.com/databrickslabs/dbx">databrickslabs/dbx</a> repository on GitHub</p></li>
<li><p><a class="reference external" href="https://dbx.readthedocs.io/en/latest/#limitations">dbx limitations</a></p></li>
</ul>
</div>
</div>


    
          </div>
        </div>
        <div  class="suapp-rating">
  <div id="suPageRateApp">
     <su-app></su-app>
   </div> 
 </div>
<hr> 
<footer>
  <div role="contentinfo">
      <p class="copyright">
          &copy; Databricks 2023. All rights reserved. Apache, Apache Spark, Spark, and the Spark logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a>.
      </p>
      <p> 
        
          <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
        
     | <a href="https://databricks.com/privacy-policy">Privacy Policy</a> | <a href="https://databricks.com/terms-of-use">Terms of Use</a></p>

  </div> 

</footer>
      </div>
    </div>
  </section>
</main>

  </page>
  
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT: '../../../',
      VERSION: '1.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE: 'false'
    };
  </script>
  <script type="text/javascript" src="../../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../../_static/underscore.js"></script>
  <script type="text/javascript" src="../../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../../_static/language_data.js"></script>
  

  <script type="text/javascript" src="../../../_static/js/clipboard.min.js"></script>
  <script type="text/javascript" src="../../../_static/js/jquery.waypoints.min.js"></script>

  <!-- Select2 (https://select2.org/) -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <!-- End Select2 -->

  
  
  <script type="text/javascript" src="../../../_static/js/localized.js"></script>
  <script type="text/javascript" src="../../../_static/js/custom.js"></script>
  

  
  
  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.StickyNav.enable();
    });

  </script>
  
 



  <script>
  window.__searchunifyLoaderConfig = JSON.parse('{"clients": {"en": "02c2e804-27e9-11ee-aefb-0242ac120011", "ja": "6a42c3f2-2820-11ee-aefb-0242ac120011", "pt": "6a86badd-2821-11ee-aefb-0242ac120011"}}')
</script>
<script type="text/javascript" src="../../../_static/js/search-loader.js"></script>
</body>
<script type='text/javascript'>
  window.onload = function () {
    var description = document.querySelector('meta[name="description"]').getAttribute("content");
    let titleText = document.querySelector('h1').textContent;
    document.querySelector('meta[property="og:title"]').setAttribute("content", titleText);
    document.querySelector('meta[property="og:description"]').setAttribute("content", description);
    document.querySelector('meta[property="twitter:description"]').setAttribute("content", description);
  };
</script>

</html>