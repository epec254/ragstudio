

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en-US" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en-US"> <!--<![endif]-->

<head>
  <!-- cookie consent -->
  
    <!-- Combined Onetrust and Rudderstack Implementation Scripts -->
    <!-- Onetrust Initialization -->
    <script type="text/javascript" src="https://cdn.cookielaw.org/consent/92466579-1717-44d3-809d-a05fb02843ed-test/OtAutoBlock.js"></script>
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="92466579-1717-44d3-809d-a05fb02843ed-test"></script>
    <link rel="stylesheet" id="db-onetrust-style" href="https://www.databricks.com/wp-content/uploads/db_onetrust.css" media="all" />
    <!-- Setting Rudderstack Write Key -->
    <script>window.rudderstackKey = "2SOR9fvSr5Fi6tN2ihPbVHnX1SZ" </script>
    <!-- Rudderstack Initialization + Onetrust Integration + Rudderstack Custom Events -->
    <script type="text/javascript" src="https://www.databricks.com/sites/default/files/rudderstack/v1/db-rudderstack-events.js"></script>

  <!-- cookie consent -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta content="Learn how to manage the lifecycle of MLflow Models in Unity Catalog. Learn how to migrate workflows and models in the Workspace Model Registry to Unity Catalog." name="description" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta property="og:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:title" content="Manage model lifecycle in Unity Catalog">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://docs.databricks.com">
  <meta property="og:description" content="" id="og-description">
  <meta name="twitter:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta name="twitter:site" content="@databricks">
  <meta name="twitter:creator" content="@databricks">
  <meta property="twitter:description" content="">
  
  <title>Manage model lifecycle in Unity Catalog &#124; Databricks on AWS</title>
  
  
  <link rel="canonical" href="https://docs.databricks.com/en/machine-learning/manage-model-lifecycle/index.html">
  <!-- Start hreflang tag -->
  <link rel="alternate" hreflang="en" href="https://docs.databricks.com/en/machine-learning/manage-model-lifecycle/index.html" />
<link rel="alternate" hreflang="x-default" href="https://docs.databricks.com/en/machine-learning/manage-model-lifecycle/index.html" />
  <!-- End hreflang tag -->
  
  
  <link rel="shortcut icon" href="../../_static/favicon.ico" />
  

  

  

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T85FQ33');</script>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWTKQQ');</script>
    
  <!-- End Google Tag Manager -->


  <!-- MaxMind / GEO IP -->
  <script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>
  <!-- End MaxMind / GEO IP -->

  
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600&display=swap" rel="stylesheet">
  <link rel="preload" href="../../_static/fonts/DMSans-Bold.ttf" as="font">
  <link rel="preload" href="../../_static/fonts/DMSans-Regular.ttf" as="font">
  <link rel="preload" href="../../_static/fonts/DMMono-Regular.ttf" as="font">
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/cloud-provider-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/translation-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/searchunify/main.css" type="text/css" />

  
  <link rel="index" title="Index" href="../../genindex.html" />
  <link rel="search" title="Search" href="../../search.html" />
  <link rel="top" title="Databricks on AWS" href="../../index.html" /> 
</head>

<body class="wy-body-for-nav" role="document">

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T85FQ33"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWTKQQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  
  <nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
    
<nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
  <div class="container-logo">
    <ul class="mobile-menu-toggle">
        <li class="menu-toggle">
            <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
            
            <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
              alt="Databricks" /></a>   
               
              </li>
    </ul>
    <ul class="su_nav-menu">
      <li class="menu-toggle">
        <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
        
          
        
        <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
            alt="Databricks" /></a></li>
        <!-- 
<li><a href="https://help.databricks.com/s/">Help Center</a></li>
<li class="active"><a href="https://docs.databricks.com/en/">Documentation</a></li>
<li><a href="https://kb.databricks.com/">Knowledge Base</a></li>
 -->
    </ul>
  </div>
  <div class="su_nav-right">
    <ul class="su_link-mobile">
  <!-- Mobile header code can go here -->
</ul>
<ul class="right-try-list">
   
</ul>
  </div>
</nav>
  </nav>

  <div class="su_sub-header">
    <div class="container">
      <div class="su_sub-header-inner">
        <!-- <div class="su_subnav-menu-right">
  <div id="auto" style="width: 100%;">
    <div ng-controller="SearchautoController">
      <div bind-html-compile="autocompleteHtml">
        <form class="su__search-box-1" disabled="disabled">
          <input class="su__search-input" type="search" name="Search box" id="su__search-b" placeholder="Search Documentation" disabled="disabled"/>
          <button class="su__search-button" type="submit" class="button button-success" disabled="disabled">
            <svg width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                fill="#333"></path>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>
</div> -->
        <div class="search-lng-gap"></div>
        <div style="margin-left: 16px; margin-right: 16px;">
          <!-- <select name="lng selector" id="lng-selector">
    <option value="../../../en/machine-learning/manage-model-lifecycle/index.html" class="notranslate">English</option>
    <option value="../../../ja/machine-learning/manage-model-lifecycle/index.html" class="notranslate">日本語</option>
    <option value="../../../pt/machine-learning/manage-model-lifecycle/index.html" class="notranslate">Português (Brasil)</option>
</select> -->
        </div>
        <div class="cloud-selector-container">
          <!-- <select name="cloud provider selector" id="cloud-provider-selector">
    <option value="aws" selected class="notranslate">
        Amazon Web Services
    </option>
    <option value="azure"  class="notranslate">
        Microsoft Azure
    </option>
    <option value="gcp"  class="notranslate">
        Google Cloud Platform
    </option>
</select> -->
        </div>
      </div>
    </div>
  </div>
  <page class="js-page-container">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side su_nav-side">
<div class="wy-side-scroll">
  <div class="wy-side-nav-search">
    

    

    

    
  </div>

  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      <a href="../../index.html" class="main-navigation-home">Databricks on AWS</a>
    

    
      

      
        <p class="caption"><span class="caption-text">Load &amp; manage data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rag-temp/index.html">RAG Studio</a></li>
</ul>

      
    
  </div>

  <div role="contentinfo">
    
  <p class="build_info notranslate"data-last-edit="December 23, 2023">
    Updated Jan 11, 2024
  </p>
<script>
  window.addEventListener('DOMContentLoaded',function(){
    var h1=document.querySelector('h1');
    var bi=document.querySelector('[data-last-edit]');
    if(h1 && bi){
      var ver = document.createElement('p');
      ver.className = 'version_info';
      ver.textContent = bi.getAttribute('data-last-edit');
      h1.parentElement.insertBefore(ver, h1.nextElementSibling);
    }
  });
</script>

    <p>
      
        <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
      
    </p>
  </div>
</div>
</nav>
    
    
<main class="wy-grid-for-nav su_nav-grid">
  <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
    <div class="wy-nav-content su__nav_content">
      <div class="rst-content">
        





<div role="navigation" aria-label="breadcrumbs navigation" class="wy-breadcrumbs-wrapper">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Documentation</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
    
      <li>Manage model lifecycle in Unity Catalog</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>
</div>
        
        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
          <div itemprop="articleBody">
            
    
  <div class="section" id="manage-model-lifecycle-in-unity-catalog">
<span id="manage-model-lifecycle-in-uc"></span><h1>Manage model lifecycle in Unity Catalog<a class="headerlink" href="#manage-model-lifecycle-in-unity-catalog" title="Permalink to this headline"> </a></h1>
<div class="admonition important">
<p class="admonition-title">Important</p>
<ul class="simple">
<li><p>This article documents Models in Unity Catalog, which Databricks recommends for governing and deploying models. If your workspace is not enabled for Unity Catalog, the functionality on this page is not available. Instead, see <a class="reference internal" href="workspace-model-registry.html"><span class="doc">Manage model lifecycle using the Workspace Model Registry</span></a>. For guidance on how to upgrade from the Workspace Model Registry to Unity Catalog, see <a class="reference internal" href="#migrate-models-to-uc"><span class="std std-ref">Migrate workflows and models to Unity Catalog</span></a></p></li>
<li><p>Models in Unity Catalog isn’t available in AWS GovCloud regions.</p></li>
</ul>
</div>
<p>This article describes how to use Models in Unity Catalog as part of your machine learning workflow to manage the full lifecycle of ML models. Databricks provides a hosted version of MLflow Model Registry in <a class="reference internal" href="../../data-governance/unity-catalog/index.html"><span class="doc">Unity Catalog</span></a>. Models in Unity Catalog extends the benefits of Unity Catalog to ML models, including centralized access control, auditing, lineage, and model discovery across workspaces. Models in Unity Catalog is compatible with the open-source MLflow Python client.</p>
<p>Key features of models in Unity Catalog include:</p>
<ul class="simple">
<li><p>Namespacing and governance for models, so you can group and govern models at the environment, project, or team level (“Grant data scientists read-only access to production models”).</p></li>
<li><p>Chronological model lineage (which MLflow experiment and run produced the model at a given time).</p></li>
<li><p><a class="reference internal" href="../model-serving/index.html"><span class="doc">Model Serving</span></a>.</p></li>
<li><p>Model versioning.</p></li>
<li><p>Model deployment via aliases. For example, mark the “Champion” version of a model within your <code class="docutils literal notranslate"><span class="pre">prod</span></code> catalog.</p></li>
</ul>
<p>If your <a class="reference internal" href="../../data-governance/unity-catalog/get-started.html#enablement"><span class="std std-ref">workspace’s default catalog</span></a> is configured to a catalog in Unity Catalog, models registered using MLflow APIs such as <code class="docutils literal notranslate"><span class="pre">mlflow.&lt;model-type&gt;.log_model(...,</span> <span class="pre">registered_model_name)</span></code> or <code class="docutils literal notranslate"><span class="pre">mlflow.register_model(model_uri,</span> <span class="pre">name)</span></code> are registered to Unity Catalog by default.</p>
<p>This article includes instructions for both the Models in Unity Catalog UI and API.</p>
<p>For an overview of Model Registry concepts, see <a class="reference internal" href="../../mlflow/index.html"><span class="doc">MLflow guide</span></a>.</p>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline"> </a></h2>
<ol class="arabic">
<li><p>Unity Catalog must be enabled in your workspace. See <a class="reference internal" href="../../data-governance/unity-catalog/get-started.html"><span class="doc">Get started using Unity Catalog</span></a> to create a Unity Catalog Metastore, enable it in a workspace, and create a catalog. If Unity Catalog is not enabled, you can still use the classic <a class="reference internal" href="workspace-model-registry.html"><span class="doc">workspace model registry</span></a>.</p></li>
<li><p>Your workspace must be attached to a Unity Catalog metastore that supports privilege inheritance. This is true for all metastores created after August  25, 2022. If running on an older metastore, <a class="reference internal" href="../../data-governance/unity-catalog/manage-privileges/upgrade-privilege-model.html"><span class="doc">follow docs</span></a> to upgrade.</p></li>
<li><p>You must have access to run commands on a <a class="reference internal" href="../../compute/configure.html#access-mode"><span class="std std-ref">cluster with access to Unity Catalog</span></a>.</p></li>
<li><p>To create new registered models, you need the <code class="docutils literal notranslate"><span class="pre">CREATE_MODEL</span></code> privilege on a schema, in addition to the <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SCHEMA</span></code> and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> privileges on the schema and its enclosing catalog. <code class="docutils literal notranslate"><span class="pre">CREATE_MODEL</span></code> is a new schema-level privilege that you can grant using the Catalog Explorer UI or the <a class="reference internal" href="../../sql/language-manual/security-grant.html"><span class="doc">SQL GRANT command</span></a>, as shown below.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">GRANT</span><span class="w"> </span><span class="n">CREATE_MODEL</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">SCHEMA</span><span class="w"> </span><span class="o">&lt;</span><span class="k">schema</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="o">&lt;</span><span class="n">principal</span><span class="o">&gt;</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="upgrade-training-workloads-to-unity-catalog">
<span id="upgrade-training-workloads-to-uc"></span><span id="upgrade-training-workloads-for-uc"></span><h2>Upgrade training workloads to Unity Catalog<a class="headerlink" href="#upgrade-training-workloads-to-unity-catalog" title="Permalink to this headline"> </a></h2>
<p>This section includes instructions to upgrade existing training workloads to Unity Catalog.</p>
<div class="section" id="install-mlflow-python-client">
<h3>Install MLflow Python client<a class="headerlink" href="#install-mlflow-python-client" title="Permalink to this headline"> </a></h3>
<p>Support for models in Unity Catalog is included in Databricks Runtime 13.2 ML and above. You can also use models in Unity Catalog on Databricks Runtime 11.3 LTS and above by installing the latest version of the MLflow Python client in your notebook, using the code below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="s2">&quot;mlflow-skinny[databricks]&quot;</span>
<span class="n">dbutils</span><span class="o">.</span><span class="n">library</span><span class="o">.</span><span class="n">restartPython</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="configure-mlflow-client-to-access-models-in-unity-catalog">
<span id="configure-mlflow-client-to-access-models-in-uc"></span><h3>Configure MLflow client to access models in Unity Catalog<a class="headerlink" href="#configure-mlflow-client-to-access-models-in-unity-catalog" title="Permalink to this headline"> </a></h3>
<p>By default, the MLflow Python client creates models in the Databricks workspace model registry. To upgrade to models in Unity Catalog, configure the MLflow client:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mlflow</span>
<span class="n">mlflow</span><span class="o">.</span><span class="n">set_registry_uri</span><span class="p">(</span><span class="s2">&quot;databricks-uc&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Starting in November 2023, Databricks <a class="reference internal" href="../../data-governance/unity-catalog/get-started.html#enablement"><span class="std std-ref">automatically enabled</span></a> Unity Catalog for new workspaces. If you are running a cluster using Databricks Runtime 13.3 LTS or above in a workspace that was automatically enabled for Unity Catalog, models are automatically created in and loaded from Unity Catalog with no configuration required. There is no change in behavior for other Databricks Runtime versions.</p>
</div>
</div>
<div class="section" id="train-and-register-unity-catalog-compatible-models">
<span id="train-and-register-uc-compatible-models"></span><h3>Train and register Unity Catalog-compatible models<a class="headerlink" href="#train-and-register-unity-catalog-compatible-models" title="Permalink to this headline"> </a></h3>
<p><strong>Permissions required</strong>: To create a new registered model, you need the <code class="docutils literal notranslate"><span class="pre">CREATE_MODEL</span></code> and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SCHEMA</span></code> privileges on the enclosing schema, and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> privilege on the enclosing catalog. To create new model versions under a registered model, you must be the owner of the registered model and have <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SCHEMA</span></code> and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> privileges on the schema and catalog containing the model.</p>
<p>ML model versions in UC must have a <a class="reference external" href="https://mlflow.org/docs/latest/models.html#model-signature">model signature</a>. If you’re not already logging MLflow models with signatures in your model training workloads, you can either:</p>
<ul class="simple">
<li><p>Use <a class="reference external" href="/mlflow/databricks-autologging.html">Databricks autologging</a>, which automatically logs models with signatures for many popular ML frameworks. See supported frameworks in the <a class="reference external" href="https://mlflow.org/docs/latest/tracking.html#automatic-logging">MLflow docs</a>.</p></li>
<li><p>With MLflow 2.5.0 and above, you can specify an input example in your <code class="docutils literal notranslate"><span class="pre">mlflow.&lt;flavor&gt;.log_model</span></code> call, and the model signature is automatically inferred. For further information, refer to <a class="reference external" href="https://mlflow.org/docs/latest/models.html#how-to-log-models-with-signatures">the MLflow documentation</a>.</p></li>
</ul>
<p>Then, pass the three-level name of the model to MLflow APIs, in the form <code class="docutils literal notranslate"><span class="pre">&lt;catalog&gt;.&lt;schema&gt;.&lt;model&gt;</span></code>.</p>
<p>The examples in this section create and access models in the <code class="docutils literal notranslate"><span class="pre">ml_team</span></code> schema under the <code class="docutils literal notranslate"><span class="pre">prod</span></code> catalog.</p>
<p>The model training examples in this section create a new model version and register it in the <code class="docutils literal notranslate"><span class="pre">prod</span></code> catalog. Using the <code class="docutils literal notranslate"><span class="pre">prod</span></code> catalog doesn’t necessarily mean that the model version serves production traffic. The model version’s enclosing catalog, schema, and registered model reflect its environment (<code class="docutils literal notranslate"><span class="pre">prod</span></code>) and associated governance rules (for example, privileges can be set up so that only admins can delete from the <code class="docutils literal notranslate"><span class="pre">prod</span></code> catalog), but not its deployment status. To manage the deployment status, use <a class="reference internal" href="#uc-model-aliases"><span class="std std-ref">model aliases</span></a>.</p>
<div class="section" id="register-a-model-to-unity-catalog-using-autologging">
<span id="register-a-model-to-uc-using-autologging"></span><h4>Register a model to Unity Catalog using autologging<a class="headerlink" href="#register-a-model-to-unity-catalog-using-autologging" title="Permalink to this headline"> </a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">datasets</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestClassifier</span>

<span class="c1"># Train a sklearn model on the iris dataset</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">datasets</span><span class="o">.</span><span class="n">load_iris</span><span class="p">(</span><span class="n">return_X_y</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">as_frame</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">clf</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">max_depth</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
<span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="c1"># Note that the UC model name follows the pattern</span>
<span class="c1"># &lt;catalog_name&gt;.&lt;schema_name&gt;.&lt;model_name&gt;, corresponding to</span>
<span class="c1"># the catalog, schema, and registered model name</span>
<span class="c1"># in Unity Catalog under which to create the version</span>
<span class="c1"># The registered model will be created if it doesn&#39;t already exist</span>
<span class="n">autolog_run</span> <span class="o">=</span> <span class="n">mlflow</span><span class="o">.</span><span class="n">last_active_run</span><span class="p">()</span>
<span class="n">model_uri</span> <span class="o">=</span> <span class="s2">&quot;runs:/</span><span class="si">{}</span><span class="s2">/model&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">autolog_run</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">run_id</span><span class="p">)</span>
<span class="n">mlflow</span><span class="o">.</span><span class="n">register_model</span><span class="p">(</span><span class="n">model_uri</span><span class="p">,</span> <span class="s2">&quot;prod.ml_team.iris_model&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="register-a-model-to-unity-catalog-with-automatically-inferred-signature">
<span id="register-a-model-to-uc-with-automatically-inferred-signature"></span><h4>Register a model to Unity Catalog with automatically inferred signature<a class="headerlink" href="#register-a-model-to-unity-catalog-with-automatically-inferred-signature" title="Permalink to this headline"> </a></h4>
<p>Support for automatically inferred signatures is available in MLflow version 2.5.0 and above, and is supported in Databricks Runtime 11.3 LTS ML and above. To use automatically inferred signatures, use the following code to install the latest MLflow Python client in your notebook:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="s2">&quot;mlflow-skinny[databricks]&quot;</span>
<span class="n">dbutils</span><span class="o">.</span><span class="n">library</span><span class="o">.</span><span class="n">restartPython</span><span class="p">()</span>
</pre></div>
</div>
<p>The following code shows an example of an automatically inferred signature.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">datasets</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestClassifier</span>

<span class="k">with</span> <span class="n">mlflow</span><span class="o">.</span><span class="n">start_run</span><span class="p">():</span>
    <span class="c1"># Train a sklearn model on the iris dataset</span>
    <span class="n">X</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">datasets</span><span class="o">.</span><span class="n">load_iris</span><span class="p">(</span><span class="n">return_X_y</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">as_frame</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">clf</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">max_depth</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
    <span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="c1"># Take the first row of the training dataset as the model input example.</span>
    <span class="n">input_example</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">0</span><span class="p">]]</span>
    <span class="c1"># Log the model and register it as a new version in UC.</span>
    <span class="n">mlflow</span><span class="o">.</span><span class="n">sklearn</span><span class="o">.</span><span class="n">log_model</span><span class="p">(</span>
        <span class="n">sk_model</span><span class="o">=</span><span class="n">clf</span><span class="p">,</span>
        <span class="n">artifact_path</span><span class="o">=</span><span class="s2">&quot;model&quot;</span><span class="p">,</span>
        <span class="c1"># The signature is automatically inferred from the input example and its predicted output.</span>
        <span class="n">input_example</span><span class="o">=</span><span class="n">input_example</span><span class="p">,</span>
        <span class="n">registered_model_name</span><span class="o">=</span><span class="s2">&quot;prod.ml_team.iris_model&quot;</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="view-models-in-the-ui">
<h2>View models in the UI<a class="headerlink" href="#view-models-in-the-ui" title="Permalink to this headline"> </a></h2>
<p><strong>Permissions required</strong>: To view a registered model and its model versions in the UI, you need <code class="docutils literal notranslate"><span class="pre">EXECUTE</span></code> privilege on the registered model,
plus <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SCHEMA</span></code> and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> privileges on the schema and catalog containing the model</p>
<p>You can view and manage registered models and model versions in Unity Catalog using the <a class="reference internal" href="../../catalog-explorer/index.html"><span class="doc">Catalog Explorer</span></a>.</p>
</div>
<div class="section" id="control-access-to-models">
<h2>Control access to models<a class="headerlink" href="#control-access-to-models" title="Permalink to this headline"> </a></h2>
<p>For information about controlling access to models registered in Unity Catalog, see <a class="reference internal" href="../../data-governance/unity-catalog/manage-privileges/privileges.html"><span class="doc">Unity Catalog privileges and securable objects</span></a>. For best best practices on organizing models across catalogs and schemas, see <a class="reference internal" href="../../data-governance/unity-catalog/best-practices.html#organize-data"><span class="std std-ref">Organize your data</span></a>.</p>
<p>You can configure model permissions programatically using the <a class="reference external" href="https://docs.databricks.com/api/workspace/grants">Grants REST API</a>. When configuring model permissions, set <code class="docutils literal notranslate"><span class="pre">securable_type</span></code> to <code class="docutils literal notranslate"><span class="pre">&quot;FUNCTION&quot;</span></code> in REST API requests. For example, use <code class="docutils literal notranslate"><span class="pre">PATCH</span> <span class="pre">/api/2.1/unity-catalog/permissions/function/{full_name}</span></code> to update registered model permissions.</p>
</div>
<div class="section" id="deploy-and-organize-models-with-aliases-and-tags">
<span id="uc-model-aliases"></span><h2>Deploy and organize models with aliases and tags<a class="headerlink" href="#deploy-and-organize-models-with-aliases-and-tags" title="Permalink to this headline"> </a></h2>
<p>Model aliases and tags help you organize and manage models in Unity Catalog.</p>
<p>Model aliases allow you to assign a mutable, named reference to a particular version of a registered model. You can use aliases to indicate the deployment status of a model version. For example, you could allocate a “Champion” alias to the model version currently in production and target this alias in workloads that use the production model. You can then update the production model by reassigning the “Champion” alias to a different model version.</p>
<p><a class="reference internal" href="../../data-governance/unity-catalog/tags.html"><span class="doc">Tags</span></a> are key-value pairs that you associate with registered models and model versions, allowing you to label and categorize them by function or status. For example, you could apply a tag with key <code class="docutils literal notranslate"><span class="pre">&quot;task&quot;</span></code> and value <code class="docutils literal notranslate"><span class="pre">&quot;question-answering&quot;</span></code> (displayed in the UI as <code class="docutils literal notranslate"><span class="pre">task:question-answering</span></code>) to registered models intended for question answering tasks. At the model version level, you could tag versions undergoing pre-deployment validation with <code class="docutils literal notranslate"><span class="pre">validation_status:pending</span></code> and those cleared for deployment with <code class="docutils literal notranslate"><span class="pre">validation_status:approved</span></code>.</p>
<p>See the following sections for how to use aliases and tags.</p>
<div class="section" id="set-and-delete-aliases-on-models">
<h3>Set and delete aliases on models<a class="headerlink" href="#set-and-delete-aliases-on-models" title="Permalink to this headline"> </a></h3>
<p><strong>Permissions required</strong>: Owner of the registered model, plus <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SCHEMA</span></code> and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> privileges on the schema and catalog containing the model.</p>
<p>You can set, update, and remove aliases for models in Unity Catalog by using <a class="reference internal" href="../../catalog-explorer/explore-models.html"><span class="doc">Catalog Explorer</span></a>. You can manage aliases across a registered model in the <a class="reference internal" href="../../catalog-explorer/explore-models.html#view-model-information"><span class="std std-ref">model details page</span></a> and configure aliases for a specific model version in the <a class="reference internal" href="../../catalog-explorer/explore-models.html#view-model-version-information"><span class="std std-ref">model version details page</span></a>.</p>
<p>To set, update, and delete aliases using the MLflow Client API, see the examples below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mlflow</span> <span class="kn">import</span> <span class="n">MlflowClient</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">MlflowClient</span><span class="p">()</span>

<span class="c1"># create &quot;Champion&quot; alias for version 1 of model &quot;prod.ml_team.iris_model&quot;</span>
<span class="n">client</span><span class="o">.</span><span class="n">set_registered_model_alias</span><span class="p">(</span><span class="s2">&quot;prod.ml_team.iris_model&quot;</span><span class="p">,</span> <span class="s2">&quot;Champion&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># reassign the &quot;Champion&quot; alias to version 2</span>
<span class="n">client</span><span class="o">.</span><span class="n">set_registered_model_alias</span><span class="p">(</span><span class="s2">&quot;prod.ml_team.iris_model&quot;</span><span class="p">,</span> <span class="s2">&quot;Champion&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># get a model version by alias</span>
<span class="n">client</span><span class="o">.</span><span class="n">get_model_version_by_alias</span><span class="p">(</span><span class="s2">&quot;prod.ml_team.iris_model&quot;</span><span class="p">,</span> <span class="s2">&quot;Champion&quot;</span><span class="p">)</span>

<span class="c1"># delete the alias</span>
<span class="n">client</span><span class="o">.</span><span class="n">delete_registered_model_alias</span><span class="p">(</span><span class="s2">&quot;prod.ml_team.iris_model&quot;</span><span class="p">,</span> <span class="s2">&quot;Champion&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="set-and-delete-tags-on-models">
<h3>Set and delete tags on models<a class="headerlink" href="#set-and-delete-tags-on-models" title="Permalink to this headline"> </a></h3>
<p><strong>Permissions required</strong>: Owner of or have <code class="docutils literal notranslate"><span class="pre">APPLY_TAG</span></code> privilege on the registered model, plus <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SCHEMA</span></code> and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> privileges on the schema and catalog containing the model.</p>
<p>See <a class="reference internal" href="../../data-governance/unity-catalog/tags.html#catalog-explorer"><span class="std std-ref">Manage tags in Catalog Explorer</span></a> on how to set and delete tags using the UI.</p>
<p>To set and delete tags using the MLflow Client API, see the examples below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mlflow</span> <span class="kn">import</span> <span class="n">MlflowClient</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">MlflowClient</span><span class="p">()</span>

<span class="c1"># Set registered model tag</span>
<span class="n">client</span><span class="o">.</span><span class="n">set_registered_model_tag</span><span class="p">(</span><span class="s2">&quot;prod.ml_team.iris_model&quot;</span><span class="p">,</span> <span class="s2">&quot;task&quot;</span><span class="p">,</span> <span class="s2">&quot;classification&quot;</span><span class="p">)</span>

<span class="c1"># Delete registered model tag</span>
<span class="n">client</span><span class="o">.</span><span class="n">delete_registered_model_tag</span><span class="p">(</span><span class="s2">&quot;prod.ml_team.iris_model&quot;</span><span class="p">,</span> <span class="s2">&quot;task&quot;</span><span class="p">)</span>

<span class="c1"># Set model version tag</span>
<span class="n">client</span><span class="o">.</span><span class="n">set_model_version_tag</span><span class="p">(</span><span class="s2">&quot;prod.ml_team.iris_model&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;validation_status&quot;</span><span class="p">,</span> <span class="s2">&quot;approved&quot;</span><span class="p">)</span>

<span class="c1"># Delete model version tag</span>
<span class="n">client</span><span class="o">.</span><span class="n">delete_model_version_tag</span><span class="p">(</span><span class="s2">&quot;prod.ml_team.iris_model&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;validation_status&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Both registered model and model version tags must meet the <a class="reference internal" href="../../data-governance/unity-catalog/tags.html#constraints"><span class="std std-ref">platform-wide constraints</span></a>.</p>
<p>For more details on alias and tag client APIs, see the <a class="reference external" href="https://mlflow.org/docs/latest/python_api/mlflow.client.html">MLflow API documentation</a>.</p>
</div>
</div>
<div class="section" id="load-models-for-inference">
<h2>Load models for inference<a class="headerlink" href="#load-models-for-inference" title="Permalink to this headline"> </a></h2>
<div class="section" id="consume-model-versions-by-alias-in-inference-workloads">
<h3>Consume model versions by alias in inference workloads<a class="headerlink" href="#consume-model-versions-by-alias-in-inference-workloads" title="Permalink to this headline"> </a></h3>
<p><strong>Permissions required</strong>: <code class="docutils literal notranslate"><span class="pre">EXECUTE</span></code> privilege on the registered model, plus <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SCHEMA</span></code> and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> privileges on the schema and catalog containing the model.</p>
<p>You can write batch inference workloads that reference a model version by alias. For example, the snippet below loads and applies the “Champion” model version for batch inference. If the “Champion” version is updated to reference a new model version, the batch inference workload automatically picks it up on its next execution. This allows you to decouple model deployments from your batch inference workloads.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mlflow.pyfunc</span>
<span class="n">model_version_uri</span> <span class="o">=</span> <span class="s2">&quot;models:/prod.ml_team.iris_model@Champion&quot;</span>
<span class="n">champion_version</span> <span class="o">=</span> <span class="n">mlflow</span><span class="o">.</span><span class="n">pyfunc</span><span class="o">.</span><span class="n">load_model</span><span class="p">(</span><span class="n">model_version_uri</span><span class="p">)</span>
<span class="n">champion_version</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">test_x</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also write deployment workflows to get a model version by alias and update a model serving endpoint to serve that version, using the <a class="reference internal" href="../model-serving/create-manage-serving-endpoints.html#endpoint-config"><span class="std std-ref">model serving REST API</span></a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mlflow</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">mlflow</span><span class="o">.</span><span class="n">tracking</span><span class="o">.</span><span class="n">MlflowClient</span><span class="p">()</span>
<span class="n">champion_version</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_model_version_by_alias</span><span class="p">(</span><span class="s2">&quot;prod.ml_team.iris_model&quot;</span><span class="p">,</span> <span class="s2">&quot;Champion&quot;</span><span class="p">)</span>
<span class="c1"># Invoke the model serving REST API to update endpoint to serve the current &quot;Champion&quot; version</span>
<span class="n">model_name</span> <span class="o">=</span> <span class="n">champion_version</span><span class="o">.</span><span class="n">name</span>
<span class="n">model_version</span> <span class="o">=</span> <span class="n">champion_version</span><span class="o">.</span><span class="n">version</span>
<span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="consume-model-versions-by-version-number-in-inference-workloads">
<h3>Consume model versions by version number in inference workloads<a class="headerlink" href="#consume-model-versions-by-version-number-in-inference-workloads" title="Permalink to this headline"> </a></h3>
<p>You can also load model versions by version number:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mlflow.pyfunc</span>
<span class="c1"># Load version 1 of the model &quot;prod.ml_team.iris_model&quot;</span>
<span class="n">model_version_uri</span> <span class="o">=</span> <span class="s2">&quot;models:/prod.ml_team.iris_model/1&quot;</span>
<span class="n">first_version</span> <span class="o">=</span> <span class="n">mlflow</span><span class="o">.</span><span class="n">pyfunc</span><span class="o">.</span><span class="n">load_model</span><span class="p">(</span><span class="n">model_version_uri</span><span class="p">)</span>
<span class="n">first_version</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">test_x</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="share-models-across-workspaces">
<h2>Share models across workspaces<a class="headerlink" href="#share-models-across-workspaces" title="Permalink to this headline"> </a></h2>
<p>As long as you have the appropriate privileges, you can access models in Unity Catalog from any workspace. For example, you can access models from the <code class="docutils literal notranslate"><span class="pre">prod</span></code> catalog in a dev workspace, to facilitate comparing newly-developed models to the production baseline.</p>
<p>To collaborate with other users (share write privileges) on a registered model you created, you must grant ownership of the model to a group containing yourself and the users you’d like to collaborate with. Collaborators must also have the <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SCHEMA</span></code> privileges on the catalog and schema containing the model. See <a class="reference internal" href="../../data-governance/unity-catalog/manage-privileges/privileges.html"><span class="doc">Unity Catalog privileges and securable objects</span></a> for details.</p>
</div>
<div class="section" id="annotate-a-model-or-model-version">
<h2>Annotate a model or model version<a class="headerlink" href="#annotate-a-model-or-model-version" title="Permalink to this headline"> </a></h2>
<p><strong>Permissions required</strong>: Owner of the registered model, plus <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SCHEMA</span></code> and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> privileges on the schema and catalog containing the model.</p>
<p>You can provide information about a model or model version by annotating it. For example, you may want to include an overview of the problem or information about the methodology and algorithm used.</p>
<div class="section" id="annotate-a-model-or-model-version-using-the-ui">
<h3>Annotate a model or model version using the UI<a class="headerlink" href="#annotate-a-model-or-model-version-using-the-ui" title="Permalink to this headline"> </a></h3>
<p>See <a class="reference internal" href="../../catalog-explorer/markdown-data-comments.html"><span class="doc">Document data in Catalog Explorer using markdown comments</span></a>.</p>
</div>
<div class="section" id="annotate-a-model-or-model-version-using-the-api">
<h3>Annotate a model or model version using the API<a class="headerlink" href="#annotate-a-model-or-model-version-using-the-api" title="Permalink to this headline"> </a></h3>
<p>To update a registered model description, use the MLflow Client API <code class="docutils literal notranslate"><span class="pre">update_registered_model()</span></code> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">client</span> <span class="o">=</span> <span class="n">MlflowClient</span><span class="p">()</span>
<span class="n">client</span><span class="o">.</span><span class="n">update_registered_model</span><span class="p">(</span>
  <span class="n">name</span><span class="o">=</span><span class="s2">&quot;&lt;model-name&gt;&quot;</span><span class="p">,</span>
  <span class="n">description</span><span class="o">=</span><span class="s2">&quot;&lt;description&gt;&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>To update a model version description, use the MLflow Client API <code class="docutils literal notranslate"><span class="pre">update_model_version()</span></code> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">client</span> <span class="o">=</span> <span class="n">MlflowClient</span><span class="p">()</span>
<span class="n">client</span><span class="o">.</span><span class="n">update_model_version</span><span class="p">(</span>
  <span class="n">name</span><span class="o">=</span><span class="s2">&quot;&lt;model-name&gt;&quot;</span><span class="p">,</span>
  <span class="n">version</span><span class="o">=&lt;</span><span class="n">model</span><span class="o">-</span><span class="n">version</span><span class="o">&gt;</span><span class="p">,</span>
  <span class="n">description</span><span class="o">=</span><span class="s2">&quot;&lt;description&gt;&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="rename-a-model-api-only">
<h2>Rename a model (API only)<a class="headerlink" href="#rename-a-model-api-only" title="Permalink to this headline"> </a></h2>
<p><strong>Permissions required</strong>: Owner of the registered model, <code class="docutils literal notranslate"><span class="pre">CREATE_MODEL</span></code> privilege on the schema containing the registered model, and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SCHEMA</span></code> and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> privileges on the schema and catalog containing the model.</p>
<p>To rename a registered model, use the MLflow Client API <code class="docutils literal notranslate"><span class="pre">rename_registered_model()</span></code> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">client</span><span class="o">=</span><span class="n">MlflowClient</span><span class="p">()</span>
<span class="n">client</span><span class="o">.</span><span class="n">rename_registered_model</span><span class="p">(</span><span class="s2">&quot;&lt;model-name&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;new-model-name&gt;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="delete-a-model-or-model-version">
<h2>Delete a model or model version<a class="headerlink" href="#delete-a-model-or-model-version" title="Permalink to this headline"> </a></h2>
<p><strong>Permissions required</strong>: Owner of the registered model, plus <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SCHEMA</span></code> and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> privileges on the schema and catalog containing the model.</p>
<p>You can delete a registered model or a model version within a registered model using the <a class="reference internal" href="../../catalog-explorer/explore-models.html"><span class="doc">Catalog Explorer UI</span></a> or the API.</p>
<div class="section" id="delete-a-model-version-or-model-using-the-api">
<h3>Delete a model version or model using the API<a class="headerlink" href="#delete-a-model-version-or-model-using-the-api" title="Permalink to this headline"> </a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>You cannot undo this action. When you delete a model, all model artifacts stored by Unity Catalog and all the metadata associated with the registered model are deleted.</p>
</div>
<div class="section" id="delete-a-model-version">
<h4>Delete a model version<a class="headerlink" href="#delete-a-model-version" title="Permalink to this headline"> </a></h4>
<p>To delete a model version, use the MLflow Client API <code class="docutils literal notranslate"><span class="pre">delete_model_version()</span></code> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Delete versions 1,2, and 3 of the model</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">MlflowClient</span><span class="p">()</span>
<span class="n">versions</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="k">for</span> <span class="n">version</span> <span class="ow">in</span> <span class="n">versions</span><span class="p">:</span>
  <span class="n">client</span><span class="o">.</span><span class="n">delete_model_version</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;&lt;model-name&gt;&quot;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="delete-a-model">
<h4>Delete a model<a class="headerlink" href="#delete-a-model" title="Permalink to this headline"> </a></h4>
<p>To delete a model, use the MLflow Client API <code class="docutils literal notranslate"><span class="pre">delete_registered_model()</span></code> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">client</span> <span class="o">=</span> <span class="n">MlflowClient</span><span class="p">()</span>
<span class="n">client</span><span class="o">.</span><span class="n">delete_registered_model</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;&lt;model-name&gt;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="list-and-search-models">
<h2>List and search models<a class="headerlink" href="#list-and-search-models" title="Permalink to this headline"> </a></h2>
<p>You can list registered models in Unity Catalog with MLflow’s <a class="reference external" href="https://mlflow.org/docs/latest/python_api/mlflow.client.html#mlflow.client.MlflowClient.search_registered_models">search_registered_models()</a> Python API:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">client</span><span class="o">=</span><span class="n">MlflowClient</span><span class="p">()</span>
<span class="n">client</span><span class="o">.</span><span class="n">search_registered_models</span><span class="p">()</span>
</pre></div>
</div>
<p>You can also search for a specific model name and list its version details using the <code class="docutils literal notranslate"><span class="pre">search_model_versions()</span></code> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>

<span class="n">client</span><span class="o">=</span><span class="n">MlflowClient</span><span class="p">()</span>
<span class="p">[</span><span class="n">pprint</span><span class="p">(</span><span class="n">mv</span><span class="p">)</span> <span class="k">for</span> <span class="n">mv</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">search_model_versions</span><span class="p">(</span><span class="s2">&quot;name=&#39;&lt;model-name&gt;&#39;&quot;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline"> </a></h2>
<p>This example illustrates how to use Models in Unity Catalog to build a machine learning application.</p>
<p><a class="reference internal" href="../../mlflow/models-in-uc-example.html"><span class="doc">Models in Unity Catalog example</span></a></p>
</div>
<div class="section" id="migrate-workflows-and-models-to-unity-catalog">
<span id="migrate-workflows-and-models-to-uc"></span><span id="migrate-models-to-uc"></span><h2>Migrate workflows and models to Unity Catalog<a class="headerlink" href="#migrate-workflows-and-models-to-unity-catalog" title="Permalink to this headline"> </a></h2>
<p>Databricks recommends using Models in Unity Catalog for improved governance, easy sharing across workspaces and environments, and more flexible MLOps workflows. The table compares the capabilities of the Workspace Model Registry and Unity Catalog.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 34%" />
<col style="width: 35%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Capability</p></th>
<th class="head"><p>Workspace Model Registry (legacy)</p></th>
<th class="head"><p>Models in Unity Catalog (recommended)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Reference model versions by named aliases</p></td>
<td><p>Model Registry Stages: Move model versions into one of
four fixed stages to reference them by that stage.
Cannot rename or add stages.</p></td>
<td><p>Model Registry Aliases: Create up to 10 custom and
reassignable named references to model versions for
each registered model.</p></td>
</tr>
<tr class="row-odd"><td><p>Create access-controlled environments for models</p></td>
<td><p>Model Registry Stages: Use stages within one registered
model to denote the environment of its model versions,
with access controls for only two of the four fixed
stages (<code class="docutils literal notranslate"><span class="pre">Staging</span></code> and <code class="docutils literal notranslate"><span class="pre">Production</span></code>).</p></td>
<td><p>Registered Models: Create a registered model for each
environment in your MLOps workflow, utilizing
three-level namespaces and permissions of Unity Catalog to
express governance.</p></td>
</tr>
<tr class="row-even"><td><p>Promote models across environments (deploy model)</p></td>
<td><p>Use the <code class="docutils literal notranslate"><span class="pre">transition_model_version_stage()</span></code> MLflow
Client API to move a model version to a different
stage, potentially breaking workflows that reference
the previous stage.</p></td>
<td><p>Use the <code class="docutils literal notranslate"><span class="pre">copy_model_version()</span></code> MLflow Client API to
copy a model version from one registered model to
another.</p></td>
</tr>
<tr class="row-odd"><td><p>Access and share models across workspaces</p></td>
<td><p>Manually export and import models across workspaces,
or configure connections to remote model registries
using personal access tokens and workspace secret
scopes.</p></td>
<td><p>Out of the box access to models across workspaces in the
same account. No configuration required.</p></td>
</tr>
<tr class="row-even"><td><p>Configure permissions</p></td>
<td><p>Set permissions at the workspace-level.</p></td>
<td><p>Set permissions at the account-level, which applies
consistent governance across workspaces.</p></td>
</tr>
<tr class="row-odd"><td><p>Access models in the Databricks markplace</p></td>
<td><p>Unavailable.</p></td>
<td><p>Load models from the Databricks marketplace into your
Unity Catalog metastore and access them across workspaces.</p></td>
</tr>
</tbody>
</table>
<p>The articles linked below describe how to migrate workflows (model training and batch inference jobs) and models from the Workspace Model Registry to Unity Catalog.</p>
<ul class="simple">
<li><p><a class="reference internal" href="upgrade-workflows.html"><span class="doc">Upgrade ML workflows to target models in Unity Catalog</span></a></p></li>
<li><p><a class="reference internal" href="upgrade-models.html"><span class="doc">Upgrade models to Unity Catalog</span></a></p></li>
</ul>
</div>
<div class="section" id="limitations-on-unity-catalog-support">
<span id="limitations-on-uc-support"></span><span id="limitations"></span><h2>Limitations on Unity Catalog support<a class="headerlink" href="#limitations-on-unity-catalog-support" title="Permalink to this headline"> </a></h2>
<ul class="simple">
<li><p>Stages are not supported for models in Unity Catalog. Databricks recommends using the three-level namespace in Unity Catalog to express the environment a model is in, and using aliases to promote models for deployment. See <a class="reference internal" href="upgrade-workflows.html#frequently-asked-questions-faq"><span class="std std-ref">the upgrade guide</span></a> for details.</p></li>
<li><p>Webhooks are not supported for models in Unity Catalog. See suggested alternatives in <a class="reference internal" href="upgrade-workflows.html#frequently-asked-questions-faq"><span class="std std-ref">the upgrade guide</span></a>.</p></li>
<li><p>Some search API fields and operators are not supported for models in Unity Catalog. This can be mitigated by calling the search APIs using supported filters and scanning the results. Following are some examples:</p>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">order_by</span></code> parameter is not supported in the <a class="reference external" href="https://mlflow.org/docs/latest/python_api/mlflow.client.html#mlflow.client.MlflowClient.search_model_versions">search_model_versions</a> or <a class="reference external" href="https://mlflow.org/docs/latest/python_api/mlflow.client.html#mlflow.client.MlflowClient.search_registered_models">search_registered_models</a> client APIs.</p></li>
<li><p>Tag-based filters (<code class="docutils literal notranslate"><span class="pre">tags.mykey</span> <span class="pre">=</span> <span class="pre">'myvalue'</span></code>) are not supported for <code class="docutils literal notranslate"><span class="pre">search_model_versions</span></code> or <code class="docutils literal notranslate"><span class="pre">search_registered_models</span></code>.</p></li>
<li><p>Operators other than exact equality (for example, <code class="docutils literal notranslate"><span class="pre">LIKE</span></code>, <code class="docutils literal notranslate"><span class="pre">ILIKE</span></code>, <code class="docutils literal notranslate"><span class="pre">!=</span></code>) are not supported for <code class="docutils literal notranslate"><span class="pre">search_model_versions</span></code> or <code class="docutils literal notranslate"><span class="pre">search_registered_models</span></code>.</p></li>
<li><p>Searching registered models by name (for example, <code class="docutils literal notranslate"><span class="pre">MlflowClient().search_registered_models(filter_string=&quot;name='main.default.mymodel'&quot;)</span></code> is not supported. To fetch a particular registered model by name, use <a class="reference external" href="https://mlflow.org/docs/latest/python_api/mlflow.client.html#mlflow.client.MlflowClient.get_registered_model">get_registered_model</a>.</p></li>
</ul>
</li>
<li><p>Email notifications and comment discussion threads on registered models and model versions are not supported in Unity Catalog.</p></li>
<li><p>The activity log is not supported for models in Unity Catalog. However, you can track activity on models in Unity Catalog using <a class="reference internal" href="../../administration-guide/account-settings/audit-logs.html#uc"><span class="std std-ref">audit logs</span></a>.</p></li>
</ul>
<div class="toctree-wrapper compound">
</div>
</div>
</div>


    
          </div>
        </div>
        <div  class="suapp-rating">
  <div id="suPageRateApp">
     <su-app></su-app>
   </div> 
 </div>
<hr> 
<footer>
  <div role="contentinfo">
      <p class="copyright">
          &copy; Databricks 2023. All rights reserved. Apache, Apache Spark, Spark, and the Spark logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a>.
      </p>
      <p> 
        
          <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
        
     | <a href="https://databricks.com/privacy-policy">Privacy Policy</a> | <a href="https://databricks.com/terms-of-use">Terms of Use</a></p>

  </div> 

</footer>
      </div>
    </div>
  </section>
</main>

  </page>
  
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT: '../../',
      VERSION: '1.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE: 'false'
    };
  </script>
  <script type="text/javascript" src="../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../_static/underscore.js"></script>
  <script type="text/javascript" src="../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../_static/language_data.js"></script>
  

  <script type="text/javascript" src="../../_static/js/clipboard.min.js"></script>
  <script type="text/javascript" src="../../_static/js/jquery.waypoints.min.js"></script>

  <!-- Select2 (https://select2.org/) -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <!-- End Select2 -->

  
  
  <script type="text/javascript" src="../../_static/js/localized.js"></script>
  <script type="text/javascript" src="../../_static/js/custom.js"></script>
  

  
  
  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.StickyNav.enable();
    });

  </script>
  
 



  <script>
  window.__searchunifyLoaderConfig = JSON.parse('{"clients": {"en": "02c2e804-27e9-11ee-aefb-0242ac120011", "ja": "6a42c3f2-2820-11ee-aefb-0242ac120011", "pt": "6a86badd-2821-11ee-aefb-0242ac120011"}}')
</script>
<script type="text/javascript" src="../../_static/js/search-loader.js"></script>
</body>
<script type='text/javascript'>
  window.onload = function () {
    var description = document.querySelector('meta[name="description"]').getAttribute("content");
    let titleText = document.querySelector('h1').textContent;
    document.querySelector('meta[property="og:title"]').setAttribute("content", titleText);
    document.querySelector('meta[property="og:description"]').setAttribute("content", description);
    document.querySelector('meta[property="twitter:description"]').setAttribute("content", description);
  };
</script>

</html>