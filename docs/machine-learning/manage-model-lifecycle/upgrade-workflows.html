

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en-US" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en-US"> <!--<![endif]-->

<head>
  <!-- cookie consent -->
  
    <!-- Combined Onetrust and Rudderstack Implementation Scripts -->
    <!-- Onetrust Initialization -->
    <script type="text/javascript" src="https://cdn.cookielaw.org/consent/92466579-1717-44d3-809d-a05fb02843ed-test/OtAutoBlock.js"></script>
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="92466579-1717-44d3-809d-a05fb02843ed-test"></script>
    <link rel="stylesheet" id="db-onetrust-style" href="https://www.databricks.com/wp-content/uploads/db_onetrust.css" media="all" />
    <!-- Setting Rudderstack Write Key -->
    <script>window.rudderstackKey = "2SOR9fvSr5Fi6tN2ihPbVHnX1SZ" </script>
    <!-- Rudderstack Initialization + Onetrust Integration + Rudderstack Custom Events -->
    <script type="text/javascript" src="https://www.databricks.com/sites/default/files/rudderstack/v1/db-rudderstack-events.js"></script>

  <!-- cookie consent -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta content="Migrate and update ML workflows to use models in Unity Catalog." name="description" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta property="og:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:title" content="Upgrade ML workflows to target models in Unity Catalog">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://docs.databricks.com">
  <meta property="og:description" content="" id="og-description">
  <meta name="twitter:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta name="twitter:site" content="@databricks">
  <meta name="twitter:creator" content="@databricks">
  <meta property="twitter:description" content="">
  
  <title>Upgrade ML workflows to target models in Unity Catalog &#124; Databricks on AWS</title>
  
  
  <link rel="canonical" href="https://docs.databricks.com/en/machine-learning/manage-model-lifecycle/upgrade-workflows.html">
  <!-- Start hreflang tag -->
  <link rel="alternate" hreflang="en" href="https://docs.databricks.com/en/machine-learning/manage-model-lifecycle/upgrade-workflows.html" />
<link rel="alternate" hreflang="x-default" href="https://docs.databricks.com/en/machine-learning/manage-model-lifecycle/upgrade-workflows.html" />
  <!-- End hreflang tag -->
  
  
  <link rel="shortcut icon" href="../../_static/favicon.ico" />
  

  

  

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T85FQ33');</script>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWTKQQ');</script>
    
  <!-- End Google Tag Manager -->


  <!-- MaxMind / GEO IP -->
  <script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>
  <!-- End MaxMind / GEO IP -->

  
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600&display=swap" rel="stylesheet">
  <link rel="preload" href="../../_static/fonts/DMSans-Bold.ttf" as="font">
  <link rel="preload" href="../../_static/fonts/DMSans-Regular.ttf" as="font">
  <link rel="preload" href="../../_static/fonts/DMMono-Regular.ttf" as="font">
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/cloud-provider-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/translation-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/searchunify/main.css" type="text/css" />

  
  <link rel="index" title="Index" href="../../genindex.html" />
  <link rel="search" title="Search" href="../../search.html" />
  <link rel="top" title="Databricks on AWS" href="../../index.html" /> 
</head>

<body class="wy-body-for-nav" role="document">

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T85FQ33"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWTKQQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  
  <nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
    
<nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
  <div class="container-logo">
    <ul class="mobile-menu-toggle">
        <li class="menu-toggle">
            <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
            
            <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
              alt="Databricks" /></a>   
               
              </li>
    </ul>
    <ul class="su_nav-menu">
      <li class="menu-toggle">
        <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
        
          
        
        <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
            alt="Databricks" /></a></li>
        <!-- 
<li><a href="https://help.databricks.com/s/">Help Center</a></li>
<li class="active"><a href="https://docs.databricks.com/en/">Documentation</a></li>
<li><a href="https://kb.databricks.com/">Knowledge Base</a></li>
 -->
    </ul>
  </div>
  <div class="su_nav-right">
    <ul class="su_link-mobile">
  <!-- Mobile header code can go here -->
</ul>
<ul class="right-try-list">
   
</ul>
  </div>
</nav>
  </nav>

  <div class="su_sub-header">
    <div class="container">
      <div class="su_sub-header-inner">
        <!-- <div class="su_subnav-menu-right">
  <div id="auto" style="width: 100%;">
    <div ng-controller="SearchautoController">
      <div bind-html-compile="autocompleteHtml">
        <form class="su__search-box-1" disabled="disabled">
          <input class="su__search-input" type="search" name="Search box" id="su__search-b" placeholder="Search Documentation" disabled="disabled"/>
          <button class="su__search-button" type="submit" class="button button-success" disabled="disabled">
            <svg width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                fill="#333"></path>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>
</div> -->
        <div class="search-lng-gap"></div>
        <div style="margin-left: 16px; margin-right: 16px;">
          <!-- <select name="lng selector" id="lng-selector">
    <option value="../../../en/machine-learning/manage-model-lifecycle/upgrade-workflows.html" class="notranslate">English</option>
    <option value="../../../ja/machine-learning/manage-model-lifecycle/upgrade-workflows.html" class="notranslate">日本語</option>
    <option value="../../../pt/machine-learning/manage-model-lifecycle/upgrade-workflows.html" class="notranslate">Português (Brasil)</option>
</select> -->
        </div>
        <div class="cloud-selector-container">
          <!-- <select name="cloud provider selector" id="cloud-provider-selector">
    <option value="aws" selected class="notranslate">
        Amazon Web Services
    </option>
    <option value="azure"  class="notranslate">
        Microsoft Azure
    </option>
    <option value="gcp"  class="notranslate">
        Google Cloud Platform
    </option>
</select> -->
        </div>
      </div>
    </div>
  </div>
  <page class="js-page-container">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side su_nav-side">
<div class="wy-side-scroll">
  <div class="wy-side-nav-search">
    

    

    

    
  </div>

  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      <a href="../../index.html" class="main-navigation-home">Databricks on AWS</a>
    

    
      

      
        <p class="caption"><span class="caption-text">Load &amp; manage data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rag-temp/index.html">RAG Studio</a></li>
</ul>

      
    
  </div>

  <div role="contentinfo">
    
  <p class="build_info notranslate"data-last-edit="December 23, 2023">
    Updated Jan 11, 2024
  </p>
<script>
  window.addEventListener('DOMContentLoaded',function(){
    var h1=document.querySelector('h1');
    var bi=document.querySelector('[data-last-edit]');
    if(h1 && bi){
      var ver = document.createElement('p');
      ver.className = 'version_info';
      ver.textContent = bi.getAttribute('data-last-edit');
      h1.parentElement.insertBefore(ver, h1.nextElementSibling);
    }
  });
</script>

    <p>
      
        <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
      
    </p>
  </div>
</div>
</nav>
    
    
<main class="wy-grid-for-nav su_nav-grid">
  <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
    <div class="wy-nav-content su__nav_content">
      <div class="rst-content">
        





<div role="navigation" aria-label="breadcrumbs navigation" class="wy-breadcrumbs-wrapper">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Documentation</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
    
      <li>Upgrade ML workflows to target models in Unity Catalog</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>
</div>
        
        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
          <div itemprop="articleBody">
            
    
  <div class="section" id="upgrade-ml-workflows-to-target-models-in-unity-catalog">
<span id="upgrade-ml-workflows-to-target-models-in-uc"></span><h1>Upgrade ML workflows to target models in Unity Catalog<a class="headerlink" href="#upgrade-ml-workflows-to-target-models-in-unity-catalog" title="Permalink to this headline"> </a></h1>
<p>This article explains how to migrate and upgrade ML <a class="reference internal" href="../../workflows/index.html"><span class="doc">workflows</span></a> to target models in Unity Catalog.</p>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline"> </a></h2>
<p>Before getting started, make sure to meet the requirements in <a class="reference internal" href="index.html#requirements"><span class="std std-ref">Requirements</span></a>. In particular, make sure that the users or principals used to execute your model training, deployment, and inference workflows have the necessary privileges on a registered model in Unity Catalog:</p>
<ul class="simple">
<li><p>Training: Ownership of the registered model (required to create new model versions), plus <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SCHEMA</span></code> privileges on the enclosing catalog and schema.</p></li>
<li><p>Deployment: Ownership of the registered model (required to set aliases on the model), plus <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SCHEMA</span></code> privileges on the enclosing catalog and schema.</p></li>
<li><p>Inference: <code class="docutils literal notranslate"><span class="pre">EXECUTE</span></code> privilege on the registered model (required to read and perform inference with model versions), plus <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> and `USE SCHEMA privileges on the enclosing catalog and schema.</p></li>
</ul>
</div>
<div class="section" id="creating-parallel-training-deployment-and-workflows">
<h2>Creating parallel training, deployment, and workflows<a class="headerlink" href="#creating-parallel-training-deployment-and-workflows" title="Permalink to this headline"> </a></h2>
<p>To upgrade model training and inference workflows to Unity Catalog, Databricks recommends an incremental approach in which you create a parallel training, deployment, and inference pipeline that leverage models in Unity Catalog. When you’re comfortable with the results using Unity Catalog, you can switch downstream consumers to read the batch inference output, or increase the traffic routed to models in Unity Catalog in serving endpoints.</p>
</div>
<div class="section" id="model-training-workflow">
<span id="model-training"></span><h2>Model training workflow<a class="headerlink" href="#model-training-workflow" title="Permalink to this headline"> </a></h2>
<p><a class="reference internal" href="../../workflows/jobs/create-run-jobs.html#create-a-job-from-an-existing-job"><span class="std std-ref">Clone</span></a> your model training workflow. Then, ensure that:</p>
<ol class="arabic simple">
<li><p>The workflow cluster has access to Unity Catalog and meets the requirements described in <a class="reference internal" href="index.html#requirements"><span class="std std-ref">Requirements</span></a>.</p></li>
<li><p>The principal running the workflow has the <a class="reference internal" href="#requirements"><span class="std std-ref">necessary permissions</span></a> on a registered model in Unity Catalog.</p></li>
</ol>
<p>Next, modify model training code in the cloned workflow. You may need to clone the notebook run by the workflow, or create and target a new git branch in the cloned workflow. Follow <a class="reference internal" href="index.html#upgrade-training-workloads-for-uc"><span class="std std-ref">these steps</span></a> to install the necessary version of MLflow, configure the client to target Unity Catalog in your training code, and update the model training code to register models to Unity Catalog.</p>
</div>
<div class="section" id="model-deployment-workflow">
<span id="model-deployment"></span><h2>Model deployment workflow<a class="headerlink" href="#model-deployment-workflow" title="Permalink to this headline"> </a></h2>
<p>Clone your model deployment workflow, following similar steps as in <a class="reference internal" href="#model-training"><span class="std std-ref">Model training workflow</span></a> to update its compute configuration to enable access to Unity Catalog.</p>
<p>Ensure the principal who owns the cloned workflow has the <a class="reference internal" href="#requirements"><span class="std std-ref">necessary permissions</span></a>. If you have model validation logic in your deployment workflow, update it to <a class="reference internal" href="index.html#load-models-for-inference"><span class="std std-ref">load model versions from UC</span></a>. Use <a class="reference internal" href="index.html#uc-model-aliases"><span class="std std-ref">aliases</span></a> to manage production model rollouts.</p>
</div>
<div class="section" id="model-inference-workflow">
<span id="model-inference"></span><h2>Model inference workflow<a class="headerlink" href="#model-inference-workflow" title="Permalink to this headline"> </a></h2>
<div class="section" id="batch-inference-workflow">
<h3>Batch inference workflow<a class="headerlink" href="#batch-inference-workflow" title="Permalink to this headline"> </a></h3>
<p>Follow similar steps as in <a class="reference internal" href="#model-training"><span class="std std-ref">Model training workflow</span></a> to clone the batch inference workflow and update its compute configuration to enable access to Unity Catalog. Ensure the principal running the cloned batch inference job has the <a class="reference internal" href="#requirements"><span class="std std-ref">necessary permissions</span></a> to load the model for inference.</p>
</div>
<div class="section" id="model-serving-workflow">
<span id="batch-inference-workflow"></span><h3>Model serving workflow<a class="headerlink" href="#model-serving-workflow" title="Permalink to this headline"> </a></h3>
<p>If you are using <a class="reference internal" href="../model-serving/index.html"><span class="doc">Databricks Model Serving</span></a>, you do not need to clone your existing endpoint. Instead, you can leverage the <a class="reference internal" href="../model-serving/serve-multiple-models-to-serving-endpoint.html"><span class="doc">traffic split</span></a> feature to route a small fraction of traffic to models in Unity Catalog.</p>
<p>First, ensure the principal who owns the model serving endpoint has the <a class="reference internal" href="#requirements"><span class="std std-ref">necessary permissions</span></a> to load the model for inference. Then, update your <a class="reference internal" href="#model-deployment"><span class="std std-ref">cloned model deployment workflow</span></a> to assign a small percentage of traffic to model versions in Unity Catalog.</p>
</div>
</div>
<div class="section" id="frequently-asked-questions-faq">
<h2>Frequently asked questions (FAQ)<a class="headerlink" href="#frequently-asked-questions-faq" title="Permalink to this headline"> </a></h2>
<div class="section" id="im-used-to-model-version-stage-transitions-how-do-i-promote-a-model-across-environments">
<h3>I’m used to model version stage transitions. How do I promote a model across environments?<a class="headerlink" href="#im-used-to-model-version-stage-transitions-how-do-i-promote-a-model-across-environments" title="Permalink to this headline"> </a></h3>
<p>Databricks recommends deploying ML pipelines as code. This eliminates the need for promoting models across environments, as all production models can be produced through automated training workflows in a production environment.</p>
<p>However, in some cases, it may be too expensive to retrain models across environments. In such scenarios, you can copy model versions across registered models in Unity Catalog to promote them across environments.</p>
<p>You need the following privileges to execute the example code below:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> on the <code class="docutils literal notranslate"><span class="pre">staging</span></code> and <code class="docutils literal notranslate"><span class="pre">prod</span></code> catalogs.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SCHEMA</span></code> on the <code class="docutils literal notranslate"><span class="pre">staging.ml_team</span></code> and <code class="docutils literal notranslate"><span class="pre">prod.ml_team</span></code> schemas.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXECUTE</span></code> on <code class="docutils literal notranslate"><span class="pre">staging.ml_team.fraud_detection</span></code>.</p></li>
</ul>
<p>In addition, you must be the owner of the registered model <code class="docutils literal notranslate"><span class="pre">prod.ml_team.fraud_detection</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mlflow</span>
<span class="kn">from</span> <span class="nn">mlflow.exceptions</span> <span class="kn">import</span> <span class="n">MlflowException</span>
<span class="n">mlflow</span><span class="o">.</span><span class="n">set_registry_uri</span><span class="p">(</span><span class="s2">&quot;databricks-uc&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">copy_model_version</span><span class="p">(</span><span class="n">source_model_name</span><span class="p">,</span> <span class="n">source_model_version</span><span class="p">,</span> <span class="n">dest_model_name</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Copies a model version in Unity Catalog to a destination registered model.</span>
<span class="sd">    Note that aliases on the source model version are not copied.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">client</span> <span class="o">=</span> <span class="n">mlflow</span><span class="o">.</span><span class="n">tracking</span><span class="o">.</span><span class="n">MlflowClient</span><span class="p">()</span>
    <span class="n">source_mv</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_model_version</span><span class="p">(</span><span class="n">source_model_name</span><span class="p">,</span> <span class="n">source_model_version</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">client</span><span class="o">.</span><span class="n">create_registered_model</span><span class="p">(</span><span class="n">dest_model_name</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">MlflowException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
      <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">error_code</span> <span class="o">!=</span> <span class="s2">&quot;RESOURCE_ALREADY_EXISTS&quot;</span><span class="p">:</span>
        <span class="k">raise</span>
    <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="n">create_model_version</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;models:/</span><span class="si">{</span><span class="n">source_model_name</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">source_model_version</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">dest_model_name</span><span class="p">,</span> <span class="n">run_id</span><span class="o">=</span><span class="n">source_mv</span><span class="o">.</span><span class="n">run_id</span><span class="p">)</span>

<span class="c1"># Promote a model version from the staging environment to the production environment</span>
<span class="n">copied_model_version</span> <span class="o">=</span> <span class="n">copy_model_version</span><span class="p">(</span><span class="n">source_model_name</span><span class="o">=</span><span class="s2">&quot;staging.ml_team.fraud_detection&quot;</span><span class="p">,</span> <span class="n">source_model_version</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">dest_model_name</span><span class="o">=</span><span class="s2">&quot;prod.ml_team.fraud_detection&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>After the model version is in the production environment, you can perform any necessary pre-deployment validation. Then, you can mark the model version for deployment <a class="reference internal" href="index.html#uc-model-aliases"><span class="std std-ref">using aliases</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">client</span> <span class="o">=</span> <span class="n">mlflow</span><span class="o">.</span><span class="n">tracking</span><span class="o">.</span><span class="n">MlflowClient</span><span class="p">()</span>
<span class="n">client</span><span class="o">.</span><span class="n">set_registered_model_alias</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;prod.ml_team.fraud_detection&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;Champion&quot;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="n">copied_model_version</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>
</pre></div>
</div>
<p>In the example above, only users who can read from the <code class="docutils literal notranslate"><span class="pre">staging.ml_team.fraud_detection</span></code> registered model and write to the <code class="docutils literal notranslate"><span class="pre">prod.ml_team.fraud_detection</span></code> registered model can promote staging models to the production environment. The same users can also use aliases to manage which model versions are deployed within the production environment. You don’t need to configure any other rules or policies to govern model promotion and deployment.</p>
<p>You can customize this flow to promote the model version across multiple environments that match your setup, such as <code class="docutils literal notranslate"><span class="pre">dev</span></code>, <code class="docutils literal notranslate"><span class="pre">qa</span></code>, and <code class="docutils literal notranslate"><span class="pre">prod</span></code>. Access control is enforced as configured in each environment.</p>
</div>
<div class="section" id="how-do-i-enforce-manual-approval-to-deploy-a-model-can-i-use-stage-transition-requests-or-trigger-webhooks-on-events">
<span id="manual-approval"></span><h3>How do I enforce manual approval to deploy a model? Can I use stage transition requests or trigger webhooks on events?<a class="headerlink" href="#how-do-i-enforce-manual-approval-to-deploy-a-model-can-i-use-stage-transition-requests-or-trigger-webhooks-on-events" title="Permalink to this headline"> </a></h3>
<p>Databricks recommends fully automating model deployment if possible, using appropriate checks and tests during the model deployment process. However, if you do need to perform manual approvals to deploy production models, you can use
<a class="reference internal" href="../../workflows/jobs/job-notifications.html#configure-system-notifications"><span class="std std-ref">job webhooks</span></a> to call out to external CI/CD systems to request manual approval for deploying a model, after your model training job completes successfully. After manual approval is provided, your CI/CD system can then deploy the model version to serve traffic, for example by setting the “Champion” alias on it.</p>
</div>
</div>
</div>


    
          </div>
        </div>
        <div  class="suapp-rating">
  <div id="suPageRateApp">
     <su-app></su-app>
   </div> 
 </div>
<hr> 
<footer>
  <div role="contentinfo">
      <p class="copyright">
          &copy; Databricks 2023. All rights reserved. Apache, Apache Spark, Spark, and the Spark logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a>.
      </p>
      <p> 
        
          <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
        
     | <a href="https://databricks.com/privacy-policy">Privacy Policy</a> | <a href="https://databricks.com/terms-of-use">Terms of Use</a></p>

  </div> 

</footer>
      </div>
    </div>
  </section>
</main>

  </page>
  
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT: '../../',
      VERSION: '1.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE: 'false'
    };
  </script>
  <script type="text/javascript" src="../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../_static/underscore.js"></script>
  <script type="text/javascript" src="../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../_static/language_data.js"></script>
  

  <script type="text/javascript" src="../../_static/js/clipboard.min.js"></script>
  <script type="text/javascript" src="../../_static/js/jquery.waypoints.min.js"></script>

  <!-- Select2 (https://select2.org/) -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <!-- End Select2 -->

  
  
  <script type="text/javascript" src="../../_static/js/localized.js"></script>
  <script type="text/javascript" src="../../_static/js/custom.js"></script>
  

  
  
  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.StickyNav.enable();
    });

  </script>
  
 



  <script>
  window.__searchunifyLoaderConfig = JSON.parse('{"clients": {"en": "02c2e804-27e9-11ee-aefb-0242ac120011", "ja": "6a42c3f2-2820-11ee-aefb-0242ac120011", "pt": "6a86badd-2821-11ee-aefb-0242ac120011"}}')
</script>
<script type="text/javascript" src="../../_static/js/search-loader.js"></script>
</body>
<script type='text/javascript'>
  window.onload = function () {
    var description = document.querySelector('meta[name="description"]').getAttribute("content");
    let titleText = document.querySelector('h1').textContent;
    document.querySelector('meta[property="og:title"]').setAttribute("content", titleText);
    document.querySelector('meta[property="og:description"]').setAttribute("content", description);
    document.querySelector('meta[property="twitter:description"]').setAttribute("content", description);
  };
</script>

</html>