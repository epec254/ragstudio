

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en-US" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en-US"> <!--<![endif]-->

<head>
  <!-- cookie consent -->
  
    <!-- Combined Onetrust and Rudderstack Implementation Scripts -->
    <!-- Onetrust Initialization -->
    <script type="text/javascript" src="https://cdn.cookielaw.org/consent/92466579-1717-44d3-809d-a05fb02843ed-test/OtAutoBlock.js"></script>
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="92466579-1717-44d3-809d-a05fb02843ed-test"></script>
    <link rel="stylesheet" id="db-onetrust-style" href="https://www.databricks.com/wp-content/uploads/db_onetrust.css" media="all" />
    <!-- Setting Rudderstack Write Key -->
    <script>window.rudderstackKey = "2SOR9fvSr5Fi6tN2ihPbVHnX1SZ" </script>
    <!-- Rudderstack Initialization + Onetrust Integration + Rudderstack Custom Events -->
    <script type="text/javascript" src="https://www.databricks.com/sites/default/files/rudderstack/v1/db-rudderstack-events.js"></script>

  <!-- cookie consent -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta content="Learn how to access AWS S3 buckets using DBFS or APIs in Databricks." name="description" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta property="og:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:title" content="Connect to Amazon S3">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://docs.databricks.com">
  <meta property="og:description" content="" id="og-description">
  <meta name="twitter:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta name="twitter:site" content="@databricks">
  <meta name="twitter:creator" content="@databricks">
  <meta property="twitter:description" content="">
  
  <title>Connect to Amazon S3 &#124; Databricks on AWS</title>
  
  
  <link rel="canonical" href="https://docs.databricks.com/en/connect/storage/amazon-s3.html">
  <!-- Start hreflang tag -->
  <link rel="alternate" hreflang="en" href="https://docs.databricks.com/en/connect/storage/amazon-s3.html" />
<link rel="alternate" hreflang="x-default" href="https://docs.databricks.com/en/connect/storage/amazon-s3.html" />
  <!-- End hreflang tag -->
  
  
  <link rel="shortcut icon" href="../../_static/favicon.ico" />
  

  

  

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T85FQ33');</script>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWTKQQ');</script>
    
  <!-- End Google Tag Manager -->


  <!-- MaxMind / GEO IP -->
  <script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>
  <!-- End MaxMind / GEO IP -->

  
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600&display=swap" rel="stylesheet">
  <link rel="preload" href="../../_static/fonts/DMSans-Bold.ttf" as="font">
  <link rel="preload" href="../../_static/fonts/DMSans-Regular.ttf" as="font">
  <link rel="preload" href="../../_static/fonts/DMMono-Regular.ttf" as="font">
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/cloud-provider-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/translation-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/searchunify/main.css" type="text/css" />

  
  <link rel="index" title="Index" href="../../genindex.html" />
  <link rel="search" title="Search" href="../../search.html" />
  <link rel="top" title="Databricks on AWS" href="../../index.html" /> 
</head>

<body class="wy-body-for-nav" role="document">

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T85FQ33"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWTKQQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  
  <nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
    
<nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
  <div class="container-logo">
    <ul class="mobile-menu-toggle">
        <li class="menu-toggle">
            <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
            
            <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
              alt="Databricks" /></a>   
               
              </li>
    </ul>
    <ul class="su_nav-menu">
      <li class="menu-toggle">
        <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
        
          
        
        <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
            alt="Databricks" /></a></li>
        <!-- 
<li><a href="https://help.databricks.com/s/">Help Center</a></li>
<li class="active"><a href="https://docs.databricks.com/en/">Documentation</a></li>
<li><a href="https://kb.databricks.com/">Knowledge Base</a></li>
 -->
    </ul>
  </div>
  <div class="su_nav-right">
    <ul class="su_link-mobile">
  <!-- Mobile header code can go here -->
</ul>
<ul class="right-try-list">
   
</ul>
  </div>
</nav>
  </nav>

  <div class="su_sub-header">
    <div class="container">
      <div class="su_sub-header-inner">
        <!-- <div class="su_subnav-menu-right">
  <div id="auto" style="width: 100%;">
    <div ng-controller="SearchautoController">
      <div bind-html-compile="autocompleteHtml">
        <form class="su__search-box-1" disabled="disabled">
          <input class="su__search-input" type="search" name="Search box" id="su__search-b" placeholder="Search Documentation" disabled="disabled"/>
          <button class="su__search-button" type="submit" class="button button-success" disabled="disabled">
            <svg width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                fill="#333"></path>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>
</div> -->
        <div class="search-lng-gap"></div>
        <div style="margin-left: 16px; margin-right: 16px;">
          <!-- <select name="lng selector" id="lng-selector">
    <option value="../../../en/connect/storage/amazon-s3.html" class="notranslate">English</option>
    <option value="../../../ja/connect/storage/amazon-s3.html" class="notranslate">日本語</option>
    <option value="../../../pt/connect/storage/amazon-s3.html" class="notranslate">Português (Brasil)</option>
</select> -->
        </div>
        <div class="cloud-selector-container">
          <!-- <select name="cloud provider selector" id="cloud-provider-selector">
    <option value="aws" selected class="notranslate">
        Amazon Web Services
    </option>
    <option value="azure"  class="notranslate">
        Microsoft Azure
    </option>
    <option value="gcp"  class="notranslate">
        Google Cloud Platform
    </option>
</select> -->
        </div>
      </div>
    </div>
  </div>
  <page class="js-page-container">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side su_nav-side">
<div class="wy-side-scroll">
  <div class="wy-side-nav-search">
    

    

    

    
  </div>

  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      <a href="../../index.html" class="main-navigation-home">Databricks on AWS</a>
    

    
      

      
        <p class="caption"><span class="caption-text">Load &amp; manage data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rag-temp/index.html">RAG Studio</a></li>
</ul>

      
    
  </div>

  <div role="contentinfo">
    
  <p class="build_info notranslate"data-last-edit="December 23, 2023">
    Updated Jan 11, 2024
  </p>
<script>
  window.addEventListener('DOMContentLoaded',function(){
    var h1=document.querySelector('h1');
    var bi=document.querySelector('[data-last-edit]');
    if(h1 && bi){
      var ver = document.createElement('p');
      ver.className = 'version_info';
      ver.textContent = bi.getAttribute('data-last-edit');
      h1.parentElement.insertBefore(ver, h1.nextElementSibling);
    }
  });
</script>

    <p>
      
        <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
      
    </p>
  </div>
</div>
</nav>
    
    
<main class="wy-grid-for-nav su_nav-grid">
  <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
    <div class="wy-nav-content su__nav_content">
      <div class="rst-content">
        





<div role="navigation" aria-label="breadcrumbs navigation" class="wy-breadcrumbs-wrapper">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Documentation</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
    
      <li>Connect to Amazon S3</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>
</div>
        
        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
          <div itemprop="articleBody">
            
    
  <p></p>
<div class="section" id="connect-to-amazon-s3">
<h1>Connect to Amazon S3<a class="headerlink" href="#connect-to-amazon-s3" title="Permalink to this headline"> </a></h1>
<p>This article explains how to connect to AWS S3 from Databricks.</p>
<p>Databricks recommends using Unity Catalog to configure access to S3 and volumes for direct interaction with files. See <a class="reference internal" href="../unity-catalog/index.html"><span class="doc">Connect to cloud object storage using Unity Catalog</span></a>.</p>
<div class="section" id="access-s3-buckets-using-instance-profiles">
<span id="instance-profiles"></span><h2>Access S3 buckets using instance profiles<a class="headerlink" href="#access-s3-buckets-using-instance-profiles" title="Permalink to this headline"> </a></h2>
<p>You can load IAM roles as instance profiles in Databricks and attach instance profiles to clusters to control data access to S3. Databricks recommends using instance profiles when Unity Catalog is unavailable for your environment or workload. For a tutorial on using instance profiles with Databricks, see <a class="reference internal" href="tutorial-s3-instance-profile.html"><span class="doc">Tutorial: Configure S3 access with an instance profile</span></a>.</p>
<p>The AWS user who creates the IAM role must:</p>
<ul class="simple">
<li><p>Be an AWS account user with permission to create or update IAM roles, IAM policies, S3 buckets, and cross-account trust relationships.</p></li>
</ul>
<p>The Databricks user who adds the IAM role as an instance profile in Databricks must:</p>
<ul class="simple">
<li><p>Be a workspace admin</p></li>
</ul>
<p>Once you add the instance profile to your workspace, you can grant users, groups, or service principals have permissions to launch clusters with the instance profile. See <a class="reference internal" href="../../administration-guide/workspace-settings/manage-instance-profiles.html"><span class="doc">Manage instance profiles in Databricks</span></a>.</p>
<p>Use both cluster access control and notebook access control together to protect access to the instance profile. See <a class="reference internal" href="../../security/auth-authz/access-control/cluster-acl.html"><span class="doc">Cluster access control</span></a> and <a class="reference internal" href="../../notebooks/notebooks-collaborate.html"><span class="doc">Collaborate using Databricks notebooks</span></a>.</p>
</div>
<div class="section" id="access-s3-buckets-with-uris-and-aws-keys">
<h2>Access S3 buckets with URIs and AWS keys<a class="headerlink" href="#access-s3-buckets-with-uris-and-aws-keys" title="Permalink to this headline"> </a></h2>
<p>You can set Spark properties to configure a AWS keys to access S3.</p>
<p>Databricks recommends using secret scopes for storing all credentials. You can grant users, service principals, and groups in your workspace access to read the secret scope. This protects the AWS key while allowing users to access S3. To create a secret scope, see <a class="reference internal" href="../../security/secrets/secret-scopes.html"><span class="doc">Secret scopes</span></a>.</p>
<p>The credentials can be scoped to either a cluster or a notebook. Use both cluster access control and notebook access control together to protect access to S3. See <a class="reference internal" href="../../security/auth-authz/access-control/cluster-acl.html"><span class="doc">Cluster access control</span></a> and <a class="reference internal" href="../../notebooks/notebooks-collaborate.html"><span class="doc">Collaborate using Databricks notebooks</span></a>.</p>
<p>To set Spark properties, use the following snippet in a cluster’s Spark configuration to set the AWS keys stored in <a class="reference internal" href="../../security/secrets/secrets.html#spark-conf-env-var"><span class="std std-ref">secret scopes as environment variables</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AWS_SECRET_ACCESS_KEY</span><span class="o">=</span><span class="p">{{</span><span class="n">secrets</span><span class="o">/</span><span class="n">scope</span><span class="o">/</span><span class="n">aws_secret_access_key</span><span class="p">}}</span>
<span class="n">AWS_ACCESS_KEY_ID</span><span class="o">=</span><span class="p">{{</span><span class="n">secrets</span><span class="o">/</span><span class="n">scope</span><span class="o">/</span><span class="n">aws_access_key_id</span><span class="p">}}</span>
</pre></div>
</div>
<p>You can then read from S3 using the following commands:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">aws_bucket_name</span> <span class="o">=</span> <span class="s2">&quot;my-s3-bucket&quot;</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">spark</span><span class="o">.</span><span class="n">read</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;s3a://</span><span class="si">{</span><span class="n">aws_bucket_name</span><span class="si">}</span><span class="s2">/flowers/delta/&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">dbutils</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;s3a://</span><span class="si">{</span><span class="n">aws_bucket_name</span><span class="si">}</span><span class="s2">/&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p></p>
</div>
<div class="section" id="access-s3-with-open-source-hadoop-options">
<h2>Access S3 with open-source Hadoop options<a class="headerlink" href="#access-s3-with-open-source-hadoop-options" title="Permalink to this headline"> </a></h2>
<p>Databricks Runtime supports configuring the S3A filesystem using <a class="reference external" href="https://hadoop.apache.org/docs/r3.1.3/hadoop-aws/tools/hadoop-aws">open-source Hadoop options</a>. You can configure global properties and per-bucket properties.</p>
<div class="section" id="global-configuration">
<h3>Global configuration<a class="headerlink" href="#global-configuration" title="Permalink to this headline"> </a></h3>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># Global S3 configuration</span>
<span class="na">spark.hadoop.fs.s3a.aws.credentials.provider &lt;aws-credentials-provider-class&gt;</span>
<span class="na">spark.hadoop.fs.s3a.endpoint &lt;aws-endpoint&gt;</span>
<span class="na">spark.hadoop.fs.s3a.server-side-encryption-algorithm SSE-KMS</span>
</pre></div>
</div>
</div>
<div class="section" id="per-bucket-configuration">
<h3>Per-bucket configuration<a class="headerlink" href="#per-bucket-configuration" title="Permalink to this headline"> </a></h3>
<p>You configure per-bucket properties using the syntax <code class="docutils literal notranslate"><span class="pre">spark.hadoop.fs.s3a.bucket.&lt;bucket-name&gt;.&lt;configuration-key&gt;</span></code>. This lets you set up buckets with different credentials, endpoints, and so on.</p>
<p>For example, in addition to global S3 settings you can configure each bucket individually using the following keys:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set up authentication and endpoint for a specific bucket</span>
<span class="na">spark.hadoop.fs.s3a.bucket.&lt;bucket-name&gt;.aws.credentials.provider &lt;aws-credentials-provider-class&gt;</span>
<span class="na">spark.hadoop.fs.s3a.bucket.&lt;bucket-name&gt;.endpoint &lt;aws-endpoint&gt;</span>

<span class="c1"># Configure a different KMS encryption key for a specific bucket</span>
<span class="na">spark.hadoop.fs.s3a.bucket.&lt;bucket-name&gt;.server-side-encryption.key &lt;aws-kms-encryption-key&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="access-requester-pays-buckets">
<span id="access-s3-with-open-source-hadoop-options"></span><span id="requester-pays"></span><h2>Access Requester Pays buckets<a class="headerlink" href="#access-requester-pays-buckets" title="Permalink to this headline"> </a></h2>
<p>To enable access to <a class="reference external" href="https://docs.aws.amazon.com/AmazonS3/latest/dev/RequesterPaysBuckets.html">Requester Pays</a> buckets, add the following line to your cluster’s <a class="reference internal" href="../../compute/configure.html#spark-configuration"><span class="std std-ref">Spark configuration</span></a>:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="na">spark.hadoop.fs.s3a.requester-pays.enabled true</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Databricks does not support Delta Lake writes to Requester Pays buckets.</p>
</div>
</div>
<div class="section" id="deprecated-patterns-for-storing-and-accessing-data-from-databricks">
<h2>Deprecated patterns for storing and accessing data from Databricks<a class="headerlink" href="#deprecated-patterns-for-storing-and-accessing-data-from-databricks" title="Permalink to this headline"> </a></h2>
<p>The following are deprecated storage patterns:</p>
<ul class="simple">
<li><p>Databricks no longer recommends mounting external data locations to Databricks Filesystem. See <a class="reference internal" href="../../dbfs/mounts.html"><span class="doc">Mounting cloud object storage on Databricks</span></a>.</p></li>
</ul>
<ul class="simple">
<li><p>Databricks no longer recommends using credential passthrough with S3. See <a class="reference internal" href="../../archive/credential-passthrough/index.html"><span class="doc">Credential passthrough (legacy)</span></a>.</p></li>
</ul>
<div class="admonition important">
<p class="admonition-title">Important</p>
<ul class="simple">
<li><p>The S3A filesystem enables caching by default and releases resources on ‘FileSystem.close()’. To avoid other threads using a reference to the cached file system incorrectly, do not explicitly use the ‘FileSystem.close().</p></li>
<li><p>The S3A filesystem does not remove directory markers when closing an output stream. Legacy applications based on Hadoop versions that do not include <a class="reference external" href="https://issues.apache.org/jira/browse/HADOOP-13230">HADOOP-13230</a> can misinterpret them as empty directories even if there are files inside.</p></li>
</ul>
</div>
</div>
</div>


    
          </div>
        </div>
        <div  class="suapp-rating">
  <div id="suPageRateApp">
     <su-app></su-app>
   </div> 
 </div>
<hr> 
<footer>
  <div role="contentinfo">
      <p class="copyright">
          &copy; Databricks 2023. All rights reserved. Apache, Apache Spark, Spark, and the Spark logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a>.
      </p>
      <p> 
        
          <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
        
     | <a href="https://databricks.com/privacy-policy">Privacy Policy</a> | <a href="https://databricks.com/terms-of-use">Terms of Use</a></p>

  </div> 

</footer>
      </div>
    </div>
  </section>
</main>

  </page>
  
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT: '../../',
      VERSION: '1.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE: 'false'
    };
  </script>
  <script type="text/javascript" src="../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../_static/underscore.js"></script>
  <script type="text/javascript" src="../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../_static/language_data.js"></script>
  

  <script type="text/javascript" src="../../_static/js/clipboard.min.js"></script>
  <script type="text/javascript" src="../../_static/js/jquery.waypoints.min.js"></script>

  <!-- Select2 (https://select2.org/) -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <!-- End Select2 -->

  
  
  <script type="text/javascript" src="../../_static/js/localized.js"></script>
  <script type="text/javascript" src="../../_static/js/custom.js"></script>
  

  
  
  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.StickyNav.enable();
    });

  </script>
  
 



  <script>
  window.__searchunifyLoaderConfig = JSON.parse('{"clients": {"en": "02c2e804-27e9-11ee-aefb-0242ac120011", "ja": "6a42c3f2-2820-11ee-aefb-0242ac120011", "pt": "6a86badd-2821-11ee-aefb-0242ac120011"}}')
</script>
<script type="text/javascript" src="../../_static/js/search-loader.js"></script>
</body>
<script type='text/javascript'>
  window.onload = function () {
    var description = document.querySelector('meta[name="description"]').getAttribute("content");
    let titleText = document.querySelector('h1').textContent;
    document.querySelector('meta[property="og:title"]').setAttribute("content", titleText);
    document.querySelector('meta[property="og:description"]').setAttribute("content", description);
    document.querySelector('meta[property="twitter:description"]').setAttribute("content", description);
  };
</script>

</html>