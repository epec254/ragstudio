

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en-US" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en-US"> <!--<![endif]-->

<head>
  <!-- cookie consent -->
  
    <!-- Combined Onetrust and Rudderstack Implementation Scripts -->
    <!-- Onetrust Initialization -->
    <script type="text/javascript" src="https://cdn.cookielaw.org/consent/92466579-1717-44d3-809d-a05fb02843ed-test/OtAutoBlock.js"></script>
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="92466579-1717-44d3-809d-a05fb02843ed-test"></script>
    <link rel="stylesheet" id="db-onetrust-style" href="https://www.databricks.com/wp-content/uploads/db_onetrust.css" media="all" />
    <!-- Setting Rudderstack Write Key -->
    <script>window.rudderstackKey = "2SOR9fvSr5Fi6tN2ihPbVHnX1SZ" </script>
    <!-- Rudderstack Initialization + Onetrust Integration + Rudderstack Custom Events -->
    <script type="text/javascript" src="https://www.databricks.com/sites/default/files/rudderstack/v1/db-rudderstack-events.js"></script>

  <!-- cookie consent -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta content="Learn how to administer Databricks Partner Connect. Manage service principals, personal access tokens, and partner account users or disconnect from a partner." name="description" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta property="og:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:title" content="Manage connections in Partner Connect">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://docs.databricks.com">
  <meta property="og:description" content="" id="og-description">
  <meta name="twitter:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta name="twitter:site" content="@databricks">
  <meta name="twitter:creator" content="@databricks">
  <meta property="twitter:description" content="">
  
  <title>Manage connections in Partner Connect &#124; Databricks on AWS</title>
  
  
  <link rel="canonical" href="https://docs.databricks.com/en/partner-connect/admin.html">
  <!-- Start hreflang tag -->
  <link rel="alternate" hreflang="en" href="https://docs.databricks.com/en/partner-connect/admin.html" />
<link rel="alternate" hreflang="x-default" href="https://docs.databricks.com/en/partner-connect/admin.html" />
  <!-- End hreflang tag -->
  
  
  <link rel="shortcut icon" href="../_static/favicon.ico" />
  

  

  

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T85FQ33');</script>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWTKQQ');</script>
    
  <!-- End Google Tag Manager -->


  <!-- MaxMind / GEO IP -->
  <script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>
  <!-- End MaxMind / GEO IP -->

  
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600&display=swap" rel="stylesheet">
  <link rel="preload" href="../_static/fonts/DMSans-Bold.ttf" as="font">
  <link rel="preload" href="../_static/fonts/DMSans-Regular.ttf" as="font">
  <link rel="preload" href="../_static/fonts/DMMono-Regular.ttf" as="font">
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/cloud-provider-selector.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/translation-selector.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/searchunify/main.css" type="text/css" />

  
  <link rel="index" title="Index" href="../genindex.html" />
  <link rel="search" title="Search" href="../search.html" />
  <link rel="top" title="Databricks on AWS" href="../index.html" /> 
</head>

<body class="wy-body-for-nav" role="document">

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T85FQ33"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWTKQQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  
  <nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
    
<nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
  <div class="container-logo">
    <ul class="mobile-menu-toggle">
        <li class="menu-toggle">
            <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
            
            <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
              alt="Databricks" /></a>   
               
              </li>
    </ul>
    <ul class="su_nav-menu">
      <li class="menu-toggle">
        <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
        
          
        
        <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
            alt="Databricks" /></a></li>
        <!-- 
<li><a href="https://help.databricks.com/s/">Help Center</a></li>
<li class="active"><a href="https://docs.databricks.com/en/">Documentation</a></li>
<li><a href="https://kb.databricks.com/">Knowledge Base</a></li>
 -->
    </ul>
  </div>
  <div class="su_nav-right">
    <ul class="su_link-mobile">
  <!-- Mobile header code can go here -->
</ul>
<ul class="right-try-list">
   
</ul>
  </div>
</nav>
  </nav>

  <div class="su_sub-header">
    <div class="container">
      <div class="su_sub-header-inner">
        <!-- <div class="su_subnav-menu-right">
  <div id="auto" style="width: 100%;">
    <div ng-controller="SearchautoController">
      <div bind-html-compile="autocompleteHtml">
        <form class="su__search-box-1" disabled="disabled">
          <input class="su__search-input" type="search" name="Search box" id="su__search-b" placeholder="Search Documentation" disabled="disabled"/>
          <button class="su__search-button" type="submit" class="button button-success" disabled="disabled">
            <svg width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                fill="#333"></path>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>
</div> -->
        <div class="search-lng-gap"></div>
        <div style="margin-left: 16px; margin-right: 16px;">
          <!-- <select name="lng selector" id="lng-selector">
    <option value="../../en/partner-connect/admin.html" class="notranslate">English</option>
    <option value="../../ja/partner-connect/admin.html" class="notranslate">日本語</option>
    <option value="../../pt/partner-connect/admin.html" class="notranslate">Português (Brasil)</option>
</select> -->
        </div>
        <div class="cloud-selector-container">
          <!-- <select name="cloud provider selector" id="cloud-provider-selector">
    <option value="aws" selected class="notranslate">
        Amazon Web Services
    </option>
    <option value="azure"  class="notranslate">
        Microsoft Azure
    </option>
    <option value="gcp"  class="notranslate">
        Google Cloud Platform
    </option>
</select> -->
        </div>
      </div>
    </div>
  </div>
  <page class="js-page-container">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side su_nav-side">
<div class="wy-side-scroll">
  <div class="wy-side-nav-search">
    

    

    

    
  </div>

  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      <a href="../index.html" class="main-navigation-home">Databricks on AWS</a>
    

    
      

      
        <p class="caption"><span class="caption-text">Load &amp; manage data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../rag-temp/index.html">RAG Studio</a></li>
</ul>

      
    
  </div>

  <div role="contentinfo">
    
  <p class="build_info notranslate"data-last-edit="December 23, 2023">
    Updated Jan 11, 2024
  </p>
<script>
  window.addEventListener('DOMContentLoaded',function(){
    var h1=document.querySelector('h1');
    var bi=document.querySelector('[data-last-edit]');
    if(h1 && bi){
      var ver = document.createElement('p');
      ver.className = 'version_info';
      ver.textContent = bi.getAttribute('data-last-edit');
      h1.parentElement.insertBefore(ver, h1.nextElementSibling);
    }
  });
</script>

    <p>
      
        <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
      
    </p>
  </div>
</div>
</nav>
    
    
<main class="wy-grid-for-nav su_nav-grid">
  <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
    <div class="wy-nav-content su__nav_content">
      <div class="rst-content">
        





<div role="navigation" aria-label="breadcrumbs navigation" class="wy-breadcrumbs-wrapper">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Documentation</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
    
      <li>Manage connections in Partner Connect</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>
</div>
        
        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
          <div itemprop="articleBody">
            
    
  <div class="section" id="manage-connections-in-partner-connect">
<span id="manage-connections-in-pc"></span><h1>Manage connections in Partner Connect<a class="headerlink" href="#manage-connections-in-partner-connect" title="Permalink to this headline"> </a></h1>
<p>You can perform administrative tasks with Databricks workspace connections to partner solutions, such as:</p>
<ul class="simple">
<li><p>Managing users of partner accounts.</p></li>
<li><p>Managing the Databricks service principal and related Databricks personal access token that a connection uses.</p></li>
<li><p>Disconnecting a workspace from a partner.</p></li>
</ul>
<p>To administer Partner Connect, you must sign in to your workspace as a workspace admin. For more information, see <a class="reference internal" href="../administration-guide/users-groups/users.html"><span class="doc">Manage users</span></a>.</p>
<div class="section" id="manage-partner-account-users">
<span id="manage-users"></span><h2>Manage partner account users<a class="headerlink" href="#manage-partner-account-users" title="Permalink to this headline"> </a></h2>
<p>For partners that allow users to use Partner Connect to sign in to that partner’s account or website (such as Fivetran and Rivery), when someone in your organization connects from one of your Databricks workspaces to a partner for the first time, that person becomes the <em>partner account administrator</em> for that partner across all of your organization’s workspaces. To enable other users within your organization to sign in to that partner, your partner account administrator must first add those users to your organization’s partner account. Some partners allow the partner account administrator to delegate this permission as well. For details, see the documentation on the partner’s website.</p>
<p>If no one can add users to your organization’s partner account (for example, your partner account administrator is no longer available), contact the partner for assistance. For support links, see the list of <a class="reference internal" href="../integrations/index.html#partner-connect"><span class="std std-ref">Databricks Partner Connect partners</span></a>.</p>
</div>
<div class="section" id="connect-data-managed-by-unity-catalog-to-partner-solutions">
<span id="connect-data-managed-by-uc-to-partner-solutions"></span><span id="unity-catalog"></span><h2>Connect data managed by Unity Catalog to partner solutions<a class="headerlink" href="#connect-data-managed-by-unity-catalog-to-partner-solutions" title="Permalink to this headline"> </a></h2>
<p>If your workspace is Unity Catalog-enabled, you can connect select partner solutions to data managed by Unity Catalog. When you create the connection using Partner Connect, you can choose whether the partner uses the legacy Hive metastore (<code class="docutils literal notranslate"><span class="pre">hive_metastore</span></code>) or another catalog that you own. Metastore admins can select any catalog in the metastore that’s assigned to your workspace.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a partner solution doesn’t support Unity Catalog with Partner Connect, you can only use the workspace default catalog. If the default catalog isn’t <code class="docutils literal notranslate"><span class="pre">hive_metastore</span></code> and you don’t own the default catalog, you’ll receive an error.</p>
</div>
<p>For a list of partners that support Unity Catalog with Partner Connect, see the <a class="reference internal" href="../integrations/index.html#partner-connect"><span class="std std-ref">Databricks Partner Connect partners</span></a> list.</p>
<p>For information about troubleshooting connections, see <a class="reference internal" href="troubleshoot.html"><span class="doc">Troubleshoot Partner Connect</span></a>.</p>
</div>
<div class="section" id="manage-service-principals-and-personal-access-tokens">
<span id="service-principal-pat"></span><h2>Manage service principals and personal access tokens<a class="headerlink" href="#manage-service-principals-and-personal-access-tokens" title="Permalink to this headline"> </a></h2>
<p></p>
<p>For partners that require Databricks service principals, when someone in your Databricks workspace connects to a specific partner for the first time, Partner Connect creates a Databricks <a class="reference internal" href="../administration-guide/users-groups/service-principals.html"><span class="doc">service principal</span></a> in your workspace for use with that partner. Partner Connect generates service principal display names by using the format <code class="docutils literal notranslate"><span class="pre">&lt;PARTNER-NAME&gt;_USER</span></code>. For example, for the partner Fivetran, the service principal’s display name is <code class="docutils literal notranslate"><span class="pre">FIVETRAN_USER</span></code>.</p>
<p>Partner Connect also creates a Databricks <a class="reference internal" href="../dev-tools/auth/pat.html"><span class="doc">personal access token</span></a> and associates it with that Databricks service principal. Partner Connect provides this token’s value to the partner behind the scenes to complete the connection to that partner. You cannot view or get this token’s value. This token does not expire until you or someone else deletes it. See also <a class="reference internal" href="#disconnect"><span class="std std-ref">Disconnect from a partner</span></a>.</p>
<p>Partner Connect grants the following access permissions to Databricks service principals in your workspace:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Partners</p></th>
<th class="head"><p>Permissions</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Fivetran, Matillion, Power BI, Tableau, erwin Data Modeler</p></td>
<td><p>These solutions do not require service principals.</p></td>
</tr>
<tr class="row-odd"><td><p>Hevo Data, Hunters, Rivery, RudderStack, Snowplow</p></td>
<td><ul class="simple">
<li><p>The <strong>Can Use</strong> token permission to create a personal access token.</p></li>
<li><p>SQL warehouse creation permission.</p></li>
<li><p>Access to your workspace.</p></li>
<li><p>Access to Databricks SQL.</p></li>
<li><p>(Unity Catalog) The <strong>USE CATALOG</strong> privilege on the selected catalog.</p></li>
<li><p>(Unity Catalog) The <strong>CREATE SCHEMA</strong> privilege on the selected catalog.</p></li>
<li><p>(Legacy Hive metastore) The <strong>USAGE</strong> privilege on the selected catalog.</p></li>
<li><p>(Legacy Hive metastore) The <strong>CREATE</strong> privilege on the <code class="docutils literal notranslate"><span class="pre">hive_metastore</span></code> catalog so Partner Connect can create objects in the legacy Hive metastore on your behalf.</p></li>
<li><p>Ownership of the tables that it creates. The service principal cannot query any tables that it does not create.</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>Prophecy</p></td>
<td><ul class="simple">
<li><p>The <strong>Can Use</strong> token permission to create a personal access token.</p></li>
<li><p>Access your workspace.</p></li>
<li><p>Cluster creation permission. The service principal cannot access any clusters that it does not create.</p></li>
<li><p>Job creation permission. The service principal cannot access any jobs that it does not create.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>John Snow Labs, Labelbox</p></td>
<td><ul class="simple">
<li><p>The <strong>Can Use</strong> token permission to create a personal access token.</p></li>
<li><p>Access to your workspace.</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>Alation, Anomalo, AtScale, Census, dbt Cloud, Hex, Hightouch, Lightup, Monte Carlo, Preset, Privacera, Qlik Sense, Sigma, Stardog, ThoughtSpot</p></td>
<td><ul class="simple">
<li><p>The <strong>Can Use</strong> token permission to create a personal access token.</p></li>
<li><p>The <strong>Can Use</strong> privilege on the selected Databricks SQL warehouse.</p></li>
<li><p>The <strong>SELECT</strong> privilege on the selected schemas.</p></li>
<li><p>(Unity Catalog) The <strong>USE CATALOG</strong> privilege on the selected catalog.</p></li>
<li><p>(Unity Catalog) The <strong>USE SCHEMA</strong> privilege on the selected schema.</p></li>
<li><p>(Legacy Hive metastore) The <strong>USAGE</strong> privilege on the selected schema.</p></li>
<li><p>(Legacy Hive metastore) The <strong>READ METADATA</strong> privilege for the selected schemas.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Dataiku</p></td>
<td><ul class="simple">
<li><p>The <strong>Can Use</strong> token permission to create a personal access token.</p></li>
<li><p>SQL warehouse creation permission.</p></li>
<li><p>(Unity Catalog) The <strong>USE CATALOG</strong> privilege on the selected catalog.</p></li>
<li><p>(Unity Catalog) The <strong>USE SCHEMA</strong> privilege on the selected schemas.</p></li>
<li><p>(Unity Catalog) The <strong>CREATE SCHEMA</strong> privilege on the selected catalog.</p></li>
<li><p>(Legacy Hive metastore) The <strong>USAGE</strong> privilege on the <code class="docutils literal notranslate"><span class="pre">hive_metastore</span></code> catalog and on the selected schemas.</p></li>
<li><p>(Legacy Hive metastore) The <strong>CREATE</strong> privilege on the <code class="docutils literal notranslate"><span class="pre">hive_metastore</span></code> catalog so Partner Connect can create objects in the legacy Hive metastore on your behalf.</p></li>
<li><p>(Legacy Hive metastore) The <strong>SELECT</strong> privilege on the selected schemas.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p></p>
<p>You might need to generate a new Databricks personal access token if the existing token has been compromised, is lost or deleted, or your organization has a periodic token rotation policy. To generate a new token, use the Databricks REST API:</p>
<ol class="arabic simple">
<li><p>Get the Databricks service principal’s application ID by calling the <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/preview/scim/v2/ServicePrincipals</span></code> operation in the <a class="reference external" href="https://docs.databricks.com/api/workspace/serviceprincipals">Workspace Service Principals API</a> for your workspace. Make a note of the service principal’s <code class="docutils literal notranslate"><span class="pre">applicationId</span></code> in the response.</p></li>
<li><p>Use the service principal’s <code class="docutils literal notranslate"><span class="pre">applicationId</span></code> to call the <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/token-management/on-behalf-of/tokens</span></code> operation in the <a class="reference external" href="https://docs.databricks.com/api/workspace/tokenmanagement">Databricks Token Management REST API</a> for your workspace.</p></li>
<li><p>Make a note of the <code class="docutils literal notranslate"><span class="pre">token_value</span></code> in the response and store it in a safe location, as there is no other way to access it again if you ever need to retrieve it.</p></li>
</ol>
<p>For example, to get the list of available Databricks service principal display names and application IDs for a workspace, you can call <code class="docutils literal notranslate"><span class="pre">curl</span></code> as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl<span class="w"> </span>--netrc<span class="w"> </span>--request<span class="w"> </span>GET<span class="w"> </span><span class="se">\</span>
https://&lt;databricks-instance&gt;/api/2.0/preview/scim/v2/ServicePrincipals<span class="w"> </span><span class="se">\</span>
<span class="p">|</span><span class="w"> </span>jq<span class="w"> </span><span class="s1">&#39;[ .Resources[] | { displayName: .displayName, applicationId: .applicationId } ]&#39;</span>
</pre></div>
</div>
<p>Replace <code class="docutils literal notranslate"><span class="pre">&lt;databricks-instance&gt;</span></code> with the Databricks <a class="reference internal" href="../workspace/workspace-details.html#workspace-url"><span class="std std-ref">workspace instance name</span></a>, for example <code class="docutils literal notranslate"><span class="pre">dbc-a1b2345c-d6e7.cloud.databricks.com</span></code> for the workspace where the service principal exists.</p>
<p>The service principal’s application ID value is in the response’s <code class="docutils literal notranslate"><span class="pre">applicationId</span></code> field, for example <code class="docutils literal notranslate"><span class="pre">123456a7-8901-2b3c-45de-f678a901b2c</span></code>.</p>
<p>To create the new token value for the service principal, you can call <code class="docutils literal notranslate"><span class="pre">curl</span></code> as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl<span class="w"> </span>--netrc<span class="w"> </span>--request<span class="w"> </span>POST<span class="w"> </span><span class="se">\</span>
https://&lt;databricks-instance&gt;/api/2.0/token-management/on-behalf-of/tokens<span class="w"> </span><span class="se">\</span>
--data<span class="w"> </span>@create-token.json<span class="w"> </span><span class="se">\</span>
<span class="p">|</span><span class="w"> </span>jq<span class="w"> </span><span class="s1">&#39;[ . | { token_value: .token_value } ]&#39;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">create-token.json</span></code>:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;application_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;application-id&gt;&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;comment&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Partner Connect&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;lifetime_seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1209600</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Replace:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;databricks-instance&gt;</span></code> with the <a class="reference internal" href="../workspace/workspace-details.html#workspace-url"><span class="std std-ref">workspace instance name</span></a>, for example <code class="docutils literal notranslate"><span class="pre">dbc-a1b2345c-d6e7.cloud.databricks.com</span></code> for the workspace where the service principal exists.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;application-id&gt;</span></code> with the service principal’s application ID value.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1209600</span></code> with the number of seconds until this token expires. For example, <code class="docutils literal notranslate"><span class="pre">1209600</span></code> is the number of seconds in 14 days.</p></li>
</ul>
<p>The new token’s value is in the response’s <code class="docutils literal notranslate"><span class="pre">token_value</span></code> field, for example <code class="docutils literal notranslate"><span class="pre">dapi12345678901234567890123456789012</span></code>. Make a note of the new token’s value in the response and store it in a safe location, as there is no other way to access it again if you ever need to retrieve it.</p>
<p>The preceding examples use a <a class="reference external" href="https://everything.curl.dev/usingcurl/netrc">.netrc</a> file and <a class="reference external" href="https://stedolan.github.io/jq/">jq</a>. Note that in this case, the <code class="docutils literal notranslate"><span class="pre">.netrc</span></code> file uses <em>your</em> <a class="reference external" href="https://docs.databricks.com/api/workspace/tokenmanagement">personal access token</a> value–<em>not</em> the one for the service principal.</p>
<p>After you create the new token, you must update your partner account with the new token’s value. To do this, see the documentation on the partner’s website. For documentation links, see appropriate partner connection guide.</p>
<p>To delete an existing token:</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Deleting an existing Databricks personal access token is permanent and cannot be undone.</p>
</div>
<ol class="arabic simple">
<li><p>Get the list of existing tokens by calling the <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/token-management/tokens</span> <span class="pre">GET</span></code> operation in the <a class="reference external" href="https://docs.databricks.com/api/workspace/tokenmanagement">Databricks Token Management REST API</a> for your workspace.</p></li>
<li><p>In the response, make a note of the <code class="docutils literal notranslate"><span class="pre">token_id</span></code> value for the token that you want to delete.</p></li>
<li><p>Use this <code class="docutils literal notranslate"><span class="pre">token_id</span></code> value to delete the token by calling the <code class="docutils literal notranslate"><span class="pre">DELETE</span> <span class="pre">/token-management/tokens/{token_id}</span></code> operation in the Databricks Token Management REST API for your workspace.</p></li>
</ol>
</div>
<div class="section" id="disconnect-from-a-partner">
<span id="disconnect"></span><h2>Disconnect from a partner<a class="headerlink" href="#disconnect-from-a-partner" title="Permalink to this headline"> </a></h2>
<p>If the tile for a partner has a check mark icon, this means that someone in your Databricks workspace has already created a connection to that partner. To disconnect from that partner, you reset that partner’s tile in Partner Connect. Resetting a partner’s tile does the following:</p>
<ul class="simple">
<li><p>Clears the check mark icon from the partner’s tile.</p></li>
<li><p>Deletes the associated SQL warehouse or cluster if the partner requires one.</p></li>
<li><p>Deletes the associated Databricks service principal, if the partner requires one. Deleting a service principal also deletes that service principal’s related Databricks personal access token. This token’s value is what completes the connection between your workspace and the partner. For more information, see <a class="reference internal" href="#service-principal-pat"><span class="std std-ref">Manage service principals and personal access tokens</span></a>.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Deleting a SQL warehouse, a cluster, a Databricks service principal, or a Databricks service principal’s personal access token is permanent and cannot be undone.</p>
</div>
<p>Resetting a partner’s tile does not delete your organization’s related partner account or change related connection settings with the partner. However, resetting a partner’s tile does break the connection between the workspace and the related partner account. To reconnect, you must create a new connection from the workspace to the partner, and then you must manually edit the original connection settings in the related partner account to match the new connection settings.</p>
<p>To reset a partner’s tile, click the tile, click <strong>Delete Connection</strong>, and then follow the on-screen directions.</p>
<p>Alternatively, you can manually disconnect a Databricks workspace from a partner by deleting the related Databricks service principal in your workspace that is associated with that partner. You might want to do this if you want to disconnect your workspace from a partner but still keep other associated resources and still keep the check mark icon displayed on the tile. Deleting a service principal also deletes that service principal’s related personal access token. This token’s value is what completes the connection between your workspace and the partner. For more information, see <a class="reference internal" href="#service-principal-pat"><span class="std std-ref">Manage service principals and personal access tokens</span></a>.</p>
<p>To delete a Databricks service principal, you use the Databricks REST API as follows:</p>
<ol class="arabic simple">
<li><p>Get the Databricks service principal’s application ID by calling the <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/preview/scim/v2/ServicePrincipals</span></code> operation in the <a class="reference external" href="https://docs.databricks.com/api/workspace/serviceprincipals">Workspace Service Principals API</a> for your workspace. Make a note of the service principal’s <code class="docutils literal notranslate"><span class="pre">applicationId</span></code> in the response.</p></li>
<li><p>Use the service principal’s <code class="docutils literal notranslate"><span class="pre">applicationId</span></code> to call the <code class="docutils literal notranslate"><span class="pre">DELETE</span> <span class="pre">/preview/scim/v2/ServicePrincipals</span></code> operation in the <a class="reference external" href="https://docs.databricks.com/api/workspace/serviceprincipals">Workspace Service Principals API</a> for your workspace.</p></li>
</ol>
<p>For example, to get the list of available service principal display names and application IDs for a workspace, you can call <code class="docutils literal notranslate"><span class="pre">curl</span></code> as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl<span class="w"> </span>--netrc<span class="w"> </span>--request<span class="w"> </span>GET<span class="w"> </span><span class="se">\</span>
https://&lt;databricks-instance&gt;/api/2.0/preview/scim/v2/ServicePrincipals<span class="w"> </span><span class="se">\</span>
<span class="p">|</span><span class="w"> </span>jq<span class="w"> </span><span class="s1">&#39;[ .Resources[] | { displayName: .displayName, applicationId: .applicationId } ]&#39;</span>
</pre></div>
</div>
<p>Replace <code class="docutils literal notranslate"><span class="pre">&lt;databricks-instance&gt;</span></code> with the Databricks <a class="reference internal" href="../workspace/workspace-details.html#workspace-url"><span class="std std-ref">workspace instance name</span></a>, for example <code class="docutils literal notranslate"><span class="pre">dbc-a1b2345c-d6e7.cloud.databricks.com</span></code> for your workspace.</p>
<p>The service principal’s display name is in the output’s <code class="docutils literal notranslate"><span class="pre">displayName</span></code> field. Partner Connect generates service principal display names using the format <code class="docutils literal notranslate"><span class="pre">&lt;PARTNER-NAME&gt;_USER</span></code>. For example, for the partner Fivetran, the service principal’s display name is <code class="docutils literal notranslate"><span class="pre">FIVETRAN_USER</span></code>.</p>
<p>The service principal’s application ID value is in the output’s <code class="docutils literal notranslate"><span class="pre">applicationId</span></code> field, for example <code class="docutils literal notranslate"><span class="pre">123456a7-8901-2b3c-45de-f678a901b2c</span></code>.</p>
<p>To delete the service principal, you can call <code class="docutils literal notranslate"><span class="pre">curl</span></code> as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl<span class="w"> </span>--netrc<span class="w"> </span>--request<span class="w"> </span>DELETE<span class="w"> </span><span class="se">\</span>
https://&lt;databricks-instance&gt;/api/2.0/preview/scim/v2/ServicePrincipals/&lt;application-id&gt;
</pre></div>
</div>
<p>Replace:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;databricks-instance&gt;</span></code> with the <a class="reference internal" href="../workspace/workspace-details.html#workspace-url"><span class="std std-ref">workspace instance name</span></a>, for example <code class="docutils literal notranslate"><span class="pre">dbc-a1b2345c-d6e7.cloud.databricks.com</span></code> for your workspace.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;application-id&gt;</span></code> with the service principal’s application ID value.</p></li>
</ul>
<p>The preceding examples use a <a class="reference external" href="https://everything.curl.dev/usingcurl/netrc">.netrc</a> file and <a class="reference external" href="https://stedolan.github.io/jq/">jq</a>. Note that in this case, the <code class="docutils literal notranslate"><span class="pre">.netrc</span></code> file uses <em>your</em> <a class="reference external" href="https://docs.databricks.com/api/workspace/tokenmanagement">personal access token</a> value–<em>not</em> the one for the service principal.</p>
<p>After you disconnect your workspace from a partner, you might want to clean up any related resources that the partner creates in the workspace. This could include a SQL warehouse or cluster and any related data storage locations. For more information, see <a class="reference internal" href="../compute/sql-warehouse/create-sql-warehouse.html#manage-warehouse"><span class="std std-ref">Manage SQL warehouses</span></a> or <a class="reference internal" href="../compute/clusters-manage.html#delete-a-cluster"><span class="std std-ref">Delete a cluster</span></a>.</p>
<p>If you’re sure that there are no other workspaces across your organization that are connected to the partner, you might also want to delete your organization’s account with that partner. To do this, contact the partner for assistance. For support links, see the appropriate partner connection guide.</p>
</div>
</div>


    
          </div>
        </div>
        <div  class="suapp-rating">
  <div id="suPageRateApp">
     <su-app></su-app>
   </div> 
 </div>
<hr> 
<footer>
  <div role="contentinfo">
      <p class="copyright">
          &copy; Databricks 2023. All rights reserved. Apache, Apache Spark, Spark, and the Spark logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a>.
      </p>
      <p> 
        
          <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
        
     | <a href="https://databricks.com/privacy-policy">Privacy Policy</a> | <a href="https://databricks.com/terms-of-use">Terms of Use</a></p>

  </div> 

</footer>
      </div>
    </div>
  </section>
</main>

  </page>
  
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT: '../',
      VERSION: '1.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE: 'false'
    };
  </script>
  <script type="text/javascript" src="../_static/jquery.js"></script>
  <script type="text/javascript" src="../_static/underscore.js"></script>
  <script type="text/javascript" src="../_static/doctools.js"></script>
  <script type="text/javascript" src="../_static/language_data.js"></script>
  

  <script type="text/javascript" src="../_static/js/clipboard.min.js"></script>
  <script type="text/javascript" src="../_static/js/jquery.waypoints.min.js"></script>

  <!-- Select2 (https://select2.org/) -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <!-- End Select2 -->

  
  
  <script type="text/javascript" src="../_static/js/localized.js"></script>
  <script type="text/javascript" src="../_static/js/custom.js"></script>
  

  
  
  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.StickyNav.enable();
    });

  </script>
  
 



  <script>
  window.__searchunifyLoaderConfig = JSON.parse('{"clients": {"en": "02c2e804-27e9-11ee-aefb-0242ac120011", "ja": "6a42c3f2-2820-11ee-aefb-0242ac120011", "pt": "6a86badd-2821-11ee-aefb-0242ac120011"}}')
</script>
<script type="text/javascript" src="../_static/js/search-loader.js"></script>
</body>
<script type='text/javascript'>
  window.onload = function () {
    var description = document.querySelector('meta[name="description"]').getAttribute("content");
    let titleText = document.querySelector('h1').textContent;
    document.querySelector('meta[property="og:title"]').setAttribute("content", titleText);
    document.querySelector('meta[property="og:description"]').setAttribute("content", description);
    document.querySelector('meta[property="twitter:description"]').setAttribute("content", description);
  };
</script>

</html>