

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en-US" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en-US"> <!--<![endif]-->

<head>
  <!-- cookie consent -->
  
    <!-- Combined Onetrust and Rudderstack Implementation Scripts -->
    <!-- Onetrust Initialization -->
    <script type="text/javascript" src="https://cdn.cookielaw.org/consent/92466579-1717-44d3-809d-a05fb02843ed-test/OtAutoBlock.js"></script>
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="92466579-1717-44d3-809d-a05fb02843ed-test"></script>
    <link rel="stylesheet" id="db-onetrust-style" href="https://www.databricks.com/wp-content/uploads/db_onetrust.css" media="all" />
    <!-- Setting Rudderstack Write Key -->
    <script>window.rudderstackKey = "2SOR9fvSr5Fi6tN2ihPbVHnX1SZ" </script>
    <!-- Rudderstack Initialization + Onetrust Integration + Rudderstack Custom Events -->
    <script type="text/javascript" src="https://www.databricks.com/sites/default/files/rudderstack/v1/db-rudderstack-events.js"></script>

  <!-- cookie consent -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta content="Learn how to connect Databricks to Tableau so you can provide powerful interactive data analytics." name="description" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta property="og:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:title" content="Connect Tableau to Databricks">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://docs.databricks.com">
  <meta property="og:description" content="" id="og-description">
  <meta name="twitter:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta name="twitter:site" content="@databricks">
  <meta name="twitter:creator" content="@databricks">
  <meta property="twitter:description" content="">
  
  <title>Connect Tableau to Databricks &#124; Databricks on AWS</title>
  
  
  <link rel="canonical" href="https://docs.databricks.com/en/partners/bi/tableau.html">
  <!-- Start hreflang tag -->
  <link rel="alternate" hreflang="en" href="https://docs.databricks.com/en/partners/bi/tableau.html" />
<link rel="alternate" hreflang="x-default" href="https://docs.databricks.com/en/partners/bi/tableau.html" />
  <!-- End hreflang tag -->
  
  
  <link rel="shortcut icon" href="../../_static/favicon.ico" />
  

  

  

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T85FQ33');</script>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWTKQQ');</script>
    
  <!-- End Google Tag Manager -->


  <!-- MaxMind / GEO IP -->
  <script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>
  <!-- End MaxMind / GEO IP -->

  
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600&display=swap" rel="stylesheet">
  <link rel="preload" href="../../_static/fonts/DMSans-Bold.ttf" as="font">
  <link rel="preload" href="../../_static/fonts/DMSans-Regular.ttf" as="font">
  <link rel="preload" href="../../_static/fonts/DMMono-Regular.ttf" as="font">
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/cloud-provider-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/translation-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/searchunify/main.css" type="text/css" />

  
  <link rel="index" title="Index" href="../../genindex.html" />
  <link rel="search" title="Search" href="../../search.html" />
  <link rel="top" title="Databricks on AWS" href="../../index.html" /> 
</head>

<body class="wy-body-for-nav" role="document">

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T85FQ33"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWTKQQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  
  <nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
    
<nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
  <div class="container-logo">
    <ul class="mobile-menu-toggle">
        <li class="menu-toggle">
            <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
            
            <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
              alt="Databricks" /></a>   
               
              </li>
    </ul>
    <ul class="su_nav-menu">
      <li class="menu-toggle">
        <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
        
          
        
        <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
            alt="Databricks" /></a></li>
        <!-- 
<li><a href="https://help.databricks.com/s/">Help Center</a></li>
<li class="active"><a href="https://docs.databricks.com/en/">Documentation</a></li>
<li><a href="https://kb.databricks.com/">Knowledge Base</a></li>
 -->
    </ul>
  </div>
  <div class="su_nav-right">
    <ul class="su_link-mobile">
  <!-- Mobile header code can go here -->
</ul>
<ul class="right-try-list">
   
</ul>
  </div>
</nav>
  </nav>

  <div class="su_sub-header">
    <div class="container">
      <div class="su_sub-header-inner">
        <!-- <div class="su_subnav-menu-right">
  <div id="auto" style="width: 100%;">
    <div ng-controller="SearchautoController">
      <div bind-html-compile="autocompleteHtml">
        <form class="su__search-box-1" disabled="disabled">
          <input class="su__search-input" type="search" name="Search box" id="su__search-b" placeholder="Search Documentation" disabled="disabled"/>
          <button class="su__search-button" type="submit" class="button button-success" disabled="disabled">
            <svg width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                fill="#333"></path>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>
</div> -->
        <div class="search-lng-gap"></div>
        <div style="margin-left: 16px; margin-right: 16px;">
          <!-- <select name="lng selector" id="lng-selector">
    <option value="../../../en/partners/bi/tableau.html" class="notranslate">English</option>
    <option value="../../../ja/partners/bi/tableau.html" class="notranslate">日本語</option>
    <option value="../../../pt/partners/bi/tableau.html" class="notranslate">Português (Brasil)</option>
</select> -->
        </div>
        <div class="cloud-selector-container">
          <!-- <select name="cloud provider selector" id="cloud-provider-selector">
    <option value="aws" selected class="notranslate">
        Amazon Web Services
    </option>
    <option value="azure"  class="notranslate">
        Microsoft Azure
    </option>
    <option value="gcp"  class="notranslate">
        Google Cloud Platform
    </option>
</select> -->
        </div>
      </div>
    </div>
  </div>
  <page class="js-page-container">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side su_nav-side">
<div class="wy-side-scroll">
  <div class="wy-side-nav-search">
    

    

    

    
  </div>

  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      <a href="../../index.html" class="main-navigation-home">Databricks on AWS</a>
    

    
      

      
        <p class="caption"><span class="caption-text">Load &amp; manage data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rag-temp/index.html">RAG Studio</a></li>
</ul>

      
    
  </div>

  <div role="contentinfo">
    
  <p class="build_info notranslate"data-last-edit="December 23, 2023">
    Updated Jan 11, 2024
  </p>
<script>
  window.addEventListener('DOMContentLoaded',function(){
    var h1=document.querySelector('h1');
    var bi=document.querySelector('[data-last-edit]');
    if(h1 && bi){
      var ver = document.createElement('p');
      ver.className = 'version_info';
      ver.textContent = bi.getAttribute('data-last-edit');
      h1.parentElement.insertBefore(ver, h1.nextElementSibling);
    }
  });
</script>

    <p>
      
        <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
      
    </p>
  </div>
</div>
</nav>
    
    
<main class="wy-grid-for-nav su_nav-grid">
  <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
    <div class="wy-nav-content su__nav_content">
      <div class="rst-content">
        





<div role="navigation" aria-label="breadcrumbs navigation" class="wy-breadcrumbs-wrapper">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Documentation</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
    
      <li>Connect Tableau to Databricks</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>
</div>
        
        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
          <div itemprop="articleBody">
            
    
  <div class="section" id="connect-tableau-to-databricks">
<h1>Connect Tableau to Databricks<a class="headerlink" href="#connect-tableau-to-databricks" title="Permalink to this headline"> </a></h1>
<p>This article shows you how to connect Databricks to Tableau Desktop and includes information about other Tableau editions. You can connect through <a class="reference internal" href="../../partner-connect/index.html"><span class="doc">Partner Connect</span></a> or you can connect manually.</p>
<p>When you use Databricks as a data source with Tableau, you can provide powerful interactive analytics, bringing the contributions of your data scientists and data engineers to your business analysts by scaling to massive datasets.</p>
<p>To learn more on how to use Tableau Desktop to build reports and visualizations, please read <a class="reference external" href="https://help.tableau.com/current/guides/get-started-tutorial/en-us/get-started-tutorial-home.htm">Tutorial: Get Started with Tableau Desktop</a>.</p>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline"> </a></h2>
<div class="section" id="connect-data-managed-by-databricks-unity-catalog-to-tableau">
<span id="connect-data-managed-by-databricks-uc-to-tableau"></span><h3>Connect data managed by Databricks Unity Catalog to Tableau<a class="headerlink" href="#connect-data-managed-by-databricks-unity-catalog-to-tableau" title="Permalink to this headline"> </a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://www.tableau.com/products/desktop">Tableau Desktop</a> 2021.4 or above. Download and install Tableau Desktop on your computer.</p></li>
<li><p><a class="reference external" href="https://databricks.com/spark/odbc-drivers-download">Databricks ODBC driver</a> version 2.6.19 or above. Install the driver using the downloaded installation file on your desktop. Follow <a class="reference external" href="https://help.tableau.com/current/pro/desktop/en-us/examples_databricks.htm">instructions provided by Tableau</a> to set up the connection to Databricks. Please refer to <a class="reference external" href="https://help.tableau.com/current/pro/desktop/en-us/odbc_tableau.htm">Tableau and ODBC</a> on more details about how Tableau Desktop works with ODBC driver.</p></li>
</ul>
</div>
<div class="section" id="connect-data-managed-by-the-legacy-databricks-hive-metastore-to-tableau">
<span id="connect-data-managed-by-the-legacy-databricks-hms-to-tableau"></span><h3>Connect data managed by the legacy Databricks Hive metastore to Tableau<a class="headerlink" href="#connect-data-managed-by-the-legacy-databricks-hive-metastore-to-tableau" title="Permalink to this headline"> </a></h3>
<ul class="simple">
<li><p>Tableau Desktop 2019.3 or above.</p></li>
<li><p>Databricks ODBC Driver 2.6.15 or above.</p></li>
</ul>
</div>
<div class="section" id="authentication-options">
<h3>Authentication options<a class="headerlink" href="#authentication-options" title="Permalink to this headline"> </a></h3>
<p>Use one of the following authentication options:</p>
<ul>
<li><p>(Recommended) Tableau enabled as an OAuth application in your account. Tableau Desktop is enabled by default. To enable Tableau Cloud or Tableau Server, see <a class="reference internal" href="../../integrations/configure-oauth-tableau.html"><span class="doc">Configure Databricks sign-on from Tableau Cloud and Tableau Server</span></a>.</p>
<p>Only users enrolled in Tableau’s internal identity provider (IdP) can authenticate using single sign-on (SSO). OAuth tokens for Tableau expire after 90 days.</p>
</li>
<li><p>A Databricks <a class="reference internal" href="../../dev-tools/auth/pat.html#pat-user"><span class="std std-ref">personal access token</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As a security best practice when you authenticate with automated tools, systems, scripts, and apps, Databricks recommends that you use OAuth tokens.</p>
<p>If you use personal access token authentication, Databricks recommends using personal access tokens belonging to <a class="reference internal" href="../../administration-guide/users-groups/service-principals.html"><span class="doc">service principals</span></a> instead of workspace users. To create tokens for service principals, see <a class="reference internal" href="../../administration-guide/users-groups/service-principals.html#personal-access-tokens"><span class="std std-ref">Manage tokens for a service principal</span></a>.</p>
</div>
</li>
<li><p>A Databricks <a class="reference internal" href="../../administration-guide/users-groups/users.html"><span class="doc">username</span></a> (typically your email address) and password.</p>
<p>Username and password authentication may be disabled if your Databricks workspace is <a class="reference internal" href="../../administration-guide/users-groups/single-sign-on/index.html"><span class="doc">enabled for single sign-on (SSO)</span></a>. If so, use a Databricks personal access token instead.</p>
</li>
</ul>
</div>
<ul class="simple">
<li><p>The connection details for a cluster or SQL warehouse, specifically the <strong>Server Hostname</strong> and <strong>HTTP Path</strong> values.</p>
<ul>
<li><p><a class="reference internal" href="../../integrations/jdbc-odbc-bi.html#connection-details-cluster"><span class="std std-ref">Get connection details for a cluster</span></a>.</p></li>
<li><p><a class="reference internal" href="../../integrations/jdbc-odbc-bi.html#sql"><span class="std std-ref">Get connection details for a SQL warehouse</span></a>.</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="connect-to-tableau-desktop-using-partner-connect">
<span id="connect-to-tableau-desktop-using-pc"></span><span id="connect-with-partner-connect"></span><h2>Connect to Tableau Desktop using Partner Connect<a class="headerlink" href="#connect-to-tableau-desktop-using-partner-connect" title="Permalink to this headline"> </a></h2>
<p>You can use Partner Connect to connect a cluster or SQL warehouse with Tableau Desktop in just a few clicks.</p>
<ol class="arabic simple">
<li><p>Make sure your Databricks account, workspace, and the signed-in user all meet the <a class="reference internal" href="../../partner-connect/index.html#requirements"><span class="std std-ref">requirements</span></a> for Partner Connect.</p></li>
<li><p>In the sidebar, click <img alt="Partner Connect button" src="../../_images/partner-connect.png" /> <strong>Partner Connect</strong>.</p></li>
<li><p>Click the <strong>Tableau</strong> tile.</p></li>
<li><p>In the <strong>Connect to partner</strong> dialog, for <strong>Compute</strong>, choose the name of the Databricks compute resource that you want to connect.</p></li>
<li><p>Choose <strong>Download connection file</strong>.</p></li>
<li><p>Open the downloaded connection file, which starts Tableau Desktop.</p></li>
<li><p>In Tableau Desktop, enter your authentication credentials, and then click <strong>Sign In</strong>:</p>
<ul class="simple">
<li><p>To use a Databricks personal access token, enter <strong>token</strong> for <strong>Username</strong> and your personal access token for <strong>Password</strong>.</p></li>
<li><p>To use a Databricks username and password, enter your username for <strong>Username</strong> and your password for <strong>Password</strong>.</p></li>
</ul>
</li>
</ol>
<p>After you successfully connect with Tableau Desktop, you can stop here. The remaining information in this article covers additional information about Tableau, such as connecting manually with Tableau Desktop, setting up Tableau Server on Linux, how to use Tableau Online, and best practices and troubleshooting with Tableau.</p>
</div>
<div class="section" id="connect-to-tableau-desktop-manually">
<span id="manual-connection"></span><h2>Connect to Tableau Desktop manually<a class="headerlink" href="#connect-to-tableau-desktop-manually" title="Permalink to this headline"> </a></h2>
<p>Follow these instructions to connect to a cluster or SQL warehouse with Tableau Desktop.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To connect faster with Tableau Desktop, use Partner Connect.</p>
</div>
<ol class="arabic">
<li><p>Start Tableau Desktop.</p></li>
<li><p>Click <strong>File &gt; New</strong>.</p></li>
<li><p>On the <strong>Data</strong> tab, click <strong>Connect to Data</strong>.</p></li>
<li><p>In the list of connectors, click <strong>Databricks</strong>.</p></li>
<li><p>Enter the <strong>Server Hostname</strong> and <strong>HTTP Path</strong>.</p></li>
<li><p>For <strong>Authentication</strong>, choose your authentication method, enter your authentication credentials, and then click <strong>Sign in</strong>.</p>
<ul class="simple">
<li><p>To use a Databricks personal access token, select <strong>Personal Access Token</strong> and enter your personal access token for <strong>Password</strong>.</p></li>
<li><p>To use a Databricks username and password, select <strong>Username / Password</strong> and enter your username for <strong>Username</strong> and your password for <strong>Password</strong>.</p></li>
<li><p><strong>OAuth/Microsoft Entra ID</strong>. For <strong>OAuth endpoint</strong>, enter <code class="docutils literal notranslate"><span class="pre">https://{&lt;server-hostname&gt;}/oidc</span></code>, where <code class="docutils literal notranslate"><span class="pre">&lt;server-hostname&gt;</span></code> is the <strong>Server Hostname</strong> for your cluster or SQL warehouse. A browser window opens and prompts you to sign in to your IdP.</p></li>
</ul>
<p>If Unity Catalog is enabled for your workspace, additionally set the default catalog. In the <strong>Advanced</strong> tab, for <strong>Connection properties</strong>, add <code class="docutils literal notranslate"><span class="pre">Catalog=&lt;catalog-name&gt;</span></code>. To change the default catalog, in the <strong>Initial SQL</strong> tab, enter <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span> <span class="pre">&lt;catalog-name&gt;</span></code>.</p>
</li>
</ol>
<p>After you successfully connect with Tableau Desktop, you can stop here. The remaining information in this article covers additional information about Tableau, such as setting up Tableau Server on Linux, how to use Tableau Online, and best practices and troubleshooting with Tableau.</p>
</div>
<div class="section" id="tableau-server-on-linux">
<h2>Tableau Server on Linux<a class="headerlink" href="#tableau-server-on-linux" title="Permalink to this headline"> </a></h2>
<p>Edit <code class="docutils literal notranslate"><span class="pre">/etc/odbcinst.ini</span></code> to include the following:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[Simba Spark ODBC Driver 64-bit]
Description=Simba Spark ODBC Driver (64-bit)
Driver=/opt/simba/spark/lib/64/libsparkodbc_sb64.so
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Tableau Server on Linux recommends 64-bit processing architecture.</p>
</div>
</div>
<div class="section" id="publish-and-refresh-a-workbook-on-tableau-online">
<h2>Publish and refresh a workbook on Tableau Online<a class="headerlink" href="#publish-and-refresh-a-workbook-on-tableau-online" title="Permalink to this headline"> </a></h2>
<p>This article shows how to publish a workbook from Tableau Desktop to <a class="reference external" href="https://www.tableau.com/products/cloud-bi">Tableau Online</a> and keep it updated when the data source changes. You need a <a class="reference external" href="https://help.tableau.com/current/pro/desktop/en-us/environ_workbooksandsheets_workbooks.htm">workbook</a> in Tableau Desktop and a <a class="reference external" href="https://www.tableau.com/tableau-login-hub">Tableau Online</a> account.</p>
<ol class="arabic simple">
<li><p>Extract the workbook’s data from Tableau Desktop: in Tableau Desktop, with the workbook that you want to publish displayed, click <strong>Data &gt;</strong> <code class="docutils literal notranslate"><span class="pre">&lt;data-source-name&gt;</span></code> <strong>&gt; Extract Data</strong>.</p></li>
<li><p>In the <strong>Extract Data</strong> dialog box, click <strong>Extract</strong>.</p></li>
<li><p>Browse to a location on your local machine where you want to save the extracted data, and then click <strong>Save</strong>.</p></li>
<li><p>Publish the workbook’s data source to Tableau Online: in Tableau Desktop, click <strong>Server &gt; Publish Data Source &gt;</strong> <code class="docutils literal notranslate"><span class="pre">&lt;data-source-name&gt;</span></code>.</p></li>
<li><p>If the <strong>Tableau Server Sign In</strong> dialog box displays, click the <strong>Tableau Online</strong> link, and follow the on-screen directions to sign in to Tableau Online.</p></li>
<li><p>In the <strong>Publish Data Source to Tableau Online</strong> dialog box, next to <strong>Refresh Not Enabled</strong>, click the <strong>Edit</strong> link.</p></li>
<li><p>In the flyout box that displays, for <strong>Authentication</strong>, change <strong>Refresh not enabled</strong> to <strong>Allow refresh access</strong>.</p></li>
<li><p>Click anywhere outside of this flyout to hide it.</p></li>
<li><p>Select <strong>Update workbook to use the published data source</strong>.</p></li>
<li><p>Click <strong>Publish</strong>. The data source displays in Tableau Online.</p></li>
<li><p>In Tableau Online, in the <strong>Publishing Complete</strong> dialog box, click <strong>Schedule</strong>, and follow the on-screen directions.</p></li>
<li><p>Publish the workbook to Tableau Online: in Tableau Desktop, with the workbook you want to publish displayed, click <strong>Server &gt; Publish Workbook</strong>.</p></li>
<li><p>In the <strong>Publish Workbook to Tableau Online</strong> dialog box, click <strong>Publish</strong>. The workbook displays in Tableau Online.</p></li>
</ol>
<p>Tableau Online checks for changes to the data source according to the schedule you set, and updates the published workbook if changes are detected.</p>
<p>For more information, see the following on the Tableau website:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://help.tableau.com/current/pro/desktop/en-us/publish_datasources.htm">Publish a Data Source</a></p></li>
<li><p><a class="reference external" href="https://help.tableau.com/current/pro/desktop/en-us/publish_workbooks_howto.htm">Comprehensive Steps to Publish a Workbook</a></p></li>
<li><p><a class="reference external" href="https://help.tableau.com/current/pro/desktop/en-us/publish_workbooks_schedules.htm">Schedule Extract Refreshes as You Publish a Workbook</a></p></li>
</ul>
</div>
<div class="section" id="best-practices-and-troubleshooting">
<h2>Best practices and troubleshooting<a class="headerlink" href="#best-practices-and-troubleshooting" title="Permalink to this headline"> </a></h2>
<p>The two fundamental actions to optimize Tableau queries are:</p>
<ul class="simple">
<li><p>Reduce the number of records being queried and visualized in a single chart or dashboard.</p></li>
<li><p>Reduce the number of queries being sent by Tableau in a single chart or dashboard.</p></li>
</ul>
<p>Deciding which to try first depends on your dashboard. If you have a number of different charts for individual users all in the same dashboard, it’s likely that Tableau is sending too many queries to Databricks. If you only have a couple of charts but they take a long time to load, there are probably too many records being returned by Databricks to load effectively.</p>
<p>Tableau performance recording, available on both Tableau Desktop and Tableau Server, can help you understand where performance bottlenecks are by identifying processes that are causing latency when you run a particular workflow or dashboard.</p>
<div class="section" id="enable-performance-recording-to-debug-any-tableau-issue">
<h3>Enable performance recording to debug any Tableau issue<a class="headerlink" href="#enable-performance-recording-to-debug-any-tableau-issue" title="Permalink to this headline"> </a></h3>
<p>For instance, if query execution is the problem, you know it has to do with the data engine process or the data source that you are querying. If the visual layout is performing slowly, you know that it is the VizQL.</p>
<p>If the performance recording says that the latency is in executing query, it is likely that too much time is taken by Databricks returning the results or by the ODBC/Connector overlay processing the data into SQL for VizQL. When this occurs, you should analyze what you are returning and attempt to change the analytical pattern to have a dashboard per group, segment, or article instead of trying to cram everything into one dashboard and relying on Quick Filters.</p>
<p>If the poor performance is caused by sorting or visual layout, the problem may be the number of marks the dashboard is trying to return. Databricks can return one million records quickly, but Tableau may not be able to compute the layout and sort the results. If this is a problem, aggregate the query and drill into the lower levels. You can also try a bigger machine, since Tableau is only constrained by physical resources on the machine on which it is running.</p>
<p>For an in-depth tutorial on the performance recorder, see <a class="reference external" href="https://help.tableau.com/current/server-linux/en-us/perf_record_create_server.htm">Create a Performance Recording</a>.</p>
</div>
<div class="section" id="performance-on-tableau-server-versus-tableau-desktop">
<h3>Performance on Tableau Server versus Tableau Desktop<a class="headerlink" href="#performance-on-tableau-server-versus-tableau-desktop" title="Permalink to this headline"> </a></h3>
<p>In general, a workflow that runs on Tableau Desktop is not any faster on Tableau Server. A dashboard that doesn’t execute on Tableau Desktop won’t execute on Tableau Server. This is important to keep in mind.</p>
<p>In fact, getting things working on Desktop is a much better troubleshooting technique, because Tableau Server has more processes to consider when you troubleshoot. And if things work in Tableau Desktop but not in Tableau Server, then you can safely narrow the issue down to the processes in Tableau Server that aren’t in Tableau Desktop.</p>
</div>
<div class="section" id="configuration">
<h3>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline"> </a></h3>
<p>By default, the parameters from the connection URL override those in the
Simba ODBC DSN. There are two ways you can customize the ODBC configurations
from Tableau:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">.tds</span></code> file for a single data source:</p>
<ol class="arabic simple">
<li><p>Follow the instructions in <a class="reference external" href="https://help.tableau.com/current/pro/desktop/en-us/export_connection.htm">Save Data Sources</a> to export the <code class="docutils literal notranslate"><span class="pre">.tds</span></code> file for the data source.</p></li>
<li><p>Find the property line <code class="docutils literal notranslate"><span class="pre">odbc-connect-string-extras=''</span></code> in the <code class="docutils literal notranslate"><span class="pre">.tds</span></code> file and set the parameters. For example, to enable <code class="docutils literal notranslate"><span class="pre">AutoReconnect</span></code> and <code class="docutils literal notranslate"><span class="pre">UseNativeQuery</span></code>, you can change the line to <code class="docutils literal notranslate"><span class="pre">odbc-connect-string-extras='AutoReconnect=1,UseNativeQuery=1'</span></code>.</p></li>
<li><p>Reload the <code class="docutils literal notranslate"><span class="pre">.tds</span></code> file by reconnecting the connection.</p></li>
</ol>
<p>The compute resource is optimized to use less heap memory for collecting large results, so it can serve more rows per fetch block than Simba ODBC’s default. Append <code class="docutils literal notranslate"><span class="pre">RowsFetchedPerBlock=100000'</span></code> to the value of the  <code class="docutils literal notranslate"><span class="pre">odbc-connect-string-extras</span></code> property.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">.tdc</span></code> file for all data sources:</p>
<ol class="arabic simple">
<li><p>If you have never created a <code class="docutils literal notranslate"><span class="pre">.tdc</span></code> file, you can add <a class="reference external" href="/_static/examples/TableauTdcExample.tdc">TableauTdcExample.tdc</a> to the folder <code class="docutils literal notranslate"><span class="pre">Document/My</span> <span class="pre">Tableau</span> <span class="pre">Repository/Datasources</span></code>.</p></li>
<li><p>Add the file to all developers’ Tableau Desktop installations, so that it works when the dashboards are shared.</p></li>
</ol>
</li>
</ul>
</div>
<div class="section" id="optimize-charts-worksheets">
<h3>Optimize charts (worksheets)<a class="headerlink" href="#optimize-charts-worksheets" title="Permalink to this headline"> </a></h3>
<p>There are a number of tactical chart optimizations that can help you improve the performance of your Tableau worksheets.</p>
<p>For filters that don’t change often and are not meant to be interacted with, use context filters, which speed up execution time.
Another good rule of thumb is to use <code class="docutils literal notranslate"><span class="pre">if/else</span></code> statements instead of <code class="docutils literal notranslate"><span class="pre">case/when</span></code> statements in your queries.</p>
<p>Tableau can push down filters into data sources, which can greatly speed up query speeds. See <a class="reference external" href="https://kb.tableau.com/articles/howto/filter-multiple-data-sources-using-parameter">Filtering Across Multiple Data Sources Using a Parameter</a> and <a class="reference external" href="https://help.tableau.com/current/pro/desktop/en-us/filter_across_datasources.htm">Filter Data Across Multiple Data Sources</a> for more information about data source push down filters.</p>
<p>It is best to avoid table calculations if you can because they need to scan the full dataset. For more information about table calculations, see <a class="reference external" href="https://help.tableau.com/current/pro/desktop/en-us/calculations_tablecalculations.htm">Transform Values with Table Calculations</a>.</p>
</div>
<div class="section" id="optimize-dashboards">
<h3>Optimize dashboards<a class="headerlink" href="#optimize-dashboards" title="Permalink to this headline"> </a></h3>
<p>Here are a number of tips and troubleshooting exercises you can apply to improve the performance of your Tableau dashboard.</p>
<p>A common source of issues with Tableau dashboards connected to Databricks is the use of quick filters on individual dashboards that serve a number of different users, functions, or segments. You can attach global quick filters to all of the charts on the dashboard. It’s a great feature, but one that can quickly cause problems. One global quick filter on a dashboard with five charts causes a minimum of 10 queries to be sent to Databricks. This can spiral to greater numbers as more filters are added and can cause massive performance problems, because Spark is not built to handle many concurrent queries starting at the same exact moment. This becomes more problematic when the Databricks cluster or SQL warehouse that you are using is not large enough to handle the high volume of queries.</p>
<p>As a first step, we recommend that you use Tableau performance recording to troubleshoot what might be causing the issue.</p>
<p>If the poor performance is caused by <em>sorting</em> or <em>visual layout</em>, the problem may be the number of marks the dashboard is trying to return. Databricks can return one million records quickly, but Tableau may not be able to compute the layout and sort the results. If this is a problem, aggregate the query and drill into the lower levels. You can also try a bigger machine, since Tableau is only constrained by physical resources on the machine on which it is running.</p>
<p>For information about drilling down in Tableau, see <a class="reference external" href="https://help.tableau.com/current/guides/get-started-tutorial/en-us/get-started-tutorial-drilldown.htm">Drill down into the details</a>.</p>
<p>In general, seeing many granular marks is often a poor analytical pattern, because it doesn’t provide insight. Drilling down from higher levels of aggregation makes more sense and reduces the number of records that need to be processed and visualized.</p>
<div class="section" id="use-actions-to-optimize-dashboards">
<h4>Use actions to optimize dashboards<a class="headerlink" href="#use-actions-to-optimize-dashboards" title="Permalink to this headline"> </a></h4>
<p>To drill from group to segment to article in order to obtain the same analysis and information as the “ocean boiled” dashboard, you can use Tableau <em>actions</em>. Actions allow you to click a mark (for example a state on a map) and be sent to another dashboard that filters based on the state you click. This reduces the need to have many filters on one dashboard and reduces the number of records that need to be generated, because you can set an action to not generate records until it gets a predicate to filter on.</p>
<p>For more information, see <a class="reference external" href="https://help.tableau.com/current/pro/desktop/en-us/actions.htm">Actions</a> and <a class="reference external" href="https://www.tableau.com/about/blog/2016/1/5-tips-make-your-dashboards-more-performant-48574">6 Tips to Make Your Dashboards More Performant</a>.</p>
</div>
</div>
<div class="section" id="caching">
<h3>Caching<a class="headerlink" href="#caching" title="Permalink to this headline"> </a></h3>
<p>Caching data is a good way to improve the performance of worksheets or dashboards.</p>
<div class="section" id="caching-in-tableau">
<h4>Caching in Tableau<a class="headerlink" href="#caching-in-tableau" title="Permalink to this headline"> </a></h4>
<p>Tableau has four layers of caching before it goes back to the data, whether that data is in a live connection or an extract:</p>
<ul class="simple">
<li><p><strong>Tiles</strong>: If someone is loading the exact same dashboard and nothing changes, then Tableau tries to reuse the same tiles for the charts. This is similar to Google Maps tiles.</p></li>
<li><p><strong>Model</strong>: There are mathematical calculations used to generate visualizations in the event that tiles can’t be used. Tableau Server attempts to use the same models.</p></li>
<li><p><strong>Abstract</strong>: Aggregate results of queries are stored as well. This is the third “defense” level. If a query returns Sum(Sales), Count(orders), Sum(Cost), in a previous query and a future query wants just Sum(Sales), then Tableau grabs that result and uses it.</p></li>
<li><p><strong>Native Cache</strong>: If the query is the exact same as another one, Tableau uses the same results. This is the last level of caching. If this fails, then Tableau goes to the data.</p></li>
</ul>
</div>
<div class="section" id="caching-frequency-in-tableau">
<h4>Caching frequency in Tableau<a class="headerlink" href="#caching-frequency-in-tableau" title="Permalink to this headline"> </a></h4>
<p>Tableau has administrative settings for caching more or less often. If the server is set to <strong>Refresh Less Often</strong>, Tableau keeps data in the cache for up to 12 hours. If it is set to <strong>Refresh More Often</strong>, Tableau goes back to the data on every page refresh.</p>
<p>Customers who have the same dashboard being used over again—for example, “Monday morning pipeline reports”—should be on a server set to Refresh Less Often so that the dashboards all use the same cache.</p>
</div>
<div class="section" id="cache-warming-in-tableau">
<h4>Cache warming in Tableau<a class="headerlink" href="#cache-warming-in-tableau" title="Permalink to this headline"> </a></h4>
<p>In Tableau you can warm the cache by setting a subscription for the dashboard to be sent before you want the dashboard viewed.
This is because the dashboard needs to be rendered in order to generate the image for the subscription email. See
<a class="reference external" href="https://kb.tableau.com/articles/HowTo/warming-the-tableau-server-cache-using-subscriptions">Warming the Tableau Server Cache Using Subscriptions</a>.</p>
</div>
<div class="section" id="caching-in-databricks">
<h4>Caching in Databricks<a class="headerlink" href="#caching-in-databricks" title="Permalink to this headline"> </a></h4>
<p>You can cache popular tables or critical tables before users consume Tableau dashboards to reduce the time it takes for Databricks to return the results to Tableau.</p>
<p>You can run scripts in the morning to <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">CACHE</span></code> for specific tables with <a class="reference internal" href="../../optimizations/disk-cache.html#worker-instance-type"><span class="std std-ref">Delta caching</span></a> on virtual machines that are optimized for caching.</p>
<p>You can even cache specific queries that Databricks gets from the driver.</p>
</div>
</div>
<div class="section" id="tableau-desktop-the-error-the-drivers-are-not-properly-installed-displays">
<h3>Tableau Desktop: The error <code class="docutils literal notranslate"><span class="pre">The</span> <span class="pre">drivers...</span> <span class="pre">are</span> <span class="pre">not</span> <span class="pre">properly</span> <span class="pre">installed</span></code> displays<a class="headerlink" href="#tableau-desktop-the-error-the-drivers-are-not-properly-installed-displays" title="Permalink to this headline"> </a></h3>
<p><strong>Issue</strong>: When you try to connect Tableau Desktop to Databricks, Tableau displays an error message in the connection dialog with a link to the driver download page, where you can find driver links and installation instructions.</p>
<p><strong>Cause</strong>: Your installation of Tableau Desktop is not running a supported driver.</p>
<p><strong>Resolution</strong>: Download the <a class="reference external" href="https://databricks.com/spark/odbc-drivers-download">Databricks ODBC driver</a> version 2.6.15 or above.</p>
<p><strong>See also</strong>: <a class="reference external" href="https://kb.tableau.com/articles/issue/error-the-drivers-are-not-properly-installed">Error “The drivers… are not properly installed”</a> on the Tableau website.</p>
</div>
</div>
<div class="section" id="additional-resources">
<h2>Additional resources<a class="headerlink" href="#additional-resources" title="Permalink to this headline"> </a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://www.tableau.com/products">Tableau Products</a></p></li>
<li><p><a class="reference external" href="https://www.tableau.com/resources">Tableau resources</a></p></li>
<li><p><a class="reference external" href="https://help.tableau.com/current/pro/desktop/en-us/examples_databricks.htm">Databricks</a></p></li>
<li><p><a class="reference external" href="https://www.tableau.com/support">Support</a></p></li>
</ul>
</div>
</div>


    
          </div>
        </div>
        <div  class="suapp-rating">
  <div id="suPageRateApp">
     <su-app></su-app>
   </div> 
 </div>
<hr> 
<footer>
  <div role="contentinfo">
      <p class="copyright">
          &copy; Databricks 2023. All rights reserved. Apache, Apache Spark, Spark, and the Spark logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a>.
      </p>
      <p> 
        
          <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
        
     | <a href="https://databricks.com/privacy-policy">Privacy Policy</a> | <a href="https://databricks.com/terms-of-use">Terms of Use</a></p>

  </div> 

</footer>
      </div>
    </div>
  </section>
</main>

  </page>
  
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT: '../../',
      VERSION: '1.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE: 'false'
    };
  </script>
  <script type="text/javascript" src="../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../_static/underscore.js"></script>
  <script type="text/javascript" src="../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../_static/language_data.js"></script>
  

  <script type="text/javascript" src="../../_static/js/clipboard.min.js"></script>
  <script type="text/javascript" src="../../_static/js/jquery.waypoints.min.js"></script>

  <!-- Select2 (https://select2.org/) -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <!-- End Select2 -->

  
  
  <script type="text/javascript" src="../../_static/js/localized.js"></script>
  <script type="text/javascript" src="../../_static/js/custom.js"></script>
  

  
  
  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.StickyNav.enable();
    });

  </script>
  
 



  <script>
  window.__searchunifyLoaderConfig = JSON.parse('{"clients": {"en": "02c2e804-27e9-11ee-aefb-0242ac120011", "ja": "6a42c3f2-2820-11ee-aefb-0242ac120011", "pt": "6a86badd-2821-11ee-aefb-0242ac120011"}}')
</script>
<script type="text/javascript" src="../../_static/js/search-loader.js"></script>
</body>
<script type='text/javascript'>
  window.onload = function () {
    var description = document.querySelector('meta[name="description"]').getAttribute("content");
    let titleText = document.querySelector('h1').textContent;
    document.querySelector('meta[property="og:title"]').setAttribute("content", titleText);
    document.querySelector('meta[property="og:description"]').setAttribute("content", description);
    document.querySelector('meta[property="twitter:description"]').setAttribute("content", description);
  };
</script>

</html>