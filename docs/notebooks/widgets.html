

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en-US" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en-US"> <!--<![endif]-->

<head>
  <!-- cookie consent -->
  
    <!-- Combined Onetrust and Rudderstack Implementation Scripts -->
    <!-- Onetrust Initialization -->
    <script type="text/javascript" src="https://cdn.cookielaw.org/consent/92466579-1717-44d3-809d-a05fb02843ed-test/OtAutoBlock.js"></script>
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="92466579-1717-44d3-809d-a05fb02843ed-test"></script>
    <link rel="stylesheet" id="db-onetrust-style" href="https://www.databricks.com/wp-content/uploads/db_onetrust.css" media="all" />
    <!-- Setting Rudderstack Write Key -->
    <script>window.rudderstackKey = "2SOR9fvSr5Fi6tN2ihPbVHnX1SZ" </script>
    <!-- Rudderstack Initialization + Onetrust Integration + Rudderstack Custom Events -->
    <script type="text/javascript" src="https://www.databricks.com/sites/default/files/rudderstack/v1/db-rudderstack-events.js"></script>

  <!-- cookie consent -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta content="Learn how to use input widgets that allow you to add parameters to your notebooks and dashboards." name="description" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta property="og:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:title" content="Databricks widgets">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://docs.databricks.com">
  <meta property="og:description" content="" id="og-description">
  <meta name="twitter:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta name="twitter:site" content="@databricks">
  <meta name="twitter:creator" content="@databricks">
  <meta property="twitter:description" content="">
  
  <title>Databricks widgets &#124; Databricks on AWS</title>
  
  
  <link rel="canonical" href="https://docs.databricks.com/en/notebooks/widgets.html">
  <!-- Start hreflang tag -->
  <link rel="alternate" hreflang="en" href="https://docs.databricks.com/en/notebooks/widgets.html" />
<link rel="alternate" hreflang="x-default" href="https://docs.databricks.com/en/notebooks/widgets.html" />
  <!-- End hreflang tag -->
  
  
  <link rel="shortcut icon" href="../_static/favicon.ico" />
  

  

  

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T85FQ33');</script>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWTKQQ');</script>
    
  <!-- End Google Tag Manager -->


  <!-- MaxMind / GEO IP -->
  <script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>
  <!-- End MaxMind / GEO IP -->

  
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600&display=swap" rel="stylesheet">
  <link rel="preload" href="../_static/fonts/DMSans-Bold.ttf" as="font">
  <link rel="preload" href="../_static/fonts/DMSans-Regular.ttf" as="font">
  <link rel="preload" href="../_static/fonts/DMMono-Regular.ttf" as="font">
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/cloud-provider-selector.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/translation-selector.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/searchunify/main.css" type="text/css" />

  
  <link rel="index" title="Index" href="../genindex.html" />
  <link rel="search" title="Search" href="../search.html" />
  <link rel="top" title="Databricks on AWS" href="../index.html" /> 
</head>

<body class="wy-body-for-nav" role="document">

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T85FQ33"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWTKQQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  
  <nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
    
<nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
  <div class="container-logo">
    <ul class="mobile-menu-toggle">
        <li class="menu-toggle">
            <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
            
            <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
              alt="Databricks" /></a>   
               
              </li>
    </ul>
    <ul class="su_nav-menu">
      <li class="menu-toggle">
        <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
        
          
        
        <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
            alt="Databricks" /></a></li>
        <!-- 
<li><a href="https://help.databricks.com/s/">Help Center</a></li>
<li class="active"><a href="https://docs.databricks.com/en/">Documentation</a></li>
<li><a href="https://kb.databricks.com/">Knowledge Base</a></li>
 -->
    </ul>
  </div>
  <div class="su_nav-right">
    <ul class="su_link-mobile">
  <!-- Mobile header code can go here -->
</ul>
<ul class="right-try-list">
   
</ul>
  </div>
</nav>
  </nav>

  <div class="su_sub-header">
    <div class="container">
      <div class="su_sub-header-inner">
        <!-- <div class="su_subnav-menu-right">
  <div id="auto" style="width: 100%;">
    <div ng-controller="SearchautoController">
      <div bind-html-compile="autocompleteHtml">
        <form class="su__search-box-1" disabled="disabled">
          <input class="su__search-input" type="search" name="Search box" id="su__search-b" placeholder="Search Documentation" disabled="disabled"/>
          <button class="su__search-button" type="submit" class="button button-success" disabled="disabled">
            <svg width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                fill="#333"></path>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>
</div> -->
        <div class="search-lng-gap"></div>
        <div style="margin-left: 16px; margin-right: 16px;">
          <!-- <select name="lng selector" id="lng-selector">
    <option value="../../en/notebooks/widgets.html" class="notranslate">English</option>
    <option value="../../ja/notebooks/widgets.html" class="notranslate">日本語</option>
    <option value="../../pt/notebooks/widgets.html" class="notranslate">Português (Brasil)</option>
</select> -->
        </div>
        <div class="cloud-selector-container">
          <!-- <select name="cloud provider selector" id="cloud-provider-selector">
    <option value="aws" selected class="notranslate">
        Amazon Web Services
    </option>
    <option value="azure"  class="notranslate">
        Microsoft Azure
    </option>
    <option value="gcp"  class="notranslate">
        Google Cloud Platform
    </option>
</select> -->
        </div>
      </div>
    </div>
  </div>
  <page class="js-page-container">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side su_nav-side">
<div class="wy-side-scroll">
  <div class="wy-side-nav-search">
    

    

    

    
  </div>

  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      <a href="../index.html" class="main-navigation-home">Databricks on AWS</a>
    

    
      

      
        <p class="caption"><span class="caption-text">Load &amp; manage data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../rag-temp/index.html">RAG Studio</a></li>
</ul>

      
    
  </div>

  <div role="contentinfo">
    
  <p class="build_info notranslate"data-last-edit="December 23, 2023">
    Updated Jan 11, 2024
  </p>
<script>
  window.addEventListener('DOMContentLoaded',function(){
    var h1=document.querySelector('h1');
    var bi=document.querySelector('[data-last-edit]');
    if(h1 && bi){
      var ver = document.createElement('p');
      ver.className = 'version_info';
      ver.textContent = bi.getAttribute('data-last-edit');
      h1.parentElement.insertBefore(ver, h1.nextElementSibling);
    }
  });
</script>

    <p>
      
        <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
      
    </p>
  </div>
</div>
</nav>
    
    
<main class="wy-grid-for-nav su_nav-grid">
  <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
    <div class="wy-nav-content su__nav_content">
      <div class="rst-content">
        





<div role="navigation" aria-label="breadcrumbs navigation" class="wy-breadcrumbs-wrapper">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Documentation</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
    
      <li>Databricks widgets</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>
</div>
        
        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
          <div itemprop="articleBody">
            
    
  <div class="section" id="databricks-widgets">
<h1>Databricks widgets<a class="headerlink" href="#databricks-widgets" title="Permalink to this headline"> </a></h1>
<p>Input widgets allow you to add parameters to your notebooks and dashboards. The widget API consists of calls to create various types of input widgets, remove them, and get bound values.</p>
<p>If you are running Databricks Runtime 11.0 or above, you can also use <a class="reference internal" href="ipywidgets.html"><span class="doc">ipywidgets in Databricks notebooks</span></a>.</p>
<p>Databricks widgets are best for:</p>
<ul class="simple">
<li><p>Building a notebook or dashboard that is re-executed with different parameters</p></li>
<li><p>Quickly exploring results of a single query with different parameters</p></li>
</ul>
<p>To view the documentation for the widget API in Scala, Python, or R, use the following command: <code class="docutils literal notranslate"><span class="pre">dbutils.widgets.help()</span></code></p>
<div class="section" id="databricks-widget-types">
<h2>Databricks widget types<a class="headerlink" href="#databricks-widget-types" title="Permalink to this headline"> </a></h2>
<p>There are 4 types of widgets:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">text</span></code>: Input a value in a text box.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dropdown</span></code>: Select a value from a list of provided values.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">combobox</span></code>: Combination of text and dropdown. Select a value from a provided list or input one in the text box.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">multiselect</span></code>: Select one or more values from a list of provided values.</p></li>
</ul>
<p>Widget dropdowns and text boxes appear immediately following the notebook toolbar.</p>
<div class="figure align-default">
<img alt="Widget in header" src="../_images/widget-dropdown.png" />
</div>
</div>
<div class="section" id="databricks-widget-api">
<h2>Databricks widget API<a class="headerlink" href="#databricks-widget-api" title="Permalink to this headline"> </a></h2>
<p>The widget API is designed to be consistent in Scala, Python, and R. The widget API in SQL is slightly different, but equivalent to the other languages. You manage widgets through the <a class="reference internal" href="../dev-tools/databricks-utils.html"><span class="doc">Databricks Utilities (dbutils) reference</span></a> interface.</p>
<ul class="simple">
<li><p>The first argument for all widget types is <code class="docutils literal notranslate"><span class="pre">name</span></code>. This is the name you use to access the widget.</p></li>
<li><p>The second argument is <code class="docutils literal notranslate"><span class="pre">defaultValue</span></code>; the widget’s default setting.</p></li>
<li><p>The third argument is for all widget types except <code class="docutils literal notranslate"><span class="pre">text</span></code> is <code class="docutils literal notranslate"><span class="pre">choices</span></code>, a list of values the widget can take on. This argument is not used for <code class="docutils literal notranslate"><span class="pre">text</span></code> type widgets.</p></li>
<li><p>The last argument is <code class="docutils literal notranslate"><span class="pre">label</span></code>, an optional value for the label shown over the widget text box or dropdown.</p></li>
</ul>
<p>Widgets only accept string values. The rest of this article provides examples of how to use widgets in Python and SQL.</p>
</div>
<div class="section" id="databricks-widget-example">
<h2>Databricks widget example<a class="headerlink" href="#databricks-widget-example" title="Permalink to this headline"> </a></h2>
<p>To see detailed API documentation for each method, use <code class="docutils literal notranslate"><span class="pre">dbutils.widgets.help(&quot;&lt;method-name&gt;&quot;)</span></code>. The help API is identical in all languages. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">help</span><span class="p">(</span><span class="s2">&quot;dropdown&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Create a simple dropdown widget.</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">dropdown</span><span class="p">(</span><span class="s2">&quot;state&quot;</span><span class="p">,</span> <span class="s2">&quot;CA&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;CA&quot;</span><span class="p">,</span> <span class="s2">&quot;IL&quot;</span><span class="p">,</span> <span class="s2">&quot;MI&quot;</span><span class="p">,</span> <span class="s2">&quot;NY&quot;</span><span class="p">,</span> <span class="s2">&quot;OR&quot;</span><span class="p">,</span> <span class="s2">&quot;VA&quot;</span><span class="p">])</span>
</pre></div>
</div>
<div class="compound-last highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="n">WIDGET</span><span class="w"> </span><span class="n">DROPDOWN</span><span class="w"> </span><span class="k">state</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="ss">&quot;CA&quot;</span><span class="w"> </span><span class="n">CHOICES</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="p">(</span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;CA&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;IL&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;MI&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;NY&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;OR&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;VA&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>Interact with the widget from the widget panel.</p>
<div class="figure align-default">
<img alt="Interact with widget" src="../_images/widget-demo.png" />
</div>
<p>You can access the current value of the widget with the call:</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;state&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="compound-last highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="ss">&quot;${state}&quot;</span>
</pre></div>
</div>
</div>
<p>Finally, you can remove a widget or all widgets in a notebook:</p>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s2">&quot;state&quot;</span><span class="p">)</span>

<span class="n">dbutils</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">removeAll</span><span class="p">()</span>
</pre></div>
</div>
<div class="compound-last highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">REMOVE</span><span class="w"> </span><span class="n">WIDGET</span><span class="w"> </span><span class="k">state</span>
</pre></div>
</div>
</div>
<p>If you remove a widget, you cannot create a widget in the same cell. You must create the widget in another cell.</p>
</div>
<div class="section" id="using-widget-values-in-spark-sql">
<span id="widgets-in-sql"></span><h2>Using widget values in Spark SQL<a class="headerlink" href="#using-widget-values-in-spark-sql" title="Permalink to this headline"> </a></h2>
<p>Spark SQL accesses widget values as string literals that can be used in queries.</p>
<p>You can access widgets defined in any language from Spark SQL while executing notebooks interactively. Consider the following workflow:</p>
<ol class="arabic">
<li><p>Create a dropdown widget of all databases in the current catalog:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">dropdown</span><span class="p">(</span><span class="s2">&quot;database&quot;</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">database</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">database</span> <span class="ow">in</span> <span class="n">spark</span><span class="o">.</span><span class="n">catalog</span><span class="o">.</span><span class="n">listDatabases</span><span class="p">()])</span>
</pre></div>
</div>
</li>
<li><p>Create a text widget to manually specify a table name:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dbutils</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Run a SQL query to see all tables in a database (selected from the dropdown list):</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SHOW</span><span class="w"> </span><span class="n">TABLES</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="err">${</span><span class="k">database</span><span class="err">}</span>
</pre></div>
</div>
</li>
<li><p>Manually enter a table name into the <code class="docutils literal notranslate"><span class="pre">table</span></code> widget.</p></li>
<li><p>Preview the contents of a table without needing to edit the contents of the query:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span>
<span class="k">FROM</span><span class="w"> </span><span class="err">${</span><span class="k">database</span><span class="err">}</span><span class="p">.</span><span class="err">${</span><span class="k">table</span><span class="err">}</span>
<span class="k">LIMIT</span><span class="w"> </span><span class="mi">100</span>
</pre></div>
</div>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In general, you cannot use widgets to pass arguments between different languages within a notebook. You can create a widget <code class="docutils literal notranslate"><span class="pre">arg1</span></code> in a Python cell and use it in a SQL or Scala cell if you run one cell at a time. However, this does not work if you use <strong>Run All</strong> or run the notebook as a job.</p>
<p>Workarounds:</p>
<ul class="simple">
<li><p>For notebooks that do not mix languages, you can create a notebook for each language and pass the arguments when you <a class="reference internal" href="#widgets-and-percent-run"><span class="std std-ref">run the notebook</span></a>.</p>
<ul>
<li><p>You can access the widget using a <code class="docutils literal notranslate"><span class="pre">spark.sql()</span></code> call. For example, in Python: <code class="docutils literal notranslate"><span class="pre">spark.sql(&quot;select</span> <span class="pre">getArgument('arg1')&quot;).take(1)[0][0]</span></code>.</p></li>
</ul>
</li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To escape the <code class="docutils literal notranslate"><span class="pre">$</span></code> character in a <a class="reference internal" href="../sql/language-manual/data-types/string-type.html"><span class="doc">SQL string literal</span></a>, use <code class="docutils literal notranslate"><span class="pre">\$</span></code>. For example, to express the string <code class="docutils literal notranslate"><span class="pre">$1,000</span></code>, use <code class="docutils literal notranslate"><span class="pre">&quot;\$1,000&quot;</span></code>. The <code class="docutils literal notranslate"><span class="pre">$</span></code> character cannot be escaped for <a class="reference internal" href="../sql/language-manual/sql-ref-identifiers.html"><span class="doc">SQL identifiers</span></a>.</p>
</div>
</div>
<div class="section" id="configure-widget-settings">
<h2>Configure widget settings<a class="headerlink" href="#configure-widget-settings" title="Permalink to this headline"> </a></h2>
<p>You can configure the behavior of widgets when a new value is selected, whether the widget panel is always pinned to the top of the notebook, and change the layout of widgets in the notebook.</p>
<ol class="arabic">
<li><p>Click the <img alt="gear icon" src="../_images/gear.png" /> icon at the right end of the Widget panel.</p></li>
<li><p>In the pop-up Widget Panel Settings dialog box, choose the widget’s execution behavior.</p>
<div class="figure align-default">
<img alt="Widget settings" src="../_images/widget-settings.png" />
</div>
<ul class="simple">
<li><p><strong>Run Notebook</strong>: Every time a new value is selected, the entire notebook is rerun.</p></li>
<li><p><strong>Run Accessed Commands</strong>: Every time a new value is selected, only cells that retrieve the values for that particular widget are rerun. This is the default setting when you create a widget. SQL cells are not rerun in this configuration.</p></li>
<li><p><strong>Do Nothing</strong>: Every time a new value is selected, nothing is rerun.</p></li>
</ul>
</li>
<li><p>To pin the widgets to the top of the notebook or to place the widgets above the first cell, click <img alt="pin icon" src="../_images/pin.png" />. The setting is saved on a per-user basis. Click the thumbtack icon again to reset to the default behavior.</p></li>
<li><p>If you have <strong>Can Manage</strong> permission for notebooks, you can configure the widget layout by clicking <img alt="edit icon" src="../_images/edit.png" />. Each widget’s order and size can be customized. To save or dismiss your changes, click <img alt="accept and cancel icons" src="../_images/checkbox.png" />.</p>
<p>The widget layout is saved with the notebook. If you change the widget layout from the default configuration, new widgets are not added in alphabetical order.</p>
</li>
<li><p>To reset the widget layout to a default order and size, click <img alt="gear icon" src="../_images/gear.png" /> to open the <strong>Widget Panel Settings</strong> dialog and then click <strong>Reset Layout</strong>. The <code class="docutils literal notranslate"><span class="pre">removeAll()</span></code> command does not reset the widget layout.</p></li>
</ol>
</div>
<div class="section" id="example-notebook">
<h2>Example notebook<a class="headerlink" href="#example-notebook" title="Permalink to this headline"> </a></h2>
<p>You can see a demo of how the <strong>Run Accessed Commands</strong> setting works in the following notebook. The <code class="docutils literal notranslate"><span class="pre">year</span></code> widget is created with setting <code class="docutils literal notranslate"><span class="pre">2014</span></code> and is used in DataFrame API and SQL commands.</p>
<div class="figure align-default">
<img alt="Widgets" src="../_images/widget-demo.png" />
</div>
<p>When you change the setting of the <code class="docutils literal notranslate"><span class="pre">year</span></code> widget to <code class="docutils literal notranslate"><span class="pre">2007</span></code>, the DataFrame command reruns, but the SQL command is not rerun.</p>
<div class="embedded-notebook-section section" id="widget-demo-notebook">
<span id="widget-demo"></span><h3>Widget demo notebook<a class="headerlink" href="#widget-demo-notebook" title="Permalink to this headline"> </a></h3>
<div class="embedded-notebook">
    <p class="notebook-import-help">
        <a href="/_extras/notebooks/source/widget-demo.html"            target="_blank">Open notebook in new tab</a>
        <button class="embedded-notebook-copy-to-clipboard"                copy-path-to-clipboard-on-click="/_extras/notebooks/source/widget-demo.html">            <img src="/_static/clippy.svg"                alt="Copy to clipboard">            Copy link for import        </button>    <div class="embedded-notebook-container">        <div class="loading-spinner"></div>        <iframe data-src="/_extras/notebooks/source/widget-demo.html"            id="06282e24211117bb9c0320398885a83e13a33f4cd7331ac6315cd99adff1f4bc" height="1000px" width="100%"            style="overflow-y:hidden;" scrolling="no"></iframe>    </div></div></div>
</div>
<div class="section" id="databricks-widgets-in-dashboards">
<h2>Databricks widgets in dashboards<a class="headerlink" href="#databricks-widgets-in-dashboards" title="Permalink to this headline"> </a></h2>
<p>When you create a dashboard from a notebook that has input widgets, all the widgets display at the top of the dashboard. In presentation mode, every time you update value of a widget you can click the <strong>Update</strong> button to re-run the notebook and update your dashboard with new values.</p>
<div class="figure align-default">
<img alt="Dashboard with widgets" src="../_images/widget-dashboard2.png" />
</div>
</div>
<div class="section" id="use-databricks-widgets-with-run">
<span id="widgets-and-percent-run"></span><h2>Use Databricks widgets with %run<a class="headerlink" href="#use-databricks-widgets-with-run" title="Permalink to this headline"> </a></h2>
<p>If you <a class="reference internal" href="notebook-workflows.html#run"><span class="std std-ref">run a notebook</span></a> that contains widgets, the specified notebook is run with the widget’s default values. You can also pass in values to widgets. For example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>%run<span class="w"> </span>/path/to/notebook<span class="w"> </span><span class="nv">$X</span><span class="o">=</span><span class="s2">&quot;10&quot;</span><span class="w"> </span><span class="nv">$Y</span><span class="o">=</span><span class="s2">&quot;1&quot;</span>
</pre></div>
</div>
<p>This example runs the specified notebook and passes <code class="docutils literal notranslate"><span class="pre">10</span></code> into widget X and <code class="docutils literal notranslate"><span class="pre">1</span></code> into widget Y.</p>
</div>
<div class="section" id="limitations">
<h2>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline"> </a></h2>
<ul class="simple">
<li><p>The following limits apply to widgets:</p>
<ul>
<li><p>A maximum of 512 widgets can be created in a notebook.</p></li>
<li><p>A widget name is limited to 1024 characters.</p></li>
<li><p>A widget label is limited to 2048 characters.</p></li>
<li><p>A maximum of 2048 characters can be input to a text widget.</p></li>
<li><p>There can be a maximum of 1024 choices for a multi-select, combo box, or dropdown widget.</p></li>
</ul>
</li>
<li><p>There is a known issue where a widget state may not properly clear after pressing <strong>Run All</strong>, even after clearing or removing the widget in code. If this happens, you will see a discrepancy between the widget’s visual state and its printed state. Re-running the cells individually may bypass this issue. To avoid this issue entirely, Databricks recommends that you use <a class="reference internal" href="ipywidgets.html"><span class="doc">ipywidgets</span></a>.</p></li>
</ul>
</div>
</div>


    
          </div>
        </div>
        <div  class="suapp-rating">
  <div id="suPageRateApp">
     <su-app></su-app>
   </div> 
 </div>
<hr> 
<footer>
  <div role="contentinfo">
      <p class="copyright">
          &copy; Databricks 2023. All rights reserved. Apache, Apache Spark, Spark, and the Spark logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a>.
      </p>
      <p> 
        
          <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
        
     | <a href="https://databricks.com/privacy-policy">Privacy Policy</a> | <a href="https://databricks.com/terms-of-use">Terms of Use</a></p>

  </div> 

</footer>
      </div>
    </div>
  </section>
</main>

  </page>
  
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT: '../',
      VERSION: '1.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE: 'false'
    };
  </script>
  <script type="text/javascript" src="../_static/jquery.js"></script>
  <script type="text/javascript" src="../_static/underscore.js"></script>
  <script type="text/javascript" src="../_static/doctools.js"></script>
  <script type="text/javascript" src="../_static/language_data.js"></script>
  

  <script type="text/javascript" src="../_static/js/clipboard.min.js"></script>
  <script type="text/javascript" src="../_static/js/jquery.waypoints.min.js"></script>

  <!-- Select2 (https://select2.org/) -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <!-- End Select2 -->

  
  
  <script type="text/javascript" src="../_static/js/localized.js"></script>
  <script type="text/javascript" src="../_static/js/custom.js"></script>
  

  
  
  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.StickyNav.enable();
    });

  </script>
  
 



  <script>
  window.__searchunifyLoaderConfig = JSON.parse('{"clients": {"en": "02c2e804-27e9-11ee-aefb-0242ac120011", "ja": "6a42c3f2-2820-11ee-aefb-0242ac120011", "pt": "6a86badd-2821-11ee-aefb-0242ac120011"}}')
</script>
<script type="text/javascript" src="../_static/js/search-loader.js"></script>
</body>
<script type='text/javascript'>
  window.onload = function () {
    var description = document.querySelector('meta[name="description"]').getAttribute("content");
    let titleText = document.querySelector('h1').textContent;
    document.querySelector('meta[property="og:title"]').setAttribute("content", titleText);
    document.querySelector('meta[property="og:description"]').setAttribute("content", description);
    document.querySelector('meta[property="twitter:description"]').setAttribute("content", description);
  };
</script>

</html>