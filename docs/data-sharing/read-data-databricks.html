

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en-US" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en-US"> <!--<![endif]-->

<head>
  <!-- cookie consent -->
  
    <!-- Combined Onetrust and Rudderstack Implementation Scripts -->
    <!-- Onetrust Initialization -->
    <script type="text/javascript" src="https://cdn.cookielaw.org/consent/92466579-1717-44d3-809d-a05fb02843ed-test/OtAutoBlock.js"></script>
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="92466579-1717-44d3-809d-a05fb02843ed-test"></script>
    <link rel="stylesheet" id="db-onetrust-style" href="https://www.databricks.com/wp-content/uploads/db_onetrust.css" media="all" />
    <!-- Setting Rudderstack Write Key -->
    <script>window.rudderstackKey = "2SOR9fvSr5Fi6tN2ihPbVHnX1SZ" </script>
    <!-- Rudderstack Initialization + Onetrust Integration + Rudderstack Custom Events -->
    <script type="text/javascript" src="https://www.databricks.com/sites/default/files/rudderstack/v1/db-rudderstack-events.js"></script>

  <!-- cookie consent -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta content="Learn how to read data and notebooks that have been shared with you using the Databricks-to-Databricks Delta Sharing protocol, in which Databricks manages a secure connection and data sharing without requiring a credential file (token-based security)." name="description" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta property="og:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:title" content="Read data shared using Databricks-to-Databricks Delta Sharing (for recipients)">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://docs.databricks.com">
  <meta property="og:description" content="" id="og-description">
  <meta name="twitter:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta name="twitter:site" content="@databricks">
  <meta name="twitter:creator" content="@databricks">
  <meta property="twitter:description" content="">
  
  <title>Read data shared using Databricks-to-Databricks Delta Sharing (for recipients) &#124; Databricks on AWS</title>
  
  
  <link rel="canonical" href="https://docs.databricks.com/en/data-sharing/read-data-databricks.html">
  <!-- Start hreflang tag -->
  <link rel="alternate" hreflang="en" href="https://docs.databricks.com/en/data-sharing/read-data-databricks.html" />
<link rel="alternate" hreflang="x-default" href="https://docs.databricks.com/en/data-sharing/read-data-databricks.html" />
  <!-- End hreflang tag -->
  
  
  <link rel="shortcut icon" href="../_static/favicon.ico" />
  

  

  

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T85FQ33');</script>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWTKQQ');</script>
    
  <!-- End Google Tag Manager -->


  <!-- MaxMind / GEO IP -->
  <script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>
  <!-- End MaxMind / GEO IP -->

  
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600&display=swap" rel="stylesheet">
  <link rel="preload" href="../_static/fonts/DMSans-Bold.ttf" as="font">
  <link rel="preload" href="../_static/fonts/DMSans-Regular.ttf" as="font">
  <link rel="preload" href="../_static/fonts/DMMono-Regular.ttf" as="font">
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/cloud-provider-selector.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/translation-selector.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/searchunify/main.css" type="text/css" />

  
  <link rel="index" title="Index" href="../genindex.html" />
  <link rel="search" title="Search" href="../search.html" />
  <link rel="top" title="Databricks on AWS" href="../index.html" /> 
</head>

<body class="wy-body-for-nav" role="document">

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T85FQ33"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWTKQQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  
  <nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
    
<nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
  <div class="container-logo">
    <ul class="mobile-menu-toggle">
        <li class="menu-toggle">
            <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
            
            <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
              alt="Databricks" /></a>   
               
              </li>
    </ul>
    <ul class="su_nav-menu">
      <li class="menu-toggle">
        <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
        
          
        
        <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
            alt="Databricks" /></a></li>
        <!-- 
<li><a href="https://help.databricks.com/s/">Help Center</a></li>
<li class="active"><a href="https://docs.databricks.com/en/">Documentation</a></li>
<li><a href="https://kb.databricks.com/">Knowledge Base</a></li>
 -->
    </ul>
  </div>
  <div class="su_nav-right">
    <ul class="su_link-mobile">
  <!-- Mobile header code can go here -->
</ul>
<ul class="right-try-list">
   
</ul>
  </div>
</nav>
  </nav>

  <div class="su_sub-header">
    <div class="container">
      <div class="su_sub-header-inner">
        <!-- <div class="su_subnav-menu-right">
  <div id="auto" style="width: 100%;">
    <div ng-controller="SearchautoController">
      <div bind-html-compile="autocompleteHtml">
        <form class="su__search-box-1" disabled="disabled">
          <input class="su__search-input" type="search" name="Search box" id="su__search-b" placeholder="Search Documentation" disabled="disabled"/>
          <button class="su__search-button" type="submit" class="button button-success" disabled="disabled">
            <svg width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                fill="#333"></path>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>
</div> -->
        <div class="search-lng-gap"></div>
        <div style="margin-left: 16px; margin-right: 16px;">
          <!-- <select name="lng selector" id="lng-selector">
    <option value="../../en/data-sharing/read-data-databricks.html" class="notranslate">English</option>
    <option value="../../ja/data-sharing/read-data-databricks.html" class="notranslate">日本語</option>
    <option value="../../pt/data-sharing/read-data-databricks.html" class="notranslate">Português (Brasil)</option>
</select> -->
        </div>
        <div class="cloud-selector-container">
          <!-- <select name="cloud provider selector" id="cloud-provider-selector">
    <option value="aws" selected class="notranslate">
        Amazon Web Services
    </option>
    <option value="azure"  class="notranslate">
        Microsoft Azure
    </option>
    <option value="gcp"  class="notranslate">
        Google Cloud Platform
    </option>
</select> -->
        </div>
      </div>
    </div>
  </div>
  <page class="js-page-container">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side su_nav-side">
<div class="wy-side-scroll">
  <div class="wy-side-nav-search">
    

    

    

    
  </div>

  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      <a href="../index.html" class="main-navigation-home">Databricks on AWS</a>
    

    
      

      
        <p class="caption"><span class="caption-text">Load &amp; manage data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../rag-temp/index.html">RAG Studio</a></li>
</ul>

      
    
  </div>

  <div role="contentinfo">
    
  <p class="build_info notranslate"data-last-edit="December 23, 2023">
    Updated Jan 11, 2024
  </p>
<script>
  window.addEventListener('DOMContentLoaded',function(){
    var h1=document.querySelector('h1');
    var bi=document.querySelector('[data-last-edit]');
    if(h1 && bi){
      var ver = document.createElement('p');
      ver.className = 'version_info';
      ver.textContent = bi.getAttribute('data-last-edit');
      h1.parentElement.insertBefore(ver, h1.nextElementSibling);
    }
  });
</script>

    <p>
      
        <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
      
    </p>
  </div>
</div>
</nav>
    
    
<main class="wy-grid-for-nav su_nav-grid">
  <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
    <div class="wy-nav-content su__nav_content">
      <div class="rst-content">
        





<div role="navigation" aria-label="breadcrumbs navigation" class="wy-breadcrumbs-wrapper">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Documentation</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
    
      <li>Read data shared using Databricks-to-Databricks Delta Sharing (for recipients)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>
</div>
        
        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
          <div itemprop="articleBody">
            
    
  <div class="section" id="read-data-shared-using-databricks-to-databricks-delta-sharing-for-recipients">
<span id="read-data-shared-using-databricks-to-databricks-ds-for-recipients"></span><h1>Read data shared using Databricks-to-Databricks Delta Sharing (for recipients)<a class="headerlink" href="#read-data-shared-using-databricks-to-databricks-delta-sharing-for-recipients" title="Permalink to this headline"> </a></h1>
<p>This article describes how to read data that has been shared with you using the <em>Databricks-to-Databricks</em> Delta Sharing protocol, in which Databricks manages a secure connection for data sharing. Unlike the Delta Sharing <em>open sharing</em> protocol, the Databricks-to-Databricks protocol does not require a credential file (token-based security).</p>
<p>Databricks-to-Databricks sharing requires that you, as a recipient, have access to a Databricks workspace that is <a class="reference internal" href="../data-governance/unity-catalog/enable-workspaces.html"><span class="doc">enabled for Unity Catalog</span></a>.</p>
<p>If you do not have a Databricks workspace that is enabled for Unity Catalog, then data must be shared with you using the Delta Sharing open sharing protocol, and this article doesn’t apply to you. See <a class="reference internal" href="read-data-open.html"><span class="doc">Read data shared using Delta Sharing open sharing (for recipients)</span></a>.</p>
<div class="section" id="how-do-i-make-shared-data-available-to-my-team">
<h2>How do I make shared data available to my team?<a class="headerlink" href="#how-do-i-make-shared-data-available-to-my-team" title="Permalink to this headline"> </a></h2>
<p>To read data and notebooks that have been shared with you using the Databricks-to-Databricks protocol, you must be a user on a Databricks workspace that is enabled for <a class="reference internal" href="../data-governance/unity-catalog/index.html"><span class="doc">Unity Catalog</span></a>. A member of your team provides the data provider with a unique identifier for your Databricks workspace, and the data provider uses that identifier to create a secure sharing connection with your organization. The shared data then becomes available for read access in your workspace, and any updates that the data provider makes to the shared tables, views, volumes, and partitions are reflected in your workspace in near real time.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Updates to shared data tables, views, and volumes appear in your workspace in near real time. However, column changes (adding, renaming, deleting) may not appear in Catalog Explorer for up to one minute. Likewise, new shares and updates to shares (such as adding new tables to a share) are cached for one minute before they are available for you to view and query.</p>
</div>
<p>To read data that has been shared with you:</p>
<ol class="arabic simple">
<li><p>A user on your team finds the <em>share</em>—the container for the tables, views, volumes, and notebooks that have been shared with you—and uses that share to create a <em>catalog</em>—the top-level container for all data in Databricks Unity Catalog.</p></li>
<li><p>A user on your team grants or denies access to the catalog and the objects inside the catalog (schemas, tables, views, and volumes) to other members of your team.</p></li>
<li><p>You read the data in the tables, views, and volumes that you have been granted access to just like any other data asset in Databricks that you have read-only (<code class="docutils literal notranslate"><span class="pre">SELECT</span></code> or <code class="docutils literal notranslate"><span class="pre">READ</span> <span class="pre">VOLUME</span></code>) access to.</p></li>
<li><p>You preview and clone notebooks in the share, as long as you have the <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> privilege on the catalog.</p></li>
</ol>
</div>
<div class="section" id="permissions-required">
<span id="permissions"></span><h2>Permissions required<a class="headerlink" href="#permissions-required" title="Permalink to this headline"> </a></h2>
<p>To be able to list and view details about all providers and provider shares, you must be a metastore admin or have the <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">PROVIDER</span></code> privilege. Other users have access only to the providers and shares that they own.</p>
<p>To create a catalog from a provider share, you must be a metastore admin, a user who has both the <code class="docutils literal notranslate"><span class="pre">CREATE_CATALOG</span></code> and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">PROVIDER</span></code> privileges for your Unity Catalog metastore, or a user who has both the <code class="docutils literal notranslate"><span class="pre">CREATE_CATALOG</span></code> privilege and ownership of the provider object.</p>
<p>The ability to grant read-only access to the schemas (databases), tables, views, and volumes in the catalog created from the share follows the typical Unity Catalog privilege hierarchy. The ability to view notebooks in the catalog created from the share requires the <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> privilege on the catalog. See <a class="reference internal" href="#schema-table-permissions"><span class="std std-ref">Manage permissions for the schemas, tables, and volumes in a Delta Sharing catalog</span></a>.</p>
</div>
<div class="section" id="view-providers-and-shares">
<h2>View providers and shares<a class="headerlink" href="#view-providers-and-shares" title="Permalink to this headline"> </a></h2>
<p>To start reading the data that has been shared with you by a data provider, you need to know the name of the <em>provider</em> and <em>share</em> objects that are stored in your Unity Catalog metastore once the provider has shared data with you.</p>
<p>The provider object represents the Unity Catalog metastore, cloud platform, and region of the organization that shared the data with you.</p>
<p>The share object represents the tables, volumes, and views that the provider has shared with you.</p>
<div class="section" id="view-all-providers-who-have-shared-data-with-you">
<span id="view-providers"></span><h3>View all providers who have shared data with you<a class="headerlink" href="#view-all-providers-who-have-shared-data-with-you" title="Permalink to this headline"> </a></h3>
<p>To view a list of available data providers, you can use Catalog Explorer, the Databricks Unity Catalog CLI, or the <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">PROVIDERS</span></code> SQL command in a Databricks notebook or the Databricks SQL query editor.</p>
<p><strong>Permissions required:</strong> You must be a metastore admin or have the <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">PROVIDER</span></code> privilege. Other users have access only to the providers and provider shares that they own.</p>
<p>For details, see <a class="reference internal" href="manage-provider.html#view-providers"><span class="std std-ref">View providers</span></a>.</p>
</div>
<div class="section" id="view-provider-details">
<h3>View provider details<a class="headerlink" href="#view-provider-details" title="Permalink to this headline"> </a></h3>
<p>To view details about a provider, you can use Catalog Explorer, the Databricks Unity Catalog CLI, or the <code class="docutils literal notranslate"><span class="pre">DESCRIBE</span> <span class="pre">PROVIDER</span></code> SQL command in a Databricks notebook or the Databricks SQL query editor.</p>
<p><strong>Permissions required:</strong> You must be a metastore admin, have the <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">PROVIDER</span></code> privilege, or own the provider object.</p>
<p>For details, see <a class="reference internal" href="manage-provider.html#view-provider-details"><span class="std std-ref">View provider details</span></a>.</p>
</div>
<div class="section" id="view-shares">
<h3>View shares<a class="headerlink" href="#view-shares" title="Permalink to this headline"> </a></h3>
<p>To view the shares that a provider has shared with you, you can use Catalog Explorer, the Databricks Unity Catalog CLI, or the <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">SHARES</span> <span class="pre">IN</span> <span class="pre">PROVIDER</span></code> SQL command in a Databricks notebook or the Databricks SQL query editor.</p>
<p><strong>Permissions required:</strong> You must be a metastore admin, have the <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">PROVIDER</span></code> privilege, or own the provider object.</p>
<p>For details, see <a class="reference internal" href="manage-provider.html#view-shares"><span class="std std-ref">View shares that a provider has shared with you</span></a>.</p>
</div>
</div>
<div class="section" id="access-data-in-a-shared-table-or-volume">
<span id="access-data"></span><h2>Access data in a shared table or volume<a class="headerlink" href="#access-data-in-a-shared-table-or-volume" title="Permalink to this headline"> </a></h2>
<p>To read data in a shared table or volume:</p>
<ol class="arabic simple">
<li><p>A privileged user must create a catalog from the share that contains the table or volume. This can be a metastore admin, a user who has both the <code class="docutils literal notranslate"><span class="pre">CREATE_CATALOG</span></code> and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">PROVIDER</span></code> privileges for your Unity Catalog metastore, or a user who has both the <code class="docutils literal notranslate"><span class="pre">CREATE_CATALOG</span></code> privilege and ownership of the provider object.</p></li>
<li><p>That user or a user with the same privileges must grant you access to the shared table or volume.</p></li>
<li><p>You can access the table or volume just as you would any other data asset registered in your Unity Catalog metastore.</p></li>
</ol>
<div class="section" id="create-a-catalog-from-a-share">
<span id="create-catalog"></span><h3>Create a catalog from a share<a class="headerlink" href="#create-a-catalog-from-a-share" title="Permalink to this headline"> </a></h3>
<p>To make the data in a share accessible to your team, you must create a catalog from the share. To create a catalog from a share, you can use Catalog Explorer, the Databricks Unity Catalog CLI, or SQL commands in a Databricks notebook or the Databricks SQL query editor.</p>
<p><strong>Permissions required</strong>: A metastore admin, a user who has both the <code class="docutils literal notranslate"><span class="pre">CREATE_CATALOG</span></code> and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">PROVIDER</span></code> privileges for your Unity Catalog metastore, or a user who has both the <code class="docutils literal notranslate"><span class="pre">CREATE_CATALOG</span></code> privilege and ownership of the provider object.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the share includes views, you must use a catalog name that is different than the name of the catalog that contains the view in the provider’s metastore.</p>
</div>
<div class="js-code-language-tabs compound">
<div class="compound-first compound" lang="Catalog&amp;nbsp;Explorer">
<ol class="arabic simple">
<li><p>In your Databricks workspace, click <img alt="Catalog icon" src="../_images/data-icon.png" /> <strong>Catalog</strong>.</p></li>
<li><p>In the left pane, expand the <strong>Delta Sharing</strong> menu and select <strong>Shared with me</strong>.</p></li>
<li><p>On the <strong>Providers</strong> tab, select the provider.</p></li>
<li><p>On the <strong>Shares</strong> tab, find the share and click <strong>Create catalog</strong> on the share row.</p></li>
<li><p>Enter a name for the catalog and optional comment.</p></li>
<li><p>Click <strong>Create</strong>.</p></li>
</ol>
</div>
<div class="compound-middle compound" lang="SQL">
<p class="compound-first">Run the following command in a notebook or the Databricks SQL query editor.</p>
<div class="compound-last highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">CATALOG</span><span class="w"> </span><span class="p">[</span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="k">catalog</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span>
<span class="k">USING</span><span class="w"> </span><span class="k">SHARE</span><span class="w"> </span><span class="o">&lt;</span><span class="n">provider</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="k">share</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="compound-last compound" lang="CLI">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>databricks<span class="w"> </span>unity-catalog<span class="w"> </span>catalogs<span class="w"> </span>create<span class="w"> </span>--name<span class="w"> </span>&lt;catalog-name&gt;<span class="w"> </span>/
<span class="w">                                    </span>--provider<span class="w"> </span>&lt;provider-name&gt;<span class="w"> </span>/
<span class="w">                                    </span>--share<span class="w"> </span>&lt;share-name&gt;
</pre></div>
</div>
</div>
</div>
<p>The catalog created from a share has a catalog type of Delta Sharing. You can view the type on the catalog details page in Catalog Explorer or by running the <a class="reference internal" href="../sql/language-manual/sql-ref-syntax-aux-describe-catalog.html"><span class="doc">DESCRIBE CATALOG</span></a> SQL command in a notebook or Databricks SQL query. All shared catalogs are listed under <strong>Catalog &gt; Shared</strong> in the Catalog Explorer left pane.</p>
<p>A Delta Sharing catalog can be managed in the same way as regular catalogs on a Unity Catalog metastore. You can view, update, and delete a Delta Sharing catalog using Catalog Explorer, the Databricks CLI, and by using <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">CATALOGS</span></code>, <code class="docutils literal notranslate"><span class="pre">DESCRIBE</span> <span class="pre">CATALOG</span></code>, <code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">CATALOG</span></code>, and <code class="docutils literal notranslate"><span class="pre">DROP</span> <span class="pre">CATALOG</span></code> SQL commands.</p>
<p>The 3-level namespace structure under a Delta Sharing catalog created from a share is the same as the one under a regular catalog on Unity Catalog: <code class="docutils literal notranslate"><span class="pre">catalog.schema.table</span></code> or <code class="docutils literal notranslate"><span class="pre">catalog.schema.volume</span></code>.</p>
<p>Table and volume data under a shared catalog is read-only, which means you can perform read operations like:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">DESCRIBE</span></code>, <code class="docutils literal notranslate"><span class="pre">SHOW</span></code>, and <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> for tables.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DESCRIBE</span> <span class="pre">VOLUME</span></code>, <code class="docutils literal notranslate"><span class="pre">LIST</span> <span class="pre">&lt;volume-path&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">*</span> <span class="pre">FROM</span> <span class="pre">&lt;format&gt;.'&lt;volume_path&gt;'</span></code>, and <code class="docutils literal notranslate"><span class="pre">COPY</span> <span class="pre">INTO</span></code> for volumes.</p></li>
</ul>
<p>Notebooks in a shared catalog can be previewed and cloned by any user with <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> on the catalog.</p>
</div>
<div class="section" id="manage-permissions-for-the-schemas-tables-and-volumes-in-a-delta-sharing-catalog">
<span id="manage-permissions-for-the-schemas-tables-and-volumes-in-a-ds-catalog"></span><span id="schema-table-permissions"></span><h3>Manage permissions for the schemas, tables, and volumes in a Delta Sharing catalog<a class="headerlink" href="#manage-permissions-for-the-schemas-tables-and-volumes-in-a-delta-sharing-catalog" title="Permalink to this headline"> </a></h3>
<p>By default, the catalog creator is the owner of all data objects under a Delta Sharing catalog and can manage permissions for any of them.</p>
<p>Privileges are inherited downward, although some workspaces may still be on the legacy security model that did not provide inheritance. See <a class="reference internal" href="../data-governance/unity-catalog/manage-privileges/privileges.html#inheritance-model"><span class="std std-ref">Inheritance model</span></a>. Any user granted the <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> privilege on the catalog will have the <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> privilege on all of the schemas and tables in the catalog unless that privilege is revoked. Likewise, any user granted the <code class="docutils literal notranslate"><span class="pre">READ</span> <span class="pre">VOLUME</span></code> privilege on the catalog will have the <code class="docutils literal notranslate"><span class="pre">READ</span> <span class="pre">VOLUME</span></code> privilege on all of the volumes in the catalog unless that privilege is revoked. You cannot grant privileges that give write or update access to a Delta Sharing catalog or objects in a Delta Sharing catalog.</p>
<p>The catalog owner can delegate the ownership of data objects to other users or groups, thereby granting those users the ability to manage the object permissions and life cycles.</p>
<p>For detailed information about managing privileges on data objects using Unity Catalog, see <a class="reference internal" href="../data-governance/unity-catalog/manage-privileges/index.html"><span class="doc">Manage privileges in Unity Catalog</span></a>.</p>
</div>
<div class="section" id="read-data-in-a-shared-table">
<h3>Read data in a shared table<a class="headerlink" href="#read-data-in-a-shared-table" title="Permalink to this headline"> </a></h3>
<p>You can read data in a shared table using any of the tools available to you as a Databricks user: Catalog Explorer, notebooks, SQL queries, the Databricks CLI, and Databricks REST APIs. You must have the <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> privilege on the table.</p>
</div>
<div class="section" id="read-data-in-a-shared-volume">
<span id="volumes"></span><h3>Read data in a shared volume<a class="headerlink" href="#read-data-in-a-shared-volume" title="Permalink to this headline"> </a></h3>
<p>You can read data in a shared volume using any of the tools available to you as a Databricks user: Catalog Explorer, notebooks, SQL queries, the Databricks CLI, and Databricks REST APIs. You must have the <code class="docutils literal notranslate"><span class="pre">READ</span> <span class="pre">VOLUME</span></code> privilege on the volume.</p>
</div>
<div class="section" id="query-a-tables-history-data">
<h3>Query a table’s history data<a class="headerlink" href="#query-a-tables-history-data" title="Permalink to this headline"> </a></h3>
<p>If history is shared along with the table, you can query the table data as of a version or timestamp. Requires Databricks Runtime 12.1 or above.</p>
<p>For example:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">vaccine</span><span class="p">.</span><span class="n">vaccine_us</span><span class="p">.</span><span class="n">vaccine_us_distribution</span><span class="w"> </span><span class="k">VERSION</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">OF</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">vaccine</span><span class="p">.</span><span class="n">vaccine_us</span><span class="p">.</span><span class="n">vaccine_us_distribution</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">OF</span><span class="w"> </span><span class="ss">&quot;2023-01-01 00:00:00&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>In addition, if the change data feed (CDF) is enabled with the table, you can query the CDF. Both version and timestamp are supported:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">table_changes</span><span class="p">(</span><span class="s1">&#39;vaccine.vaccine_us.vaccine_us_distribution&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">table_changes</span><span class="p">(</span><span class="s1">&#39;vaccine.vaccine_us.vaccine_us_distribution&#39;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;2023-01-01 00:00:00&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;2022-02-01 00:00:00&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>For more information about change data feed, see <a class="reference internal" href="../delta/delta-change-data-feed.html"><span class="doc">Use Delta Lake change data feed on Databricks</span></a>.</p>
</div>
<div class="section" id="query-a-table-using-apache-spark-structured-streaming">
<span id="query-a-table-using-as-ss"></span><span id="streaming-source"></span><h3>Query a table using Apache Spark Structured Streaming<a class="headerlink" href="#query-a-table-using-apache-spark-structured-streaming" title="Permalink to this headline"> </a></h3>
<p>If a table is shared with history, you can use it as the source for Spark Structured Streaming. Requires Databricks Runtime 12.1 or above.</p>
<p>Supported options:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ignoreDeletes</span></code>: Ignore transactions that delete data.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ignoreChanges</span></code>: Re-process updates if files were rewritten in the source table due to a data changing operation such as <code class="docutils literal notranslate"><span class="pre">UPDATE</span></code>, <code class="docutils literal notranslate"><span class="pre">MERGE</span> <span class="pre">INTO</span></code>, <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> (within partitions), or <code class="docutils literal notranslate"><span class="pre">OVERWRITE</span></code>. Unchanged rows can still be emitted. Therefore your downstream consumers should be able to handle duplicates. Deletes are not propagated downstream. <code class="docutils literal notranslate"><span class="pre">ignoreChanges</span></code> subsumes <code class="docutils literal notranslate"><span class="pre">ignoreDeletes</span></code>. Therefore, if you use <code class="docutils literal notranslate"><span class="pre">ignoreChanges</span></code>, your stream will not be disrupted by either deletions or updates to the source table.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">startingVersion</span></code>: The shared table version to start from. All table changes starting from this version (inclusive) will be read by the streaming source.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">startingTimestamp</span></code>: The timestamp to start from. All table changes committed at or after the timestamp (inclusive) will be read by the streaming source. Example: <code class="docutils literal notranslate"><span class="pre">&quot;2023-01-01</span> <span class="pre">00:00:00.0&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">maxFilesPerTrigger</span></code>: The number of new files to be considered in every micro-batch.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">maxBytesPerTrigger</span></code>: The amount of data that gets processed in each micro-batch. This option sets a “soft max”, meaning that a batch processes approximately this amount of data and might process more than the limit in order to make the streaming query move forward in cases when the smallest input unit is larger than this limit.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">readChangeFeed</span></code>: Stream read the change data feed of the shared table.</p></li>
</ul>
<p></p>
<p>Unsupported options:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Trigger.availableNow</span></code></p></li>
</ul>
<div class="section" id="sample-structured-streaming-queries">
<span id="sample-ss-queries"></span><h4>Sample Structured Streaming queries<a class="headerlink" href="#sample-structured-streaming-queries" title="Permalink to this headline"> </a></h4>
<div class="js-code-language-tabs js-code-language-tabs--literal compound">
<div class="compound-first highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">spark</span><span class="p">.</span><span class="n">readStream</span><span class="p">.</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;deltaSharing&quot;</span><span class="p">)</span>
<span class="p">.</span><span class="n">option</span><span class="p">(</span><span class="s">&quot;startingVersion&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="p">.</span><span class="n">option</span><span class="p">(</span><span class="s">&quot;ignoreChanges&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>
<span class="p">.</span><span class="n">option</span><span class="p">(</span><span class="s">&quot;maxFilesPerTrigger&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<span class="p">.</span><span class="n">table</span><span class="p">(</span><span class="s">&quot;vaccine.vaccine_us.vaccine_us_distribution&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="compound-last highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">spark</span><span class="o">.</span><span class="n">readStream</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;deltaSharing&quot;</span><span class="p">)</span>\
<span class="o">.</span><span class="n">option</span><span class="p">(</span><span class="s2">&quot;startingVersion&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>\
<span class="o">.</span><span class="n">option</span><span class="p">(</span><span class="s2">&quot;ignoreDeletes&quot;</span><span class="p">,</span> <span class="n">true</span><span class="p">)</span>\
<span class="o">.</span><span class="n">option</span><span class="p">(</span><span class="s2">&quot;maxBytesPerTrigger&quot;</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span>\
<span class="o">.</span><span class="n">table</span><span class="p">(</span><span class="s2">&quot;vaccine.vaccine_us.vaccine_us_distribution&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>If change data feed (CDF) is enabled with the table, you can stream read the CDF.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">spark</span><span class="p">.</span><span class="n">readStream</span><span class="p">.</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;deltaSharing&quot;</span><span class="p">)</span>
<span class="p">.</span><span class="n">option</span><span class="p">(</span><span class="s">&quot;readChangeFeed&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;true&quot;</span><span class="p">)</span>
<span class="p">.</span><span class="n">table</span><span class="p">(</span><span class="s">&quot;vaccine.vaccine_us.vaccine_us_distribution&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="read-shared-views">
<span id="views"></span><h2>Read shared views<a class="headerlink" href="#read-shared-views" title="Permalink to this headline"> </a></h2>
<div class="preview admonition">
<p class="admonition-title">Preview</p>
<p>This feature is in <a class="reference internal" href="../release-notes/release-types.html"><span class="doc">Public Preview</span></a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>View sharing is supported only in Databricks-to-Databricks sharing.</p>
</div>
<p>Reading shared views is the same as <a class="reference internal" href="#access-data"><span class="std std-ref">reading shared tables</span></a>, with these exceptions:</p>
<p><strong>Compute requirements:</strong></p>
<ul class="simple">
<li><p>If your Databricks account is different from the provider’s, you must use a <a class="reference internal" href="../compute/sql-warehouse/serverless.html"><span class="doc">Serverless SQL warehouse</span></a> to query shared views.</p></li>
<li><p>If the provider is on the same Databricks account, you can use any SQL warehouse and can also use a cluster that uses shared access mode.</p></li>
</ul>
<p><strong>View-on-view restrictions:</strong></p>
<p>You cannot create views that reference shared views.</p>
<p><strong>View sharing restrictions:</strong></p>
<p>You cannot share views that reference shared tables or shared views.</p>
<p><strong>Naming requirements:</strong></p>
<p>The catalog name that you use for the shared catalog that contains the view cannot be the same as any provider catalog that contains a table referenced by the view. For example, if the shared view is contained in your <code class="docutils literal notranslate"><span class="pre">test</span></code> catalog, and one of the provider’s tables referenced in that view is contained in the provider’s <code class="docutils literal notranslate"><span class="pre">test</span></code> catalog, the query will result in a namespace conflict error. See <a class="reference internal" href="#create-catalog"><span class="std std-ref">Create a catalog from a share</span></a>.</p>
<p><strong>History and streaming:</strong></p>
<p>You cannot query history or use a view as a streaming source.</p>
<p></p>
<p><strong>JDBC/ODBC:</strong></p>
<p>The instructions in this article focus on reading shared data using Databricks user interfaces, specifically Unity Catalog syntax and interfaces. You can also query shared views using Apache Spark, Python, and BI tools like Tableau and Power BI using Databricks JDBC/ODBC drivers. To learn how to connect using the Databricks JDBC/ODBC drivers, see <a class="reference internal" href="../integrations/jdbc-odbc-bi.html"><span class="doc">Configure the Databricks ODBC and JDBC drivers</span></a>.</p>
</div>
<div class="section" id="read-shared-notebooks">
<span id="preview-notebook-files"></span><h2>Read shared notebooks<a class="headerlink" href="#read-shared-notebooks" title="Permalink to this headline"> </a></h2>
<p>To preview and clone shared notebook files, you can use Catalog Explorer.</p>
<p><strong>Permissions required:</strong> Catalog owner or user with the <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> privilege on the catalog created from the share.</p>
<ol class="arabic">
<li><p>In your Databricks workspace, click <img alt="Catalog icon" src="../_images/data-icon.png" /> <strong>Catalog</strong>.</p></li>
<li><p>In the left pane, expand the <strong>Catalog</strong> menu, find and select the catalog created from the share.</p></li>
<li><p>On the <strong>Other assets</strong> tab, you’ll see any shared notebook files.</p></li>
<li><p>Click the name of a shared notebook file to preview it.</p></li>
<li><p>(Optional) Click the <strong>Clone</strong> button to import the shared notebook file to your workspace.</p>
<ol class="loweralpha simple">
<li><p>On the <strong>Clone to</strong> dialog, optionally enter a <strong>New name</strong>, then select the workspace folder you want to clone the notebook file to.</p></li>
<li><p>Click <strong>Clone</strong>.</p></li>
<li><p>Once the notebook is cloned, a dialog pops up to let you know that it successfully cloned. Click <strong>reveal in the notebook editor</strong> on the dialog to view it in the notebook editor.</p></li>
</ol>
<p>See <a class="reference internal" href="../notebooks/index.html"><span class="doc">Introduction to Databricks notebooks</span></a>.</p>
</li>
</ol>
</div>
</div>


    
          </div>
        </div>
        <div  class="suapp-rating">
  <div id="suPageRateApp">
     <su-app></su-app>
   </div> 
 </div>
<hr> 
<footer>
  <div role="contentinfo">
      <p class="copyright">
          &copy; Databricks 2023. All rights reserved. Apache, Apache Spark, Spark, and the Spark logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a>.
      </p>
      <p> 
        
          <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
        
     | <a href="https://databricks.com/privacy-policy">Privacy Policy</a> | <a href="https://databricks.com/terms-of-use">Terms of Use</a></p>

  </div> 

</footer>
      </div>
    </div>
  </section>
</main>

  </page>
  
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT: '../',
      VERSION: '1.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE: 'false'
    };
  </script>
  <script type="text/javascript" src="../_static/jquery.js"></script>
  <script type="text/javascript" src="../_static/underscore.js"></script>
  <script type="text/javascript" src="../_static/doctools.js"></script>
  <script type="text/javascript" src="../_static/language_data.js"></script>
  

  <script type="text/javascript" src="../_static/js/clipboard.min.js"></script>
  <script type="text/javascript" src="../_static/js/jquery.waypoints.min.js"></script>

  <!-- Select2 (https://select2.org/) -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <!-- End Select2 -->

  
  
  <script type="text/javascript" src="../_static/js/localized.js"></script>
  <script type="text/javascript" src="../_static/js/custom.js"></script>
  

  
  
  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.StickyNav.enable();
    });

  </script>
  
 



  <script>
  window.__searchunifyLoaderConfig = JSON.parse('{"clients": {"en": "02c2e804-27e9-11ee-aefb-0242ac120011", "ja": "6a42c3f2-2820-11ee-aefb-0242ac120011", "pt": "6a86badd-2821-11ee-aefb-0242ac120011"}}')
</script>
<script type="text/javascript" src="../_static/js/search-loader.js"></script>
</body>
<script type='text/javascript'>
  window.onload = function () {
    var description = document.querySelector('meta[name="description"]').getAttribute("content");
    let titleText = document.querySelector('h1').textContent;
    document.querySelector('meta[property="og:title"]').setAttribute("content", titleText);
    document.querySelector('meta[property="og:description"]').setAttribute("content", description);
    document.querySelector('meta[property="twitter:description"]').setAttribute("content", description);
  };
</script>

</html>