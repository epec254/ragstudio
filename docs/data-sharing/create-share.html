

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en-US" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en-US"> <!--<![endif]-->

<head>
  <!-- cookie consent -->
  
    <!-- Combined Onetrust and Rudderstack Implementation Scripts -->
    <!-- Onetrust Initialization -->
    <script type="text/javascript" src="https://cdn.cookielaw.org/consent/92466579-1717-44d3-809d-a05fb02843ed-test/OtAutoBlock.js"></script>
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="92466579-1717-44d3-809d-a05fb02843ed-test"></script>
    <link rel="stylesheet" id="db-onetrust-style" href="https://www.databricks.com/wp-content/uploads/db_onetrust.css" media="all" />
    <!-- Setting Rudderstack Write Key -->
    <script>window.rudderstackKey = "2SOR9fvSr5Fi6tN2ihPbVHnX1SZ" </script>
    <!-- Rudderstack Initialization + Onetrust Integration + Rudderstack Custom Events -->
    <script type="text/javascript" src="https://www.databricks.com/sites/default/files/rudderstack/v1/db-rudderstack-events.js"></script>

  <!-- cookie consent -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta content="Learn how to use Databricks to create and manage Delta Sharing shares, the objects that represent data to be shared securely with users outside your organization." name="description" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta property="og:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:title" content="Create and manage shares for Delta Sharing">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://docs.databricks.com">
  <meta property="og:description" content="" id="og-description">
  <meta name="twitter:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta name="twitter:site" content="@databricks">
  <meta name="twitter:creator" content="@databricks">
  <meta property="twitter:description" content="">
  
  <title>Create and manage shares for Delta Sharing &#124; Databricks on AWS</title>
  
  
  <link rel="canonical" href="https://docs.databricks.com/en/data-sharing/create-share.html">
  <!-- Start hreflang tag -->
  <link rel="alternate" hreflang="en" href="https://docs.databricks.com/en/data-sharing/create-share.html" />
<link rel="alternate" hreflang="x-default" href="https://docs.databricks.com/en/data-sharing/create-share.html" />
  <!-- End hreflang tag -->
  
  
  <link rel="shortcut icon" href="../_static/favicon.ico" />
  

  

  

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T85FQ33');</script>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWTKQQ');</script>
    
  <!-- End Google Tag Manager -->


  <!-- MaxMind / GEO IP -->
  <script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>
  <!-- End MaxMind / GEO IP -->

  
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600&display=swap" rel="stylesheet">
  <link rel="preload" href="../_static/fonts/DMSans-Bold.ttf" as="font">
  <link rel="preload" href="../_static/fonts/DMSans-Regular.ttf" as="font">
  <link rel="preload" href="../_static/fonts/DMMono-Regular.ttf" as="font">
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/cloud-provider-selector.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/translation-selector.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/searchunify/main.css" type="text/css" />

  
  <link rel="index" title="Index" href="../genindex.html" />
  <link rel="search" title="Search" href="../search.html" />
  <link rel="top" title="Databricks on AWS" href="../index.html" /> 
</head>

<body class="wy-body-for-nav" role="document">

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T85FQ33"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWTKQQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  
  <nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
    
<nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
  <div class="container-logo">
    <ul class="mobile-menu-toggle">
        <li class="menu-toggle">
            <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
            
            <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
              alt="Databricks" /></a>   
               
              </li>
    </ul>
    <ul class="su_nav-menu">
      <li class="menu-toggle">
        <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
        
          
        
        <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
            alt="Databricks" /></a></li>
        <!-- 
<li><a href="https://help.databricks.com/s/">Help Center</a></li>
<li class="active"><a href="https://docs.databricks.com/en/">Documentation</a></li>
<li><a href="https://kb.databricks.com/">Knowledge Base</a></li>
 -->
    </ul>
  </div>
  <div class="su_nav-right">
    <ul class="su_link-mobile">
  <!-- Mobile header code can go here -->
</ul>
<ul class="right-try-list">
   
</ul>
  </div>
</nav>
  </nav>

  <div class="su_sub-header">
    <div class="container">
      <div class="su_sub-header-inner">
        <!-- <div class="su_subnav-menu-right">
  <div id="auto" style="width: 100%;">
    <div ng-controller="SearchautoController">
      <div bind-html-compile="autocompleteHtml">
        <form class="su__search-box-1" disabled="disabled">
          <input class="su__search-input" type="search" name="Search box" id="su__search-b" placeholder="Search Documentation" disabled="disabled"/>
          <button class="su__search-button" type="submit" class="button button-success" disabled="disabled">
            <svg width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                fill="#333"></path>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>
</div> -->
        <div class="search-lng-gap"></div>
        <div style="margin-left: 16px; margin-right: 16px;">
          <!-- <select name="lng selector" id="lng-selector">
    <option value="../../en/data-sharing/create-share.html" class="notranslate">English</option>
    <option value="../../ja/data-sharing/create-share.html" class="notranslate">日本語</option>
    <option value="../../pt/data-sharing/create-share.html" class="notranslate">Português (Brasil)</option>
</select> -->
        </div>
        <div class="cloud-selector-container">
          <!-- <select name="cloud provider selector" id="cloud-provider-selector">
    <option value="aws" selected class="notranslate">
        Amazon Web Services
    </option>
    <option value="azure"  class="notranslate">
        Microsoft Azure
    </option>
    <option value="gcp"  class="notranslate">
        Google Cloud Platform
    </option>
</select> -->
        </div>
      </div>
    </div>
  </div>
  <page class="js-page-container">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side su_nav-side">
<div class="wy-side-scroll">
  <div class="wy-side-nav-search">
    

    

    

    
  </div>

  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      <a href="../index.html" class="main-navigation-home">Databricks on AWS</a>
    

    
      

      
        <p class="caption"><span class="caption-text">Load &amp; manage data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../rag-temp/index.html">RAG Studio</a></li>
</ul>

      
    
  </div>

  <div role="contentinfo">
    
  <p class="build_info notranslate"data-last-edit="December 23, 2023">
    Updated Jan 11, 2024
  </p>
<script>
  window.addEventListener('DOMContentLoaded',function(){
    var h1=document.querySelector('h1');
    var bi=document.querySelector('[data-last-edit]');
    if(h1 && bi){
      var ver = document.createElement('p');
      ver.className = 'version_info';
      ver.textContent = bi.getAttribute('data-last-edit');
      h1.parentElement.insertBefore(ver, h1.nextElementSibling);
    }
  });
</script>

    <p>
      
        <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
      
    </p>
  </div>
</div>
</nav>
    
    
<main class="wy-grid-for-nav su_nav-grid">
  <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
    <div class="wy-nav-content su__nav_content">
      <div class="rst-content">
        





<div role="navigation" aria-label="breadcrumbs navigation" class="wy-breadcrumbs-wrapper">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Documentation</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
    
      <li>Create and manage shares for Delta Sharing</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>
</div>
        
        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
          <div itemprop="articleBody">
            
    
  <div class="section" id="create-and-manage-shares-for-delta-sharing">
<span id="create-and-manage-shares-for-ds"></span><h1>Create and manage shares for Delta Sharing<a class="headerlink" href="#create-and-manage-shares-for-delta-sharing" title="Permalink to this headline"> </a></h1>
<p>This article explains how to create and manage shares for Delta Sharing.</p>
<p>A share is a securable object in Unity Catalog that you can use for sharing the following data assets with one or more recipients:</p>
<ul class="simple">
<li><p>Tables and table partitions</p></li>
<li><p>Views, including dynamic views that restrict access at the row and column level</p></li>
<li><p>Volumes</p></li>
<li><p>Notebooks</p></li>
</ul>
<p>If you share an entire schema (database), the recipient can access all of the tables, views, and volumes in the schema at the moment you share it, along with any tables, views, or volumes that are added to the schema in the future.</p>
<p>A share can contain data assets from only one Unity Catalog metastore. You can add or remove data assets from a share at any time.</p>
<p>For more information, see <a class="reference internal" href="index.html#shares-recipients"><span class="std std-ref">Shares, providers, and recipients</span></a>.</p>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline"> </a></h2>
<p>To create a share, you must:</p>
<ul class="simple">
<li><p>Be a metastore admin or have the <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">SHARE</span></code> privilege for the Unity Catalog metastore where the data you want to share is registered.</p></li>
<li><p>Create the share using a Databricks workspace that has that Unity Catalog metastore attached.</p></li>
</ul>
<p>To add tables or views to a share, you must:</p>
<ul class="simple">
<li><p>Be the share owner.</p></li>
<li><p>Have the <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SCHEMA</span></code> privilege on the catalog and schema that contain the table or view, or ownership of the catalog or schema.</p></li>
<li><p>Have the <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> privilege on the table or view. You must keep that privilege in order for the table or view to continue to be shared. If you lose it, the recipient cannot access the table or view through the share. Databricks therefore recommends that you use a group as the share owner.</p></li>
</ul>
<p>To add volumes to a share, you must:</p>
<ul class="simple">
<li><p>Be the share owner.</p></li>
<li><p>Have the <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SCHEMA</span></code> privilege on the catalog and schema that contain the volume, or ownership of the catalog or schema.</p></li>
<li><p>Have the <code class="docutils literal notranslate"><span class="pre">READ</span> <span class="pre">VOLUME</span></code> privilege on the volume. You must keep that privilege in order for the volume to continue to be shared. If you lose it, the recipient cannot access the volume through the share. Databricks therefore recommends that you use a group as the share owner.</p></li>
</ul>
<p>To share an entire schema, you must:</p>
<ul class="simple">
<li><p>Be the share owner and the schema owner, or have <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SCHEMA.</span></code></p></li>
<li><p>Have <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> on the schema to share tables.</p></li>
<li><p>Have <code class="docutils literal notranslate"><span class="pre">READ</span> <span class="pre">VOLUME</span></code> on the schema to share volumes.</p></li>
</ul>
<p>To add notebook files to a share, you must be:</p>
<ul class="simple">
<li><p>The share owner and have <strong>Can Read</strong> permission on the notebook.</p></li>
</ul>
<p>To grant recipient access to a share, you must be one of these:</p>
<ul class="simple">
<li><p>Metastore admin.</p></li>
<li><p>User with delegated permissions or ownership on both the share and the recipient objects ((<code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SHARE</span></code> + <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">SHARE</span> <span class="pre">PERMISSION</span></code>) or share owner) AND (<code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">RECIPIENT</span></code> or recipient owner).</p></li>
</ul>
<p>To view shares, you must be one of these:</p>
<ul class="simple">
<li><p>A metastore admin (can view all)</p></li>
<li><p>A user with the <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SHARE</span></code> privilege (can view all)</p></li>
<li><p>The share object owner</p></li>
</ul>
<p>Compute requirements:</p>
<ul class="simple">
<li><p>If you use a Databricks notebook to create the share, your cluster must use Databricks Runtime 11.3 LTS or above and the shared or single-user cluster access mode.</p></li>
<li><p>If you use SQL statements to add a schema to a share (or update or remove a schema), you must use a SQL warehouse on SQL compute version 2023.35 or above, or a cluster running Databricks Runtime 13.2 or above. Doing the same using Catalog Explorer has no compute requirements.</p></li>
</ul>
</div>
<div class="section" id="create-a-share-object">
<h2>Create a share object<a class="headerlink" href="#create-a-share-object" title="Permalink to this headline"> </a></h2>
<p>To create a share, you can use Catalog Explorer, the Databricks Unity Catalog CLI, or the <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">SHARE</span></code> SQL command in a Databricks notebook or the Databricks SQL query editor.</p>
<p><strong>Permissions required</strong>: Metastore admin or user with the <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">SHARE</span></code> privilege for the metastore.</p>
<div class="js-code-language-tabs compound">
<div class="compound-first compound" lang="Catalog&amp;nbsp;Explorer">
<ol class="arabic simple">
<li><p>In your Databricks workspace, click <img alt="Catalog icon" src="../_images/data-icon.png" /> <strong>Catalog</strong>.</p></li>
<li><p>In the left pane, expand the <strong>Delta Sharing</strong> menu and select <strong>Shared by me</strong>.</p></li>
<li><p>Click <strong>Share data</strong>.</p></li>
<li><p>Enter the share <strong>Name</strong> and an optional comment.</p></li>
</ol>
</div>
<div class="compound-middle compound" lang="SQL">
<p class="compound-first">Run the following command in a notebook or the Databricks SQL query editor:</p>
<div class="compound-last highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">SHARE</span><span class="w"> </span><span class="p">[</span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="k">share</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span>
<span class="p">[</span><span class="k">COMMENT</span><span class="w"> </span><span class="ss">&quot;&lt;comment&gt;&quot;</span><span class="p">];</span>
</pre></div>
</div>
</div>
<div class="compound-last compound" lang="CLI">
<p class="compound-first">Run the following command using the <a class="reference internal" href="../dev-tools/cli/index.html"><span class="doc">Databricks CLI</span></a>.</p>
<div class="compound-middle highlight-bash notranslate"><div class="highlight"><pre><span></span>databricks<span class="w"> </span>shares<span class="w"> </span>create<span class="w"> </span>&lt;share-name&gt;
</pre></div>
</div>
<p class="compound-last">You can use <code class="docutils literal notranslate"><span class="pre">--comment</span></code> to add a comment or <code class="docutils literal notranslate"><span class="pre">--json</span></code> to add assets to the share. For details, see the sections that follow.</p>
</div>
</div>
</div>
<div class="section" id="add-tables-to-a-share">
<span id="add-tables"></span><h2>Add tables to a share<a class="headerlink" href="#add-tables-to-a-share" title="Permalink to this headline"> </a></h2>
<p>To add tables to a share, you can use Catalog Explorer, the Databricks Unity Catalog CLI, or SQL commands in a Databricks notebook or the Databricks SQL query editor.</p>
<p><strong>Permissions required</strong>: Owner of the share object, <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SCHEMA</span></code> on the catalog and schema that contain the table, and the <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> privilege on the table. You must maintain the <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> privilege for as long as you want to share the table. For more information, see <a class="reference internal" href="#requirements"><span class="std std-ref">Requirements</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are a workspace admin and you inherited the <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SCHEMA</span></code> and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> permissions on the schema and catalog that contain the table from the workspace admin group, then you cannot add the table to a share. You must first grant yourself the <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SCHEMA</span></code> and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> permissions on the schema and catalog.</p>
</div>
<div class="js-code-language-tabs compound">
<div class="compound-first compound" lang="Catalog&amp;nbsp;Explorer">
<ol class="arabic">
<li><p>In your Databricks workspace, click <img alt="Catalog icon" src="../_images/data-icon.png" /> <strong>Catalog</strong>.</p></li>
<li><p>In the left pane, expand the <strong>Delta Sharing</strong> menu and select <strong>Shared by me</strong>.</p></li>
<li><p>On the <strong>Shares</strong> tab, find the share you want to add a table to and click its name.</p></li>
<li><p>Click <strong>Manage assets &gt; Add data assets</strong>.</p></li>
<li><p>On the <strong>Add tables</strong> page, select either an entire schema (database) or individual tables and views.</p>
<ul>
<li><p>To select a table or view, first select the catalog, then the schema that contains the table or view, then the table or view itself.</p>
<p>You can search for tables by name, column name, or comment using workspace search. See <a class="reference internal" href="../search/index.html"><span class="doc">Search for workspace objects</span></a>.</p>
</li>
<li><p>To select a schema, first select the catalog and then the schema.</p>
<p>For detailed information about sharing schemas, see <a class="reference internal" href="#schemas"><span class="std std-ref">Add schemas to a share</span></a>.</p>
</li>
</ul>
</li>
<li><p>(Optional) Click <strong>Advanced table options</strong> to specify the following options. Alias and partitions are not available if you select an entire schema. Table history is included by default if you select an entire schema.</p>
<ul>
<li><p><strong>Alias</strong>: An alternate table name to make the table name more readable. The alias is the table name that the recipient sees and must use in queries. Recipients cannot use the actual table name if an alias is specified.</p></li>
<li><p><strong>Partition</strong>: Share only part of the table. For example, <code class="docutils literal notranslate"><span class="pre">(column</span> <span class="pre">=</span> <span class="pre">'value')</span></code>.  See <a class="reference internal" href="#partitions"><span class="std std-ref">Specify table partitions to share</span></a> and <a class="reference internal" href="#properties"><span class="std std-ref">Use recipient properties to do partition filtering</span></a>.</p></li>
<li><p><strong>History Sharing</strong>: Share the table history to allow recipients to perform time travel queries or read the table with Spark Structured Streaming. Requires Databricks Runtime 12.1 or above.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If, in addition to doing time travel queries and streaming reads, you want your customers to be able to query a table’s change data feed (CDF) using the <a class="reference internal" href="../sql/language-manual/functions/table_changes.html"><span class="doc">table_changes() function</span></a>, you must <a class="reference internal" href="../delta/delta-change-data-feed.html#enable"><span class="std std-ref">enable CDF on the table</span></a> before you share it <code class="docutils literal notranslate"><span class="pre">WITH</span> <span class="pre">HISTORY</span></code>.</p>
</div>
</li>
</ul>
</li>
<li><p>Click <strong>Save</strong>.</p></li>
</ol>
</div>
<div class="compound-middle compound" lang="SQL">
<p class="compound-first">Run the following command in a notebook or the Databricks SQL query editor to add a table:</p>
<div class="compound-middle highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">SHARE</span><span class="w"> </span><span class="o">&lt;</span><span class="k">share</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">&lt;</span><span class="k">catalog</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="k">schema</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="k">table</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="w">  </span><span class="p">[</span><span class="k">COMMENT</span><span class="w"> </span><span class="ss">&quot;&lt;comment&gt;&quot;</span><span class="p">]</span>
<span class="w">   </span><span class="p">[</span><span class="n">PARTITION</span><span class="p">(</span><span class="o">&lt;</span><span class="n">clause</span><span class="o">&gt;</span><span class="p">)]</span><span class="w"> </span><span class="p">[</span><span class="k">AS</span><span class="w"> </span><span class="o">&lt;</span><span class="k">alias</span><span class="o">&gt;</span><span class="p">]</span>
<span class="w">   </span><span class="p">[</span><span class="k">WITH</span><span class="w"> </span><span class="n">HISTORY</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">WITHOUT</span><span class="w"> </span><span class="n">HISTORY</span><span class="p">];</span>
</pre></div>
</div>
<p class="compound-middle">Run the following to add an entire schema. The <code class="docutils literal notranslate"><span class="pre">ADD</span> <span class="pre">SCHEMA</span></code> command requires a SQL warehouse on SQL compute version 2023.35 or above, or a cluster running Databricks Runtime 13.2 or above. For detailed information about sharing schemas, see <a class="reference internal" href="#schemas"><span class="std std-ref">Add schemas to a share</span></a>.</p>
<div class="compound-middle highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">SHARE</span><span class="w"> </span><span class="o">&lt;</span><span class="k">share</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">SCHEMA</span><span class="w"> </span><span class="o">&lt;</span><span class="k">catalog</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="k">schema</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span>
<span class="p">[</span><span class="k">COMMENT</span><span class="w"> </span><span class="ss">&quot;&lt;comment&gt;&quot;</span><span class="p">];</span>
</pre></div>
</div>
<p class="compound-middle">Options include the following. <code class="docutils literal notranslate"><span class="pre">PARTITION</span></code> and <code class="docutils literal notranslate"><span class="pre">AS</span> <span class="pre">&lt;alias&gt;</span></code> are not available if you select an entire schema. <code class="docutils literal notranslate"><span class="pre">WITH</span> <span class="pre">HISTORY</span></code> is selected by default for all tables if you select an entire schema.</p>
<ul class="compound-middle">
<li><p><code class="docutils literal notranslate"><span class="pre">PARTITION(&lt;clause&gt;)</span></code>: If you want to share only part of the table, you can specify a partition. For example, <code class="docutils literal notranslate"><span class="pre">(column</span> <span class="pre">=</span> <span class="pre">'value')</span></code>  See <a class="reference internal" href="#partitions"><span class="std std-ref">Specify table partitions to share</span></a> and <a class="reference internal" href="#properties"><span class="std std-ref">Use recipient properties to do partition filtering</span></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AS</span> <span class="pre">&lt;alias&gt;</span></code>: An alternate table name, or <strong>Alias</strong> to make the table name more readable. The alias is the table name that the recipient sees and must use in queries. Recipients cannot use the actual table name if an alias is specified. Use the format <code class="docutils literal notranslate"><span class="pre">&lt;schema-name&gt;.&lt;table-name&gt;</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">WITH</span> <span class="pre">HISTORY</span></code> or <code class="docutils literal notranslate"><span class="pre">WITHOUT</span> <span class="pre">HISTORY</span></code>: When <code class="docutils literal notranslate"><span class="pre">WITH</span> <span class="pre">HISTORY</span></code> is specified, share the table with full history, allowing recipients to perform time travel queries and streaming reads. The default behavior for table sharing is <code class="docutils literal notranslate"><span class="pre">WITHOUT</span> <span class="pre">HISTORY</span></code> and for schema sharing is <code class="docutils literal notranslate"><span class="pre">WITH</span> <span class="pre">HISTORY</span></code>. Requires Databricks Runtime 12.1 or above.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If, in addition to doing time travel queries and streaming reads, you want your customers to be able to query a table’s change data feed (CDF) using the <a class="reference internal" href="../sql/language-manual/functions/table_changes.html"><span class="doc">table_changes() function</span></a>, you must <a class="reference internal" href="../delta/delta-change-data-feed.html#enable"><span class="std std-ref">enable CDF on the table</span></a> before you share it <code class="docutils literal notranslate"><span class="pre">WITH</span> <span class="pre">HISTORY</span></code>.</p>
</div>
</li>
</ul>
<p class="compound-last">For more information about <code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">SHARE</span></code> options, see <a class="reference internal" href="../sql/language-manual/sql-ref-syntax-ddl-alter-share.html"><span class="doc">ALTER SHARE</span></a>.</p>
</div>
<div class="compound-last compound" lang="CLI">
<p class="compound-first">To add a table, run the following command using the <a class="reference internal" href="../dev-tools/cli/index.html"><span class="doc">Databricks CLI</span></a>.</p>
<div class="compound-middle highlight-bash notranslate"><div class="highlight"><pre><span></span>databricks<span class="w"> </span>shares<span class="w"> </span>update<span class="w"> </span>&lt;share-name&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--json<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;updates&quot;: [</span>
<span class="s1">      {</span>
<span class="s1">        &quot;action&quot;: &quot;ADD&quot;,</span>
<span class="s1">        &quot;data_object&quot;: {</span>
<span class="s1">          &quot;name&quot;: &quot;&lt;table-full-name&gt;&quot;,</span>
<span class="s1">          &quot;data_object_type&quot;: &quot;TABLE&quot;,</span>
<span class="s1">          &quot;shared_as&quot;: &quot;&lt;table-alias&gt;&quot;</span>
<span class="s1">        }</span>
<span class="s1">      }</span>
<span class="s1">    ]</span>
<span class="s1">  }&#39;</span>
</pre></div>
</div>
<p class="compound-middle">To add a schema, run the following Databricks CLI command:</p>
<div class="compound-middle highlight-bash notranslate"><div class="highlight"><pre><span></span>databricks<span class="w"> </span>shares<span class="w"> </span>update<span class="w"> </span>&lt;share-name&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--json<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;updates&quot;: [</span>
<span class="s1">      {</span>
<span class="s1">        &quot;action&quot;: &quot;ADD&quot;,</span>
<span class="s1">        &quot;data_object&quot;: {</span>
<span class="s1">          &quot;name&quot;: &quot;&lt;schema-full-name&gt;&quot;,</span>
<span class="s1">          &quot;data_object_type&quot;: &quot;SCHEMA&quot;</span>
<span class="s1">        }</span>
<span class="s1">      }</span>
<span class="s1">    ]</span>
<span class="s1">  }&#39;</span>
</pre></div>
</div>
<div class="compound-middle admonition note">
<p class="admonition-title">Note</p>
<p>For tables, and only tables, you can omit <code class="docutils literal notranslate"><span class="pre">&quot;data_object_type&quot;</span></code>.</p>
</div>
<p class="compound-middle">To learn about the options listed in this example, view the instructions on the SQL tab.</p>
<p class="compound-last">To learn about additional parameters, run <code class="docutils literal notranslate"><span class="pre">databricks</span> <span class="pre">shares</span> <span class="pre">update</span> <span class="pre">--help</span></code> or see <a class="reference external" href="https://docs.databricks.com/api/workspace/shares/update">PATCH /api/2.1/unity-catalog/shares/</a> in the REST API reference.</p>
</div>
</div>
<p>For information about removing tables from a share, see <a class="reference internal" href="#update"><span class="std std-ref">Update shares</span></a>.</p>
<div class="section" id="specify-table-partitions-to-share">
<span id="partitions"></span><h3>Specify table partitions to share<a class="headerlink" href="#specify-table-partitions-to-share" title="Permalink to this headline"> </a></h3>
<p>To share only part of a table when you add the table to a share, you can provide a partition specification. You can specify partitions when you add a table to a share or update a share, using Catalog Explorer, the Databricks Unity Catalog CLI, or SQL commands in a Databricks notebook or the Databricks SQL query editor. See <a class="reference internal" href="#add-tables"><span class="std std-ref">Add tables to a share</span></a> and <a class="reference internal" href="#update"><span class="std std-ref">Update shares</span></a>.</p>
<div class="section" id="basic-example">
<h4>Basic example<a class="headerlink" href="#basic-example" title="Permalink to this headline"> </a></h4>
<p>The following SQL example shares part of the data in the <code class="docutils literal notranslate"><span class="pre">inventory</span></code> table, partitioned by the <code class="docutils literal notranslate"><span class="pre">year</span></code>, <code class="docutils literal notranslate"><span class="pre">month</span></code>, and <code class="docutils literal notranslate"><span class="pre">date</span></code> columns:</p>
<ul class="simple">
<li><p>Data for the year 2021.</p></li>
<li><p>Data for December 2020.</p></li>
<li><p>Data for December 25, 2019.</p></li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">SHARE</span><span class="w"> </span><span class="n">share_name</span>
<span class="k">ADD</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">inventory</span>
<span class="n">PARTITION</span><span class="w"> </span><span class="p">(</span><span class="k">year</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;2021&quot;</span><span class="p">),</span>
<span class="w">          </span><span class="p">(</span><span class="k">year</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;2020&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">month</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;Dec&quot;</span><span class="p">),</span>
<span class="w">          </span><span class="p">(</span><span class="k">year</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;2019&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">month</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;Dec&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">date</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;2019-12-25&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="use-recipient-properties-to-do-partition-filtering">
<span id="properties"></span><h4>Use recipient properties to do partition filtering<a class="headerlink" href="#use-recipient-properties-to-do-partition-filtering" title="Permalink to this headline"> </a></h4>
<p>You can share a table partition that matches <a class="reference internal" href="create-recipient.html#properties"><span class="std std-ref">data recipient properties</span></a>, also known as parameterized partition sharing.</p>
<p>Default properties include:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">databricks.accountId</span></code>: The Databricks account that a data recipient belongs to (Databricks-to-Databricks sharing only).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">databricks.metastoreId</span></code>: The Unity Catalog metastore that a data recipient belongs to (Databricks-to-Databricks sharing only).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">databricks.name</span></code>: The name of the data recipient.</p></li>
</ul>
<p>You can create any custom property you like when you create or update a recipient.</p>
<p>Filtering by recipient property enables you to share the same tables, using the same share, across multiple Databricks accounts, workspaces, and users while maintaining data boundaries between them.</p>
<p>For example, if your tables include a Databricks account ID column, you can create a single share with table partitions defined by Databricks account ID. When you share, Delta Sharing dynamically delivers to each recipient only the data associated with their Databricks account.</p>
<div class="figure align-default">
<img alt="Diagram of parameter-based dynamic partition sharing in Delta Sharing" src="../_images/parameterized-partitions.png" />
</div>
<p>Without the ability to dynamically partition by property, you would have to create a separate share for each recipient.</p>
<p></p>
<p>To specify a partition that filters by recipient properties when you create or update a share, you can use Catalog Explorer or the <code class="docutils literal notranslate"><span class="pre">CURRENT_RECPIENT</span></code> SQL function in a Databricks notebook or the Databricks SQL query editor:</p>
<p></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Recipient properties are available on Databricks Runtime 12.2 and above.</p>
</div>
<div class="js-code-language-tabs compound">
<div class="compound-first compound" lang="Catalog&amp;nbsp;Explorer">
<ol class="arabic">
<li><p>In your Databricks workspace, click <img alt="Catalog icon" src="../_images/data-icon.png" /> <strong>Catalog</strong>.</p></li>
<li><p>In the left pane, expand the <strong>Delta Sharing</strong> menu and select <strong>Shared by me</strong>.</p></li>
<li><p>On the <strong>Shares</strong> tab, find the share you want to update and click its name.</p></li>
<li><p>Click <strong>Manage assets &gt; Add data assets</strong>.</p></li>
<li><p>On the <strong>Add tables</strong> page, select the catalog and database that contain the table, then select the table.</p>
<p>If you aren’t sure which catalog and database contain the table, you can search for it by name, column name, or comment using workspace search. See <a class="reference internal" href="../search/index.html"><span class="doc">Search for workspace objects</span></a>.</p>
</li>
<li><p>(Optional) Click <strong>Advanced table options</strong> to add <strong>Partition</strong> specifications.</p>
<p>On the <strong>Add partition to a table</strong> dialog, add the property-based partition specification using the following syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">&lt;</span><span class="n">column</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">CURRENT_RECIPIENT</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">property</span><span class="o">-</span><span class="n">key</span><span class="o">&gt;</span><span class="p">))</span>
</pre></div>
</div>
<p>For example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">country</span> <span class="o">=</span> <span class="n">CURRENT_RECIPIENT</span><span class="p">(</span><span class="s1">&#39;country&#39;</span><span class="p">))</span>
</pre></div>
</div>
</li>
<li><p>Click <strong>Save</strong>.</p></li>
</ol>
</div>
<div class="compound-last compound" lang="SQL">
<p class="compound-first">Run the following command in a notebook or the Databricks SQL query editor:</p>
<div class="compound-middle highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">SHARE</span><span class="w"> </span><span class="o">&lt;</span><span class="k">share</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">&lt;</span><span class="k">catalog</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="k">schema</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="k">table</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span>
<span class="w">   </span><span class="n">PARTITION</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;</span><span class="k">column</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CURRENT_RECIPIENT</span><span class="p">(</span><span class="o">&lt;</span><span class="n">property</span><span class="o">-</span><span class="k">key</span><span class="o">&gt;</span><span class="p">);</span>
</pre></div>
</div>
<p class="compound-middle">For example,</p>
<div class="compound-last highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">SHARE</span><span class="w"> </span><span class="n">acme</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">acme</span><span class="p">.</span><span class="k">default</span><span class="p">.</span><span class="n">some_table</span>
<span class="w">  </span><span class="n">PARTITION</span><span class="w"> </span><span class="p">(</span><span class="n">country</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CURRENT_RECIPIENT</span><span class="p">(</span><span class="s1">&#39;country&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p></p>
</div>
</div>
</div>
<div class="section" id="add-views-to-a-share">
<span id="views"></span><h2>Add views to a share<a class="headerlink" href="#add-views-to-a-share" title="Permalink to this headline"> </a></h2>
<div class="preview admonition">
<p class="admonition-title">Preview</p>
<p>This feature is in <a class="reference internal" href="../release-notes/release-types.html"><span class="doc">Public Preview</span></a>.</p>
</div>
<p>Views are read-only objects created from one or more tables or other views. A view can be created from tables and other views that are contained in multiple schemas and catalogs in a Unity Catalog metastore. See <a class="reference internal" href="../data-governance/unity-catalog/create-views.html"><span class="doc">Create views</span></a>.</p>
<p>This section describes how to add views to a share using Catalog Explorer, Databricks CLI, or SQL commands in a Databricks notebook or the Databricks SQL query editor. If you prefer to use the Unity Catalog REST API, see <a class="reference external" href="https://docs.databricks.com/api/workspace/shares/update">PATCH /api/2.1/unity-catalog/shares/</a> in the REST API reference.</p>
<p><strong>Permissions required</strong>: Owner of the share object, <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SCHEMA</span></code> on the catalog and schema that contain the view, and <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> on the view. You must maintain the <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> privilege for as long as you want to share the view. For more information, see <a class="reference internal" href="#requirements"><span class="std std-ref">Requirements</span></a>.</p>
<p><strong>Additional requirements</strong>:</p>
<ul class="simple">
<li><p>View sharing is supported only in Databricks-to-Databricks sharing.</p></li>
<li><p>Shareable views must be defined on Delta tables or other shareable views.</p></li>
<li><p>You cannot share views that reference shared tables or shared views.</p></li>
<li><p>You must use a SQL warehouse or a cluster on Databricks Runtime 13.1 or above when you add a view to a share.</p></li>
<li><p>For requirements and limitations on recipient usage of views, see <a class="reference internal" href="read-data-databricks.html#views"><span class="std std-ref">Read shared views</span></a>.</p></li>
</ul>
<p>To add views to a share:</p>
<div class="js-code-language-tabs compound">
<div class="compound-first compound" lang="Catalog&amp;nbsp;Explorer">
<ol class="arabic simple">
<li><p>In your Databricks workspace, click <img alt="Catalog icon" src="../_images/data-icon.png" /> <strong>Catalog</strong>.</p></li>
<li><p>In the left pane, expand the <strong>Delta Sharing</strong> menu and select <strong>Shared by me</strong>.</p></li>
<li><p>On the <strong>Shares</strong> tab, find the share you want to add a view to and click its name.</p></li>
<li><p>Click <strong>Manage assets &gt; Add data assets</strong>.</p></li>
<li><p>On the <strong>Add tables</strong> page, search or browse for the view that you want to share and select it.</p></li>
<li><p>(Optional) Click <strong>Advanced table options</strong> to specify an <strong>Alias</strong>, or alternate view name, to make the view name more readable. The alias is the name that the recipient sees and must use in queries. Recipients cannot use the actual view name if an alias is specified.</p></li>
<li><p>Click <strong>Save</strong>.</p></li>
</ol>
</div>
<div class="compound-middle compound" lang="SQL">
<p class="compound-first">Run the following command in a notebook or the Databricks SQL query editor:</p>
<div class="compound-middle highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">SHARE</span><span class="w"> </span><span class="o">&lt;</span><span class="k">share</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="o">&lt;</span><span class="k">catalog</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="k">schema</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="k">view</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span>
<span class="w">   </span><span class="p">[</span><span class="k">COMMENT</span><span class="w"> </span><span class="ss">&quot;&lt;comment&gt;&quot;</span><span class="p">]</span>
<span class="w">   </span><span class="p">[</span><span class="k">AS</span><span class="w"> </span><span class="o">&lt;</span><span class="k">alias</span><span class="o">&gt;</span><span class="p">];</span>
</pre></div>
</div>
<p class="compound-middle">Options include:</p>
<ul class="compound-middle simple">
<li><p><code class="docutils literal notranslate"><span class="pre">AS</span> <span class="pre">&lt;alias&gt;</span></code>: An alternate view name, or alias, to make the view name more readable. The alias is the view name that the recipient sees and must use in queries. Recipients cannot use the actual view name if an alias is specified. Use the format <code class="docutils literal notranslate"><span class="pre">&lt;schema-name&gt;.&lt;view-name&gt;</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">COMMENT</span> <span class="pre">&quot;&lt;comment&gt;&quot;</span></code>: Comments appear in the Catalog Explorer UI and when you list and display view details using SQL statements.</p></li>
</ul>
<p class="compound-last">For more information about <code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">SHARE</span></code> options, see <a class="reference internal" href="../sql/language-manual/sql-ref-syntax-ddl-alter-share.html"><span class="doc">ALTER SHARE</span></a>.</p>
</div>
<div class="compound-last compound" lang="CLI">
<p class="compound-first">Run the following Databricks CLI command:</p>
<div class="compound-middle highlight-bash notranslate"><div class="highlight"><pre><span></span>databricks<span class="w"> </span>shares<span class="w"> </span>update<span class="w"> </span>&lt;share-name&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--json<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;updates&quot;: [</span>
<span class="s1">      {</span>
<span class="s1">        &quot;action&quot;: &quot;ADD&quot;,</span>
<span class="s1">        &quot;data_object&quot;: {</span>
<span class="s1">          &quot;name&quot;: &quot;&lt;view-full-name&gt;&quot;,</span>
<span class="s1">          &quot;data_object_type&quot;: &quot;VIEW&quot;,</span>
<span class="s1">          &quot;shared_as&quot;: &quot;&lt;view-alias&gt;&quot;</span>
<span class="s1">        }</span>
<span class="s1">      }</span>
<span class="s1">    ]</span>
<span class="s1">  }&#39;</span>
</pre></div>
</div>
<p class="compound-middle"><code class="docutils literal notranslate"><span class="pre">&quot;shared_as&quot;:</span> <span class="pre">&quot;&lt;view-alias&gt;&quot;</span></code> is optional and provides an alternate view name, or alias, to make the view name more readable. The alias is the view name that the recipient sees and must use in queries. Recipients cannot use the actual view name if an alias is specified. Use the format <code class="docutils literal notranslate"><span class="pre">&lt;schema-name&gt;.&lt;view-name&gt;</span></code>.</p>
<p class="compound-last">To learn about additional parameters, run <code class="docutils literal notranslate"><span class="pre">databricks</span> <span class="pre">shares</span> <span class="pre">update</span> <span class="pre">--help</span></code> or see <a class="reference external" href="https://docs.databricks.com/api/workspace/shares/update">PATCH /api/2.1/unity-catalog/shares/</a> in the REST API reference.</p>
</div>
</div>
<p>For information about removing views from a share, see <a class="reference internal" href="#update"><span class="std std-ref">Update shares</span></a>.</p>
</div>
<div class="section" id="add-dynamic-views-to-a-share-to-filter-rows-and-columns">
<span id="dynamic-views"></span><h2>Add dynamic views to a share to filter rows and columns<a class="headerlink" href="#add-dynamic-views-to-a-share-to-filter-rows-and-columns" title="Permalink to this headline"> </a></h2>
<div class="preview admonition">
<p class="admonition-title">Preview</p>
<p>This feature is in <a class="reference internal" href="../release-notes/release-types.html"><span class="doc">Public Preview</span></a>.</p>
</div>
<p>You can use dynamic views to configure fine-grained access control to table data, including:</p>
<ul class="simple">
<li><p>Security at the level of columns or rows.</p></li>
<li><p>Data masking.</p></li>
</ul>
<p>When you create a dynamic view that uses the <a class="reference internal" href="../sql/language-manual/functions/current_recipient.html"><span class="doc">CURRENT_RECIPIENT() function</span></a>, you can limit recipient access according to properties that you specify in the recipient definition.</p>
<p>This section provides examples of restricting recipient access to table data at both the row and column level using a dynamic view.</p>
<div class="section" id="requirements">
<span id="requirements-1"></span><h3>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline"> </a></h3>
<ul class="simple">
<li><p><strong>Databricks Runtime version</strong>: The <code class="docutils literal notranslate"><span class="pre">CURRENT_RECIPIENT</span></code> function is supported in Databricks Runtime 14.2 and above.</p></li>
<li><p><strong>Permissions</strong>:</p>
<ul>
<li><p>To create a view, you must be the owner of the share object, have <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SCHEMA</span></code> on the catalog and schema that contain the view, along with <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> on the view. You must maintain the <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> privilege for as long as you want to share the view.</p></li>
<li><p>To set properties on a recipient, you must be the owner of the recipient object.</p></li>
</ul>
</li>
<li><p><strong>Limitations</strong>: All limitations for <a class="reference internal" href="#views"><span class="std std-ref">view sharing</span></a>, including restriction to Databricks-to-Databricks sharing, plus the following:</p>
<ul>
<li><p>When a provider shares a view that uses the <code class="docutils literal notranslate"><span class="pre">CURRENT_RECIPIENT</span></code> function, the provider can’t query the view directly because of the sharing context. To test such a dynamic view, the provider must share the view with themselves and query the view as a recipient.</p></li>
<li><p>Providers cannot create a view that references a dynamic view.</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="set-a-recipient-property">
<h3>Set a recipient property<a class="headerlink" href="#set-a-recipient-property" title="Permalink to this headline"> </a></h3>
<p>In these examples, the table to be shared has a column named <code class="docutils literal notranslate"><span class="pre">country</span></code>, and only recipients with a matching <code class="docutils literal notranslate"><span class="pre">country</span></code> property can view certain rows or columns.</p>
<p>You can set recipient properties using Catalog Explorer or SQL commands in a Databricks notebook or the SQL query editor.</p>
<div class="js-code-language-tabs compound">
<div class="compound-first compound" lang="Catalog&amp;nbsp;Explorer">
<ol class="arabic simple">
<li><p>In your Databricks workspace, click <img alt="Catalog icon" src="../_images/data-icon.png" /> <strong>Catalog</strong>.</p></li>
<li><p>In the left pane, expand the <strong>Delta Sharing</strong> menu and select <strong>Shared by me</strong>.</p></li>
<li><p>On the <strong>Recipients</strong> tab, find the recipient you want to add the properties to and click its name.</p></li>
<li><p>Click <strong>Edit properties</strong>.</p></li>
<li><p>On the <strong>Edit recipient properties</strong> dialog, enter the column name as a key (in this case <code class="docutils literal notranslate"><span class="pre">country</span></code>) and the value you want to filter by as the value (for example, <code class="docutils literal notranslate"><span class="pre">CA</span></code>).</p></li>
<li><p>Click <strong>Save</strong>.</p></li>
</ol>
</div>
<div class="compound-last compound" lang="SQL">
<p class="compound-first">To set the property on the recipient, use <code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">RECIPIENT</span></code>. In this example, the <code class="docutils literal notranslate"><span class="pre">country</span></code> property is set to <code class="docutils literal notranslate"><span class="pre">CA</span></code>.</p>
<div class="compound-last highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="n">RECIPIENT</span><span class="w"> </span><span class="n">recipient1</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">PROPERTIES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;country&#39;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;CA&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="create-a-dynamic-view-with-row-level-permission-for-recipients">
<h3>Create a dynamic view with row-level permission for recipients<a class="headerlink" href="#create-a-dynamic-view-with-row-level-permission-for-recipients" title="Permalink to this headline"> </a></h3>
<p>In this example, only recipients with a matching <code class="docutils literal notranslate"><span class="pre">country</span></code> property can view certain rows.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="n">my_catalog</span><span class="p">.</span><span class="k">default</span><span class="p">.</span><span class="n">view1</span><span class="w"> </span><span class="k">AS</span>
<span class="w">  </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">my_catalog</span><span class="p">.</span><span class="k">default</span><span class="p">.</span><span class="n">my_table</span>
<span class="w">  </span><span class="k">WHERE</span><span class="w"> </span><span class="n">country</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CURRENT_RECIPIENT</span><span class="p">(</span><span class="s1">&#39;country&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Another option is for the data provider to maintain a separate mapping table that maps fact table fields to recipient properties, allowing recipient properties and fact table fields to be decoupled for greater flexiblity.</p>
</div>
<div class="section" id="create-a-dynamic-view-with-column-level-permission-for-recipients">
<h3>Create a dynamic view with column-level permission for recipients<a class="headerlink" href="#create-a-dynamic-view-with-column-level-permission-for-recipients" title="Permalink to this headline"> </a></h3>
<p>In this example, only recipients that match the <code class="docutils literal notranslate"><span class="pre">country</span></code> property can view certain columns. Others see the data returned as <code class="docutils literal notranslate"><span class="pre">REDACTED</span></code>:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="n">my_catalog</span><span class="p">.</span><span class="k">default</span><span class="p">.</span><span class="n">view2</span><span class="w"> </span><span class="k">AS</span>
<span class="w">  </span><span class="k">SELECT</span>
<span class="w">  </span><span class="k">CASE</span>
<span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">CURRENT_RECIPIENT</span><span class="p">(</span><span class="s1">&#39;country&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;US&#39;</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">pii</span>
<span class="w">    </span><span class="k">ELSE</span><span class="w"> </span><span class="s1">&#39;REDACTED&#39;</span>
<span class="w">  </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">pii</span>
<span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">my_catalog</span><span class="p">.</span><span class="k">default</span><span class="p">.</span><span class="n">my_table</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="share-the-dynamic-view-with-a-recipient">
<h3>Share the dynamic view with a recipient<a class="headerlink" href="#share-the-dynamic-view-with-a-recipient" title="Permalink to this headline"> </a></h3>
<p>To share the dynamic view with a recipient, use the same SQL commands or UI procedure as you would for a standard view. See <a class="reference internal" href="#views"><span class="std std-ref">Add views to a share</span></a>.</p>
</div>
</div>
<div class="section" id="add-volumes-to-a-share">
<span id="volumes"></span><h2>Add volumes to a share<a class="headerlink" href="#add-volumes-to-a-share" title="Permalink to this headline"> </a></h2>
<div class="preview admonition">
<p class="admonition-title">Preview</p>
<p>This feature is in <a class="reference internal" href="../release-notes/release-types.html"><span class="doc">Public Preview</span></a>.</p>
</div>
<p>Volumes are Unity Catalog objects that represent a logical volume of storage in a cloud object storage location. They are intended primarily to provide governance over non-tabular data assets. See <a class="reference internal" href="../connect/unity-catalog/volumes.html"><span class="doc">Create and work with volumes</span></a>.</p>
<p>This section describes how to add volumes to a share using Catalog Explorer, the Databricks CLI, or SQL commands in a Databricks notebook or SQL query editor. If you prefer to use the Unity Catalog REST API, see <a class="reference external" href="https://docs.databricks.com/api/workspace/shares/update">PATCH
/api/2.1/unity-catalog/shares/</a> in the REST API reference.</p>
<p><strong>Permissions required</strong>: Owner of the share object, <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">CATALOG</span></code> and <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SCHEMA</span></code> on the catalog and schema that contain the volume, and <code class="docutils literal notranslate"><span class="pre">READ</span> <span class="pre">VOLUME</span></code> on the volume. You must maintain the <code class="docutils literal notranslate"><span class="pre">READ</span> <span class="pre">VOLUME</span></code> privilege for as long as you want to share the volume. For more information, see <a class="reference internal" href="#requirements"><span class="std std-ref">Requirements</span></a>.</p>
<p><strong>Additional requirements</strong>:</p>
<ul class="simple">
<li><p>Volume sharing is supported only in Databricks-to-Databricks sharing.</p></li>
<li><p>You must use a SQL warehouse on version 2023.50 or above or a cluster on Databricks Runtime 14.1 or above when you add a volume to a share.</p></li>
</ul>
<p>To add volumes to a share:</p>
<div class="js-code-language-tabs compound">
<div class="compound-first compound" lang="Catalog&amp;nbsp;Explorer">
<ol class="arabic">
<li><p>In your Databricks workspace, click <img alt="Catalog icon" src="../_images/data-icon.png" /> <strong>Catalog</strong>.</p></li>
<li><p>In the left pane, expand the <strong>Delta Sharing</strong> menu and select <strong>Shared by me</strong>.</p></li>
<li><p>On the <strong>Shares</strong> tab, find the share you want to add a volume to and click its name.</p></li>
<li><p>Click <strong>Manage assets &gt; Edit assets</strong>.</p></li>
<li><p>On the <strong>Edit assets</strong> page, search or browse for the volume that you want to share and select it.</p>
<p>Alternatively, you can select the entire schema that contains the volume. See <a class="reference internal" href="#schemas"><span class="std std-ref">Add schemas to a share</span></a>.</p>
</li>
<li><p>(Optional) Click <strong>Advanced options</strong> to specify an alternate volume name, or <strong>Alias</strong>, to make the volume name more readable.</p>
<p>Aliases are not available if you select an entire schema.</p>
<p>The alias is the name that the recipient sees and must use in queries. Recipients cannot use the actual volume name if an alias is specified.</p>
</li>
<li><p>Click <strong>Save</strong>.</p></li>
</ol>
</div>
<div class="compound-middle compound" lang="SQL">
<p class="compound-first">Run the following command in a notebook or the Databricks SQL query editor:</p>
<div class="compound-middle highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">SHARE</span><span class="w"> </span><span class="o">&lt;</span><span class="k">share</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="n">VOLUME</span><span class="w"> </span><span class="o">&lt;</span><span class="k">catalog</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="k">schema</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="n">volume</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span>
<span class="w">   </span><span class="p">[</span><span class="k">COMMENT</span><span class="w"> </span><span class="ss">&quot;&lt;comment&gt;&quot;</span><span class="p">]</span>
<span class="w">   </span><span class="p">[</span><span class="k">AS</span><span class="w"> </span><span class="o">&lt;</span><span class="k">alias</span><span class="o">&gt;</span><span class="p">];</span>
</pre></div>
</div>
<p class="compound-middle">Options include:</p>
<ul class="compound-middle simple">
<li><p><code class="docutils literal notranslate"><span class="pre">AS</span> <span class="pre">&lt;alias&gt;</span></code>: An alternate volume name, or alias, to make the volume name more readable. The alias is the volume name that the recipient sees and must use in queries. Recipients cannot use the actual volume name if an alias is specified. Use the format <code class="docutils literal notranslate"><span class="pre">&lt;schema-name&gt;.&lt;volume-name&gt;</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">COMMENT</span> <span class="pre">&quot;&lt;comment&gt;&quot;</span></code>: Comments appear in the Catalog Explorer UI and when you list and display volume details using SQL statements.</p></li>
</ul>
<p class="compound-last">For more information about <code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">SHARE</span></code> options, see <a class="reference internal" href="../sql/language-manual/sql-ref-syntax-ddl-alter-share.html"><span class="doc">ALTER SHARE</span></a>.</p>
</div>
<div class="compound-last compound" lang="CLI">
<p class="compound-first"> Run the following command using Databricks CLI 0.210 or above:</p>
<div class="compound-middle highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="w"> </span>databricks<span class="w"> </span>shares<span class="w"> </span>update<span class="w"> </span>&lt;share-name&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">   </span>--json<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">     &quot;updates&quot;: [</span>
<span class="s1">       {</span>
<span class="s1">         &quot;action&quot;: &quot;ADD&quot;,</span>
<span class="s1">         &quot;data_object&quot;: {</span>
<span class="s1">           &quot;name&quot;: &quot;&lt;volume-full-name&gt;&quot;,</span>
<span class="s1">           &quot;data_object_type&quot;: &quot;VOLUME&quot;,</span>
<span class="s1">           &quot;string_shared_as&quot;: &quot;&lt;volume-alias&gt;&quot;</span>
<span class="s1">         }</span>
<span class="s1">       }</span>
<span class="s1">     ]</span>
<span class="s1">   }&#39;</span>
</pre></div>
</div>
<p class="compound-middle"><code class="docutils literal notranslate"><span class="pre">&quot;string_shared_as&quot;:</span> <span class="pre">&quot;&lt;volume-alias&gt;&quot;</span></code> is optional and provides an alternate volume name, or alias, to make the volume name more readable. The alias is the volume name that the recipient sees and must use in queries. Recipients cannot use the actual volume name if an alias is specified. Use the format <code class="docutils literal notranslate"><span class="pre">&lt;schema-name&gt;.&lt;volume-name&gt;</span></code>.</p>
<p class="compound-last">To learn about additional parameters, run <code class="docutils literal notranslate"><span class="pre">databricks</span> <span class="pre">shares</span> <span class="pre">update</span> <span class="pre">--help</span></code> or see <a class="reference external" href="https://docs.databricks.com/api/workspace/shares/update">PATCH /api/2.1/unity-catalog/shares/</a> in the REST API reference.</p>
</div>
</div>
<p>For information about removing volumes from a share, see <a class="reference internal" href="#update"><span class="std std-ref">Update shares</span></a>.</p>
</div>
<div class="section" id="add-schemas-to-a-share">
<span id="schemas"></span><h2>Add schemas to a share<a class="headerlink" href="#add-schemas-to-a-share" title="Permalink to this headline"> </a></h2>
<div class="preview admonition">
<p class="admonition-title">Preview</p>
<p>This feature is in <a class="reference internal" href="../release-notes/release-types.html"><span class="doc">Public Preview</span></a>.</p>
</div>
<p>When you add an entire schema to a share, your recipients will have access not only to all of the data assets in the schema at the time that you create the share, but any assets that are added to the schema over time. This includes all tables, views, and volumes in the schema. Tables shared this way always include full history.</p>
<p>Adding, updating, or removing a schema using SQL requires a SQL warehouse on SQL compute version 2023.35 or above, or a cluster running Databricks Runtime 13.2 or above. Doing the same using Catalog Explorer has no compute requirements.</p>
<p><strong>Permissions required</strong>: Owner of the share object and owner of the schema (or a user with <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SCHEMA</span></code> and <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> privileges on the schema).</p>
<p>To add a schema to a share, follow the instructions in <a class="reference internal" href="#add-tables"><span class="std std-ref">Add tables to a share</span></a>, paying attention to the content that specifies how to add a schema.</p>
<p>Table aliases, partitions, and volume aliases are not available if you select an entire schema. If you have created aliases or partitions for any assets in the schema, these are removed when you add the entire schema to the share.</p>
<p>If you want to specify advanced options for a table or volume that you are sharing using schema sharing, you must share the table or volume using SQL and give the table or volume an alias with a different schema name.</p>
</div>
<div class="section" id="add-notebook-files-to-a-share">
<span id="add-remove-notebook-files"></span><h2>Add notebook files to a share<a class="headerlink" href="#add-notebook-files-to-a-share" title="Permalink to this headline"> </a></h2>
<p>Use Catalog Explorer to add a notebook file to a share.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To share notebooks, your metastore must have metastore-level storage.</p>
</div>
<p><strong>Permissions required</strong>: Owner of the share object and <strong>Can Read</strong> permission on the notebook you want to share.</p>
<ol class="arabic">
<li><p>In your Databricks workspace, click <img alt="Catalog icon" src="../_images/data-icon.png" /> <strong>Catalog</strong>.</p></li>
<li><p>In the left pane, expand the <strong>Delta Sharing</strong> menu and select <strong>Shared by me</strong>.</p></li>
<li><p>On the <strong>Shares</strong> tab, find the share you want to add a notebook to and click its name.</p></li>
<li><p>Click <strong>Manage assets</strong> and select <strong>Add notebook file</strong>.</p></li>
<li><p>On the <strong>Add notebook file</strong> page, click the file icon to browse for the notebook you want to share.</p>
<p>Click the file you want to share and click <strong>Select</strong>.</p>
<p>(Optionally) specify a user-friendly alias for the file in the <strong>Share as</strong> field. This is the identifier that recipients will see.</p>
</li>
<li><p>Click <strong>Save</strong>.</p></li>
</ol>
<p>The shared notebook file now appears in the <strong>Notebook files</strong> list on the <strong>Assets</strong> tab.</p>
<div class="section" id="remove-notebook-files-from-shares">
<h3>Remove notebook files from shares<a class="headerlink" href="#remove-notebook-files-from-shares" title="Permalink to this headline"> </a></h3>
<p>To remove a notebook file from a share:</p>
<ol class="arabic simple">
<li><p>In your Databricks workspace, click <img alt="Catalog icon" src="../_images/data-icon.png" /> <strong>Catalog</strong>.</p></li>
<li><p>In the left pane, expand the <strong>Delta Sharing</strong> menu and select <strong>Shared by me</strong>.</p></li>
<li><p>On the <strong>Shares</strong> tab, find the share that includes the notebook, and click the share name.</p></li>
<li><p>On the <strong>Assets</strong> tab, find the notebook file you want to remove from the share.</p></li>
<li><p>Click the <img alt="Kebab menu" src="../_images/kebab-menu.png" /> kebab menu (also known as the three-dot menu) to the right of the row, and select <strong>Delete notebook file</strong>.</p></li>
<li><p>On the confirmation dialog, click <strong>Delete</strong>.</p></li>
</ol>
</div>
<div class="section" id="update-notebook-files-in-shares">
<h3>Update notebook files in shares<a class="headerlink" href="#update-notebook-files-in-shares" title="Permalink to this headline"> </a></h3>
<p>To update a notebook that you have already shared, you must re-add it, giving it a new alias in the <strong>Share as</strong> field. Databricks recommends that you use a name that indicates the notebook’s revised status, such as <code class="docutils literal notranslate"><span class="pre">&lt;old-name&gt;-update-1</span></code>. You may need to notify the recipient of the change. The recipient must select and clone the new notebook to take advantage of your update.</p>
</div>
</div>
<div class="section" id="grant-recipients-access-to-a-share">
<h2>Grant recipients access to a share<a class="headerlink" href="#grant-recipients-access-to-a-share" title="Permalink to this headline"> </a></h2>
<p>To grant share access to recipients, you can use Catalog Explorer, the Databricks Unity Catalog CLI, or the <code class="docutils literal notranslate"><span class="pre">GRANT</span> <span class="pre">ON</span> <span class="pre">SHARE</span></code> SQL command in a Databricks notebook or the Databricks SQL query editor.</p>
<p><strong>Permissions required</strong>: One of the following:</p>
<ul class="simple">
<li><p>Metastore admin.</p></li>
<li><p>Delegated permissions or ownership on both the share and the recipient objects ((<code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SHARE</span></code> + <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">SHARE</span> <span class="pre">PERMISSION</span></code>) or share owner) AND (<code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">RECIPIENT</span></code> or recipient owner).</p></li>
</ul>
<p>For instructions, see <a class="reference internal" href="grant-access.html"><span class="doc">Grant and manage access to Delta Sharing data shares (for providers)</span></a>. This article also explains how to revoke a recipient’s access to a share.</p>
</div>
<div class="section" id="view-shares-and-share-details">
<span id="list-shares"></span><h2>View shares and share details<a class="headerlink" href="#view-shares-and-share-details" title="Permalink to this headline"> </a></h2>
<p>To view a list of shares or details about a share, you can use Catalog Explorer, the Databricks Unity Catalog CLI, or SQL commands in a Databricks notebook or the Databricks SQL query editor.</p>
<p><strong>Permissions required</strong>: The list of shares returned depends on your role and permissions. Metastore admins and users with the <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SHARE</span></code> privilege see all shares. Otherwise, you can view only the shares for which you are the share object owner.</p>
<p>Details include:</p>
<ul class="simple">
<li><p>The share’s owner, creator, creation timestamp, updater, updated timestamp, comments.</p></li>
<li><p>Data assets in the share.</p></li>
<li><p>Recipients with access to the share.</p></li>
</ul>
<div class="js-code-language-tabs compound">
<div class="compound-first compound" lang="Catalog&amp;nbsp;Explorer">
<ol class="arabic simple">
<li><p>In your Databricks workspace, click <img alt="Catalog icon" src="../_images/data-icon.png" /> <strong>Catalog</strong>.</p></li>
<li><p>In the left pane, expand the <strong>Delta Sharing</strong> menu and select <strong>Shared by me</strong>.</p></li>
<li><p>Open the <strong>Shares</strong> tab to view a list of shares.</p></li>
<li><p>View share details on the <strong>Details</strong> tab.</p></li>
</ol>
</div>
<div class="compound-middle compound" lang="SQL">
<p class="compound-first">To view a list of shares, run the following command in a notebook or the Databricks SQL query editor. Optionally, replace <code class="docutils literal notranslate"><span class="pre">&lt;pattern&gt;</span></code> with a <a class="reference internal" href="../sql/language-manual/functions/like.html"><span class="doc">`LIKE` predicate</span></a>.</p>
<div class="compound-middle highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SHOW</span><span class="w"> </span><span class="n">SHARES</span><span class="w"> </span><span class="p">[</span><span class="k">LIKE</span><span class="w"> </span><span class="o">&lt;</span><span class="n">pattern</span><span class="o">&gt;</span><span class="p">];</span>
</pre></div>
</div>
<p class="compound-middle">To view details about a specific share, run the following command.</p>
<div class="compound-middle highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">DESCRIBE</span><span class="w"> </span><span class="k">SHARE</span><span class="w"> </span><span class="o">&lt;</span><span class="k">share</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="p">;</span>
</pre></div>
</div>
<p class="compound-middle">To view details about all tables, views, and volumes in a share, run the following command.</p>
<div class="compound-last highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SHOW</span><span class="w"> </span><span class="k">ALL</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="k">SHARE</span><span class="w"> </span><span class="o">&lt;</span><span class="k">share</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="compound-last compound" lang="CLI">
<p class="compound-first">To view a list of shares, run the following command using the <a class="reference internal" href="../dev-tools/cli/index.html"><span class="doc">Databricks CLI</span></a>.</p>
<div class="compound-middle highlight-bash notranslate"><div class="highlight"><pre><span></span>databricks<span class="w"> </span>shares<span class="w"> </span>list
</pre></div>
</div>
<p class="compound-middle">To view details about a specific share, run the following command.</p>
<div class="compound-last highlight-bash notranslate"><div class="highlight"><pre><span></span>databricks<span class="w"> </span>shares<span class="w"> </span>get<span class="w"> </span>&lt;share-name&gt;
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="view-the-recipients-who-have-permissions-on-a-share">
<span id="list-permissions"></span><h2>View the recipients who have permissions on a share<a class="headerlink" href="#view-the-recipients-who-have-permissions-on-a-share" title="Permalink to this headline"> </a></h2>
<p>To view the list of shares that a recipient has been granted access to, you can use Catalog Explorer, the Databricks Unity Catalog CLI, or the <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">GRANTS</span> <span class="pre">TO</span> <span class="pre">RECIPIENT</span></code> SQL command in a Databricks notebook or the Databricks SQL query editor.</p>
<p><strong>Permissions required</strong>: Metastore admin, <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SHARE</span></code> privilege, or share object owner.</p>
<div class="js-code-language-tabs compound">
<div class="compound-first compound" lang="Catalog&amp;nbsp;Explorer">
<ol class="arabic simple">
<li><p>In your Databricks workspace, click <img alt="Catalog icon" src="../_images/data-icon.png" /> <strong>Catalog</strong>.</p></li>
<li><p>In the left pane, expand the <strong>Delta Sharing</strong> menu and select <strong>Shared by me</strong>.</p></li>
<li><p>On the <strong>Shares</strong> tab, find and select the recipient.</p></li>
<li><p>Go to the <strong>Recipients</strong> tab to view the list of recipients who can access the share.</p></li>
</ol>
</div>
<div class="compound-middle compound" lang="SQL">
<p class="compound-first">Run the following command in a notebook or the Databricks SQL query editor.</p>
<div class="compound-last highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SHOW</span><span class="w"> </span><span class="n">GRANTS</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">SHARE</span><span class="w"> </span><span class="o">&lt;</span><span class="k">share</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="compound-last compound" lang="CLI">
<p class="compound-first">Run the following command using the <a class="reference internal" href="../dev-tools/cli/index.html"><span class="doc">Databricks CLI</span></a>.</p>
<div class="compound-middle highlight-bash notranslate"><div class="highlight"><pre><span></span>databricks<span class="w"> </span>shares<span class="w"> </span>share-permissions<span class="w"> </span>&lt;share-name&gt;
</pre></div>
</div>
<p class="compound-last"></p>
</div>
</div>
</div>
<div class="section" id="update-shares">
<span id="update"></span><h2>Update shares<a class="headerlink" href="#update-shares" title="Permalink to this headline"> </a></h2>
<p>In addition to <a class="reference internal" href="#add-tables"><span class="std std-ref">adding tables</span></a>, <a class="reference internal" href="#views"><span class="std std-ref">views</span></a>, <a class="reference internal" href="#volumes"><span class="std std-ref">volumes</span></a>, and <a class="reference internal" href="#add-remove-notebook-files"><span class="std std-ref">notebooks</span></a> to a share, you can:</p>
<ul class="simple">
<li><p>Rename a share.</p></li>
<li><p>Remove tables, views, volumes, and schemas from a share.</p></li>
<li><p>Add or update a comment on a share.</p></li>
<li><p>Enable or disable access to a table’s history data, allowing recipients to perform time travel queries or streaming reads of the table.</p></li>
<li><p>Add, update, or remove partition definitions.</p></li>
<li><p>Change the share owner.</p></li>
</ul>
<p>To make these updates to shares, you can use Catalog Explorer, the Databricks Unity Catalog CLI, or SQL commands in a Databricks notebook or the Databricks SQL query editor. You cannot use Catalog Explorer to rename the share.</p>
<p><strong>Permissions required</strong>:  To update the share owner, you must be one of the following: a metastore admin, the owner of the share object, or a user with both the <code class="docutils literal notranslate"><span class="pre">USE</span> <span class="pre">SHARE</span></code> and <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">SHARE</span> <span class="pre">PERMISSION</span></code> privileges. To update the share name, you must be a metastore admin (or user with the <code class="docutils literal notranslate"><span class="pre">CREATE_SHARE</span></code> privilege) <em>and</em> share owner. To update any other share properties, you must be the owner.</p>
<div class="js-code-language-tabs compound">
<div class="compound-first compound" lang="Catalog&amp;nbsp;Explorer">
<ol class="compound-first arabic simple">
<li><p>In your Databricks workspace, click <img alt="Catalog icon" src="../_images/data-icon.png" /> <strong>Catalog</strong>.</p></li>
<li><p>In the left pane, expand the <strong>Delta Sharing</strong> menu and select <strong>Shared by me</strong>.</p></li>
<li><p>On the <strong>Shares</strong> tab, find the share you want to update and click its name.</p></li>
</ol>
<p class="compound-middle">On the share details page, you can do the following:</p>
<ul class="compound-last simple">
<li><p>Click the <img alt="Edit icon" src="../_images/pencil-edit-icon.png" /> edit icon next to the Owner or Comment field to update these values.</p></li>
<li><p>Click the vertical ellipsis <img alt="Vertical Ellipsis" src="../_images/vertical-ellipsis.png" /> button in an asset row to remove it.</p></li>
<li><p>Click <strong>Manage assets &gt; Edit assets</strong> to update all other properties:</p>
<ul>
<li><p>To remove an asset, clear the checkbox next to the asset.</p></li>
<li><p>To add, update, or remove partition definitions, click <strong>Advanced options</strong>.</p></li>
</ul>
</li>
</ul>
</div>
<div class="compound-middle compound" lang="SQL">
<p class="compound-first">Run the following commands in a notebook or the Databricks SQL editor.</p>
<p class="compound-middle">Rename a share:</p>
<div class="compound-middle highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">SHARE</span><span class="w"> </span><span class="o">&lt;</span><span class="k">share</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="w"> </span><span class="k">RENAME</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="o">&lt;</span><span class="k">new</span><span class="o">-</span><span class="k">share</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="p">;</span>
</pre></div>
</div>
<p class="compound-middle">Remove tables from a share:</p>
<div class="compound-middle highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">SHARE</span><span class="w"> </span><span class="n">share_name</span><span class="w"> </span><span class="n">REMOVE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">&lt;</span><span class="k">table</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="p">;</span>
</pre></div>
</div>
<p class="compound-middle">Remove volumes from a share:</p>
<div class="compound-middle highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">SHARE</span><span class="w"> </span><span class="n">share_name</span><span class="w"> </span><span class="n">REMOVE</span><span class="w"> </span><span class="n">VOLUME</span><span class="w"> </span><span class="o">&lt;</span><span class="n">volume</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="p">;</span>
</pre></div>
</div>
<p class="compound-middle">Add or update a comment on a share:</p>
<div class="compound-middle highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">COMMENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">SHARE</span><span class="w"> </span><span class="o">&lt;</span><span class="k">share</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="s1">&#39;&lt;comment&gt;&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p class="compound-middle">Add or modify partitions for a table in a share:</p>
<div class="compound-middle highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">SHARE</span><span class="w"> </span><span class="o">&lt;</span><span class="k">share</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">&lt;</span><span class="k">table</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="w"> </span><span class="n">PARTITION</span><span class="p">(</span><span class="o">&lt;</span><span class="n">clause</span><span class="o">&gt;</span><span class="p">);</span>
</pre></div>
</div>
<p class="compound-middle">Change share owner:</p>
<div class="compound-middle highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">SHARE</span><span class="w"> </span><span class="o">&lt;</span><span class="k">share</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="w"> </span><span class="k">OWNER</span><span class="w"> </span><span class="k">TO</span><span class="w">  </span><span class="s1">&#39;&lt;principal&gt;&#39;</span>

<span class="c1">-- Principal must be an account-level user email address or group name.</span>
</pre></div>
</div>
<p class="compound-middle">Enable history sharing for a table:</p>
<div class="compound-middle highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">SHARE</span><span class="w"> </span><span class="o">&lt;</span><span class="k">share</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">&lt;</span><span class="k">table</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="n">HISTORY</span><span class="p">;</span>
</pre></div>
</div>
<p class="compound-last">For details about <code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">SHARE</span></code> parameters, see <a class="reference internal" href="../sql/language-manual/sql-ref-syntax-ddl-alter-share.html"><span class="doc">ALTER SHARE</span></a>.</p>
</div>
<div class="compound-last compound" lang="CLI">
<p class="compound-first">Run the following commands using the <a class="reference internal" href="../dev-tools/cli/index.html"><span class="doc">Databricks CLI</span></a>.</p>
<p class="compound-middle">Rename a share:</p>
<div class="compound-middle highlight-bash notranslate"><div class="highlight"><pre><span></span>databricks<span class="w"> </span>shares<span class="w"> </span>update<span class="w"> </span>&lt;share-name&gt;<span class="w"> </span>--name<span class="w"> </span>&lt;new-share-name&gt;
</pre></div>
</div>
<p class="compound-middle">Remove tables from a share:</p>
<div class="compound-middle highlight-bash notranslate"><div class="highlight"><pre><span></span>databricks<span class="w"> </span>shares<span class="w"> </span>update<span class="w"> </span>&lt;share-name&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--json<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;updates&quot;: [</span>
<span class="s1">      {</span>
<span class="s1">        &quot;action&quot;: &quot;REMOVE&quot;,</span>
<span class="s1">        &quot;data_object&quot;: {</span>
<span class="s1">          &quot;name&quot;: &quot;&lt;table-full-name&gt;&quot;,</span>
<span class="s1">          &quot;data_object_type&quot;: &quot;TABLE&quot;,</span>
<span class="s1">          &quot;shared_as&quot;: &quot;&lt;table-alias&gt;&quot;</span>
<span class="s1">        }</span>
<span class="s1">      }</span>
<span class="s1">    ]</span>
<span class="s1">  }&#39;</span>
</pre></div>
</div>
<p class="compound-middle">Remove volumes from a share (using Databricks CLI 0.210 or above):</p>
<div class="compound-middle highlight-bash notranslate"><div class="highlight"><pre><span></span>databricks<span class="w"> </span>shares<span class="w"> </span>update<span class="w"> </span>&lt;share-name&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--json<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;updates&quot;: [</span>
<span class="s1">      {</span>
<span class="s1">        &quot;action&quot;: &quot;REMOVE&quot;,</span>
<span class="s1">        &quot;data_object&quot;: {</span>
<span class="s1">          &quot;name&quot;: &quot;&lt;volume-full-name&gt;&quot;,</span>
<span class="s1">          &quot;data_object_type&quot;: &quot;VOLUME&quot;,</span>
<span class="s1">          &quot;string_shared_as&quot;: &quot;&lt;volume-alias&gt;&quot;</span>
<span class="s1">        }</span>
<span class="s1">      }</span>
<span class="s1">    ]</span>
<span class="s1">  }&#39;</span>
</pre></div>
</div>
<div class="compound-middle admonition note">
<p class="admonition-title">Note</p>
<p>Use the <code class="docutils literal notranslate"><span class="pre">name</span></code> property if there is no alias for the volume. Use <code class="docutils literal notranslate"><span class="pre">string_shared_as</span></code> if there is an alias.</p>
</div>
<p class="compound-middle">Add or update a comment on a share:</p>
<div class="compound-middle highlight-bash notranslate"><div class="highlight"><pre><span></span>databricks<span class="w"> </span>shares<span class="w"> </span>update<span class="w"> </span>&lt;share-name&gt;<span class="w"> </span>--comment<span class="w"> </span><span class="s1">&#39;&lt;comment&gt;&#39;</span>
</pre></div>
</div>
<p class="compound-middle">Change share owner:</p>
<div class="compound-middle highlight-bash notranslate"><div class="highlight"><pre><span></span>databricks<span class="w">  </span>shares<span class="w"> </span>update<span class="w"> </span>&lt;share-name&gt;<span class="w"> </span>--owner<span class="w"> </span><span class="s1">&#39;&lt;principal&gt;&#39;</span>
</pre></div>
</div>
<p class="compound-last">Principal must be an account-level user email address or group name.</p>
</div>
</div>
</div>
<div class="section" id="delete-a-share">
<span id="delete"></span><h2>Delete a share<a class="headerlink" href="#delete-a-share" title="Permalink to this headline"> </a></h2>
<p>To delete a share, you can use Catalog Explorer, the Databricks Unity Catalog CLI, or the <code class="docutils literal notranslate"><span class="pre">DELETE</span> <span class="pre">SHARE</span></code> SQL command in a Databricks notebook or the Databricks SQL query editor. You must be an owner of the share.</p>
<p>When you delete a share, recipients can no longer access the shared data.</p>
<p><strong>Permissions required</strong>: Share object owner.</p>
<div class="js-code-language-tabs compound">
<div class="compound-first compound" lang="Catalog&amp;nbsp;Explorer">
<ol class="arabic simple">
<li><p>In your Databricks workspace, click <img alt="Catalog icon" src="../_images/data-icon.png" /> <strong>Catalog</strong>.</p></li>
<li><p>In the left pane, expand the <strong>Delta Sharing</strong> menu and select <strong>Shared by me</strong>.</p></li>
<li><p>On the <strong>Shares</strong> tab, find the share you want to delete and click its name.</p></li>
<li><p>Click the <img alt="Kebab menu" src="../_images/kebab-menu.png" /> kebab menu (also known as the three-dot menu) and select <strong>Delete</strong>.</p></li>
<li><p>On the confirmation dialog, click <strong>Delete</strong>.</p></li>
</ol>
</div>
<div class="compound-middle compound" lang="SQL">
<p class="compound-first">Run the following command in a notebook or the Databricks SQL query editor.</p>
<div class="compound-last highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">DROP</span><span class="w"> </span><span class="k">SHARE</span><span class="w"> </span><span class="p">[</span><span class="k">IF</span><span class="w"> </span><span class="k">EXISTS</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="k">share</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="compound-last compound" lang="CLI">
<p class="compound-first">Run the following command using the <a class="reference internal" href="../dev-tools/cli/index.html"><span class="doc">Databricks CLI</span></a>.</p>
<div class="compound-last highlight-bash notranslate"><div class="highlight"><pre><span></span>databricks<span class="w"> </span>shares<span class="w"> </span>delete<span class="w"> </span>&lt;share-name&gt;
</pre></div>
</div>
</div>
</div>
</div>
</div>


    
          </div>
        </div>
        <div  class="suapp-rating">
  <div id="suPageRateApp">
     <su-app></su-app>
   </div> 
 </div>
<hr> 
<footer>
  <div role="contentinfo">
      <p class="copyright">
          &copy; Databricks 2023. All rights reserved. Apache, Apache Spark, Spark, and the Spark logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a>.
      </p>
      <p> 
        
          <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
        
     | <a href="https://databricks.com/privacy-policy">Privacy Policy</a> | <a href="https://databricks.com/terms-of-use">Terms of Use</a></p>

  </div> 

</footer>
      </div>
    </div>
  </section>
</main>

  </page>
  
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT: '../',
      VERSION: '1.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE: 'false'
    };
  </script>
  <script type="text/javascript" src="../_static/jquery.js"></script>
  <script type="text/javascript" src="../_static/underscore.js"></script>
  <script type="text/javascript" src="../_static/doctools.js"></script>
  <script type="text/javascript" src="../_static/language_data.js"></script>
  

  <script type="text/javascript" src="../_static/js/clipboard.min.js"></script>
  <script type="text/javascript" src="../_static/js/jquery.waypoints.min.js"></script>

  <!-- Select2 (https://select2.org/) -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <!-- End Select2 -->

  
  
  <script type="text/javascript" src="../_static/js/localized.js"></script>
  <script type="text/javascript" src="../_static/js/custom.js"></script>
  

  
  
  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.StickyNav.enable();
    });

  </script>
  
 



  <script>
  window.__searchunifyLoaderConfig = JSON.parse('{"clients": {"en": "02c2e804-27e9-11ee-aefb-0242ac120011", "ja": "6a42c3f2-2820-11ee-aefb-0242ac120011", "pt": "6a86badd-2821-11ee-aefb-0242ac120011"}}')
</script>
<script type="text/javascript" src="../_static/js/search-loader.js"></script>
</body>
<script type='text/javascript'>
  window.onload = function () {
    var description = document.querySelector('meta[name="description"]').getAttribute("content");
    let titleText = document.querySelector('h1').textContent;
    document.querySelector('meta[property="og:title"]').setAttribute("content", titleText);
    document.querySelector('meta[property="og:description"]').setAttribute("content", description);
    document.querySelector('meta[property="twitter:description"]').setAttribute("content", description);
  };
</script>

</html>