

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en-US" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en-US"> <!--<![endif]-->

<head>
  <!-- cookie consent -->
  
    <!-- Combined Onetrust and Rudderstack Implementation Scripts -->
    <!-- Onetrust Initialization -->
    <script type="text/javascript" src="https://cdn.cookielaw.org/consent/92466579-1717-44d3-809d-a05fb02843ed-test/OtAutoBlock.js"></script>
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="92466579-1717-44d3-809d-a05fb02843ed-test"></script>
    <link rel="stylesheet" id="db-onetrust-style" href="https://www.databricks.com/wp-content/uploads/db_onetrust.css" media="all" />
    <!-- Setting Rudderstack Write Key -->
    <script>window.rudderstackKey = "2SOR9fvSr5Fi6tN2ihPbVHnX1SZ" </script>
    <!-- Rudderstack Initialization + Onetrust Integration + Rudderstack Custom Events -->
    <script type="text/javascript" src="https://www.databricks.com/sites/default/files/rudderstack/v1/db-rudderstack-events.js"></script>

  <!-- cookie consent -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta content="Learn how to create a Databricks pool in the UI, including the available configuration options for new pools." name="description" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta property="og:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:title" content="Create a pool">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://docs.databricks.com">
  <meta property="og:description" content="" id="og-description">
  <meta name="twitter:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta name="twitter:site" content="@databricks">
  <meta name="twitter:creator" content="@databricks">
  <meta property="twitter:description" content="">
  
  <title>Create a pool &#124; Databricks on AWS</title>
  
  
  <link rel="canonical" href="https://docs.databricks.com/en/compute/pools.html">
  <!-- Start hreflang tag -->
  <link rel="alternate" hreflang="en" href="https://docs.databricks.com/en/compute/pools.html" />
<link rel="alternate" hreflang="x-default" href="https://docs.databricks.com/en/compute/pools.html" />
  <!-- End hreflang tag -->
  
  
  <link rel="shortcut icon" href="../_static/favicon.ico" />
  

  

  

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T85FQ33');</script>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWTKQQ');</script>
    
  <!-- End Google Tag Manager -->


  <!-- MaxMind / GEO IP -->
  <script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>
  <!-- End MaxMind / GEO IP -->

  
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600&display=swap" rel="stylesheet">
  <link rel="preload" href="../_static/fonts/DMSans-Bold.ttf" as="font">
  <link rel="preload" href="../_static/fonts/DMSans-Regular.ttf" as="font">
  <link rel="preload" href="../_static/fonts/DMMono-Regular.ttf" as="font">
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/cloud-provider-selector.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/translation-selector.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/searchunify/main.css" type="text/css" />

  
  <link rel="index" title="Index" href="../genindex.html" />
  <link rel="search" title="Search" href="../search.html" />
  <link rel="top" title="Databricks on AWS" href="../index.html" /> 
</head>

<body class="wy-body-for-nav" role="document">

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T85FQ33"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWTKQQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  
  <nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
    
<nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
  <div class="container-logo">
    <ul class="mobile-menu-toggle">
        <li class="menu-toggle">
            <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
            
            <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
              alt="Databricks" /></a>   
               
              </li>
    </ul>
    <ul class="su_nav-menu">
      <li class="menu-toggle">
        <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
        
          
        
        <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
            alt="Databricks" /></a></li>
        <!-- 
<li><a href="https://help.databricks.com/s/">Help Center</a></li>
<li class="active"><a href="https://docs.databricks.com/en/">Documentation</a></li>
<li><a href="https://kb.databricks.com/">Knowledge Base</a></li>
 -->
    </ul>
  </div>
  <div class="su_nav-right">
    <ul class="su_link-mobile">
  <!-- Mobile header code can go here -->
</ul>
<ul class="right-try-list">
   
</ul>
  </div>
</nav>
  </nav>

  <div class="su_sub-header">
    <div class="container">
      <div class="su_sub-header-inner">
        <!-- <div class="su_subnav-menu-right">
  <div id="auto" style="width: 100%;">
    <div ng-controller="SearchautoController">
      <div bind-html-compile="autocompleteHtml">
        <form class="su__search-box-1" disabled="disabled">
          <input class="su__search-input" type="search" name="Search box" id="su__search-b" placeholder="Search Documentation" disabled="disabled"/>
          <button class="su__search-button" type="submit" class="button button-success" disabled="disabled">
            <svg width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                fill="#333"></path>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>
</div> -->
        <div class="search-lng-gap"></div>
        <div style="margin-left: 16px; margin-right: 16px;">
          <!-- <select name="lng selector" id="lng-selector">
    <option value="../../en/compute/pools.html" class="notranslate">English</option>
    <option value="../../ja/compute/pools.html" class="notranslate">日本語</option>
    <option value="../../pt/compute/pools.html" class="notranslate">Português (Brasil)</option>
</select> -->
        </div>
        <div class="cloud-selector-container">
          <!-- <select name="cloud provider selector" id="cloud-provider-selector">
    <option value="aws" selected class="notranslate">
        Amazon Web Services
    </option>
    <option value="azure"  class="notranslate">
        Microsoft Azure
    </option>
    <option value="gcp"  class="notranslate">
        Google Cloud Platform
    </option>
</select> -->
        </div>
      </div>
    </div>
  </div>
  <page class="js-page-container">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side su_nav-side">
<div class="wy-side-scroll">
  <div class="wy-side-nav-search">
    

    

    

    
  </div>

  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      <a href="../index.html" class="main-navigation-home">Databricks on AWS</a>
    

    
      

      
        <p class="caption"><span class="caption-text">Load &amp; manage data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../rag-temp/index.html">RAG Studio</a></li>
</ul>

      
    
  </div>

  <div role="contentinfo">
    
  <p class="build_info notranslate"data-last-edit="December 23, 2023">
    Updated Jan 11, 2024
  </p>
<script>
  window.addEventListener('DOMContentLoaded',function(){
    var h1=document.querySelector('h1');
    var bi=document.querySelector('[data-last-edit]');
    if(h1 && bi){
      var ver = document.createElement('p');
      ver.className = 'version_info';
      ver.textContent = bi.getAttribute('data-last-edit');
      h1.parentElement.insertBefore(ver, h1.nextElementSibling);
    }
  });
</script>

    <p>
      
        <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
      
    </p>
  </div>
</div>
</nav>
    
    
<main class="wy-grid-for-nav su_nav-grid">
  <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
    <div class="wy-nav-content su__nav_content">
      <div class="rst-content">
        





<div role="navigation" aria-label="breadcrumbs navigation" class="wy-breadcrumbs-wrapper">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Documentation</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
    
      <li>Create a pool</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>
</div>
        
        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
          <div itemprop="articleBody">
            
    
  <div class="section" id="create-a-pool">
<span id="create-an-instance-pool"></span><h1>Create a pool<a class="headerlink" href="#create-a-pool" title="Permalink to this headline"> </a></h1>
<div class="toctree-wrapper compound">
</div>
<p>This article describes how to create a pool using the UI. To learn how to use the Databricks CLI to create a pool, see <a class="reference internal" href="../archive/dev-tools/cli/instance-pools-cli.html"><span class="doc">Instance Pools CLI  (legacy)</span></a>. To learn how to use the REST API to create a pool, see the <a class="reference external" href="https://docs.databricks.com/api/workspace/instancepools">Instance Pools API</a>.</p>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline"> </a></h2>
<ul>
<li><p>You must have permission to create a pool; see <a class="reference internal" href="../security/auth-authz/access-control/pool-acl.html"><span class="doc">Pool access control</span></a>.</p></li>
<li><p>The IAM role used to create your Databricks account needs the following permissions in its access policy:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;Action&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">&quot;ec2:AssociateIamInstanceProfile&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;ec2:DescribeIamInstanceProfileAssociations&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;ec2:DisassociateIamInstanceProfile&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;ec2:ReplaceIamInstanceProfileAssociation&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;ec2:DeleteTags&quot;</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
<p>For the complete list of permissions and instructions on how to update your existing IAM role or keys, see <a class="reference internal" href="../administration-guide/account-settings-e2/credentials.html"><span class="doc">Create an IAM role for workspace deployment</span></a>.</p>
<p>If the IAM role doesn’t have these permissions, you will not be able to start the cluster attached to the pool.</p>
</div>
<div class="section" id="create-a-pool-using-the-ui">
<h2>Create a pool using the UI<a class="headerlink" href="#create-a-pool-using-the-ui" title="Permalink to this headline"> </a></h2>
<p>To create a pool using the UI:</p>
<ol class="arabic simple">
<li><p>Click <img alt="compute icon" src="../_images/clusters-icon.png" /> <strong>Compute</strong> in the sidebar.</p></li>
<li><p>Click the <strong>Pools</strong> tab.</p></li>
<li><p>Click the <strong>Create Pool</strong> button.</p></li>
<li><p>Specify the pool configuration.</p></li>
<li><p>Click the <strong>Create</strong> button.</p></li>
</ol>
</div>
<div class="section" id="attach-a-cluster-to-a-pool">
<h2>Attach a cluster to a pool<a class="headerlink" href="#attach-a-cluster-to-a-pool" title="Permalink to this headline"> </a></h2>
<p>To attach a cluster to a pool using the <a class="reference internal" href="configure.html"><span class="doc">cluster creation UI</span></a>, select the pool from the <strong>Driver Type</strong> or <strong>Worker Type</strong> dropdown when you configure the cluster. Available pools are listed at the top of each dropdown list. You can use the same pool or different pools for the driver node and worker nodes.</p>
<p>If you use the <a class="reference external" href="https://docs.databricks.com/api/workspace/clusters">Clusters API</a>, you must specify <code class="docutils literal notranslate"><span class="pre">driver_instance_pool_id</span></code> for the driver node and <code class="docutils literal notranslate"><span class="pre">instance_pool_id</span></code> for the worker nodes.</p>
</div>
<div class="section" id="pool-size-and-auto-termination">
<span id="instance-pool-size-and-auto-termination"></span><span id="instance-pool-sizing"></span><h2>Pool size and auto termination<a class="headerlink" href="#pool-size-and-auto-termination" title="Permalink to this headline"> </a></h2>
<p>When you create a pool, in order to control its size, you can set three parameters: minimum idle instances, maximum capacity, and idle instance auto termination.</p>
<div class="section" id="minimum-idle-instances">
<span id="pool-min"></span><h3>Minimum Idle Instances<a class="headerlink" href="#minimum-idle-instances" title="Permalink to this headline"> </a></h3>
<p>The minimum number of instances the pool keeps idle. These instances do not terminate, regardless of the auto termination settings. If a cluster consumes idle instances from the pool, Databricks provisions additional instances to maintain the minimum.</p>
</div>
<div class="section" id="maximum-capacity">
<span id="pool-max"></span><h3>Maximum Capacity<a class="headerlink" href="#maximum-capacity" title="Permalink to this headline"> </a></h3>
<p>The maximum number of instances the pool can provision. If set, this value constrains <em>all instances</em> (idle + used). If a cluster using the pool requests more instances than this number during <a class="reference internal" href="configure.html#autoscaling"><span class="std std-ref">autoscaling</span></a>, the request fails with an <code class="docutils literal notranslate"><span class="pre">INSTANCE_POOL_MAX_CAPACITY_FAILURE</span></code> error.</p>
<p>This configuration is <em>optional</em>. Databricks recommend setting a value only in the following circumstances:</p>
<ul class="simple">
<li><p>You have an instance quota you <em>must</em> stay under.</p></li>
<li><p>You want to protect one set of work from impacting another set of work. For example, suppose your instance quota is 100 and you have teams A and B that need to run jobs. You can create pool A with a max 50 and pool B with max 50 so that the two teams share the 100 quota fairly.</p></li>
<li><p>You need to cap cost.</p></li>
</ul>
</div>
<div class="section" id="idle-instance-auto-termination">
<h3>Idle Instance Auto Termination<a class="headerlink" href="#idle-instance-auto-termination" title="Permalink to this headline"> </a></h3>
<p>The time in minutes above the value set in <a class="reference internal" href="#pool-min"><span class="std std-ref">Minimum Idle Instances</span></a> that instances can be idle before being terminated by the pool.</p>
</div>
</div>
<div class="section" id="instance-types">
<span id="instance-pool-types"></span><h2>Instance types<a class="headerlink" href="#instance-types" title="Permalink to this headline"> </a></h2>
<p>A pool consists of both idle instances kept ready for new clusters and instances in use by running clusters. All of these instances are of the same instance provider type, selected when creating a pool.</p>
<p>A pool’s instance type cannot be edited. Clusters attached to a pool use the same instance type for the driver and worker nodes. Different families of instance types fit different use cases, such as memory-intensive or compute-intensive workloads.</p>
<p>Databricks always provides one year’s deprecation notice before ceasing support for an instance type.</p>
</div>
<div class="section" id="preloaded-databricks-runtime-version">
<span id="preloaded-dbr-version"></span><span id="preloaded-spark"></span><h2>Preloaded Databricks Runtime version<a class="headerlink" href="#preloaded-databricks-runtime-version" title="Permalink to this headline"> </a></h2>
<p>You can speed up cluster launches by selecting a Databricks Runtime version to be loaded on idle instances in the pool.  If a user selects that runtime when they create a cluster backed by the pool, that cluster will launch even more quickly than a pool-backed cluster that doesn’t use a preloaded Databricks Runtime version.</p>
<p>Setting this option to <strong>None</strong> slows down cluster launches, as it causes the Databricks Runtime version to download on demand to idle instances in the pool. When the cluster releases the instances in the pool, the Databricks Runtime version remains cached on those instances. The next cluster creation operation that uses the same Databricks Runtime version might benefit from this caching behavior, but it is not guaranteed.</p>
</div>
<div class="section" id="preloaded-docker-image">
<span id="preloaded-dbr-version"></span><span id="dcs"></span><h2>Preloaded Docker image<a class="headerlink" href="#preloaded-docker-image" title="Permalink to this headline"> </a></h2>
<p>Docker images are supported with pools if you use the <a class="reference external" href="https://docs.databricks.com/api/workspace/instancepools">Instance Pools API</a> to create the pool.</p>
</div>
<div class="section" id="pool-tags">
<span id="instance-pool-tags"></span><span id="tags"></span><h2>Pool tags<a class="headerlink" href="#pool-tags" title="Permalink to this headline"> </a></h2>
<p>Pool tags allow you to easily monitor the cost of cloud resources used by various groups in your organization. You can specify tags as key-value pairs when you create a pool, and Databricks applies these tags to cloud resources like VMs and disk volumes, as well as <a class="reference internal" href="../administration-guide/account-settings/usage.html"><span class="doc">DBU usage reports</span></a>.</p>
<p>For convenience, Databricks applies three default tags to each pool: <code class="docutils literal notranslate"><span class="pre">Vendor</span></code>,
<code class="docutils literal notranslate"><span class="pre">DatabricksInstancePoolId</span></code>, and <code class="docutils literal notranslate"><span class="pre">DatabricksInstancePoolCreatorId</span></code>. You can also add custom tags when you create a pool. You can add up to 43 custom tags.</p>
<div class="section" id="custom-tags">
<h3>Custom tags<a class="headerlink" href="#custom-tags" title="Permalink to this headline"> </a></h3>
<p>To add additional tags to the pool, navigate to the <strong>Tabs</strong> tab at the bottom of the <strong>Create Pool</strong> page. Click the <strong>+ Add</strong> button, then enter the key-value pair.</p>
<p>Pool-backed clusters inherit default and custom tags from the pool configuration. For detailed information about how pool tags and cluster tags work together, see <a class="reference internal" href="../administration-guide/account-settings/usage-detail-tags.html"><span class="doc">Monitor usage using cluster, pool, and workspace tags</span></a>.</p>
</div>
</div>
<div class="section" id="aws-configurations">
<span id="instance-pool-tags"></span><span id="instance-pool-aws-config"></span><h2>AWS configurations<a class="headerlink" href="#aws-configurations" title="Permalink to this headline"> </a></h2>
<p>When you configure a pool’s AWS instances you can choose the availability zone (AZ), whether to use spot instances and the max spot price, and the EBS volume type and size. All clusters attached to the pool inherit these configurations.</p>
<div class="section" id="availability-zones">
<h3>Availability zones<a class="headerlink" href="#availability-zones" title="Permalink to this headline"> </a></h3>
<p>Choosing a specific AZ for a pool is useful primarily if your organization has purchased reserved instances in specific availability zones. For more information on AZs, see <a class="reference external" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html">AWS availability zones</a>.</p>
<div class="section" id="auto-az-with-pools">
<h4>Auto-AZ with pools<a class="headerlink" href="#auto-az-with-pools" title="Permalink to this headline"> </a></h4>
<p>If you use a fleet instance type with your pool, you can select <strong>auto</strong> as the availability zone. When you use auto-AZ, the availability zone is automatically selected based on available cloud provider capacity. The pool will be moved to the best AZ right before every scale-up-from-zero event, and will remain fixed to a single AZ while the pool is non-empty. For more information, see <a class="reference internal" href="aws-fleet-instances.html"><span class="doc">Launch a cluster with a fleet instance type</span></a>.</p>
<p>Clusters that you attach to a pool inherit the pool’s availability zone. You cannot specify the availability zone for individual clusters in pools.</p>
</div>
</div>
<div class="section" id="spot-instances">
<h3>Spot instances<a class="headerlink" href="#spot-instances" title="Permalink to this headline"> </a></h3>
<p>You can specify whether you want the pool to use spot instances. A pool can either be all spot instances or all on-demand instances.</p>
<p>You can also set the max spot price to use when launching spot instances. This is set as a percentage of the corresponding on-demand price. By default, Databricks sets the max spot price at 100% of the on-demand price. See <a class="reference external" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-spot-instances.html">AWS spot pricing</a>.</p>
</div>
<div class="section" id="ebs-volumes">
<span id="ebs-volumes-pools"></span><h3>EBS volumes<a class="headerlink" href="#ebs-volumes" title="Permalink to this headline"> </a></h3>
<p>Databricks provisions EBS volumes for every instance as follows:</p>
<ul class="simple">
<li><p>A 30 GB unencrypted EBS instance root volume used only by the host operating system and Databricks internal services.</p></li>
<li><p>A 150 GB encrypted EBS container root volume used by the Spark worker. This hosts Spark services and logs.</p></li>
<li><p>(HIPAA only) a 75 GB encrypted EBS worker log volume that stores logs for Databricks internal services.</p></li>
</ul>
<div class="section" id="add-ebs-shuffle-volumes">
<h4>Add EBS shuffle volumes<a class="headerlink" href="#add-ebs-shuffle-volumes" title="Permalink to this headline"> </a></h4>
<p>To add shuffle volumes, select <strong>General Purpose SSD</strong> in the <strong>EBS Volume Type</strong> dropdown list.</p>
<p>By default, Spark shuffle outputs go to the instance local disk. For instance types that do not
have a local disk, or if you want to increase your Spark shuffle storage space, you can specify
additional EBS volumes. This is particularly useful to prevent out of disk space errors when you
run Spark jobs that produce large shuffle outputs.</p>
<p>Databricks encrypts these EBS volumes for both on-demand and spot instances. Read more about
<a class="reference external" href="https://aws.amazon.com/ebs/features/">AWS EBS volumes</a>.</p>
</div>
<div class="section" id="aws-ebs-limits">
<h4>AWS EBS limits<a class="headerlink" href="#aws-ebs-limits" title="Permalink to this headline"> </a></h4>
<p>Ensure that your AWS EBS limits are high enough to satisfy the runtime requirements for all
instances in all pools. For information on the default EBS limits and how to change them,
see <a class="reference external" href="https://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html#limits_ebs">Amazon Elastic Block Store (EBS) Limits</a>.</p>
</div>
</div>
<div class="section" id="autoscaling-local-storage">
<h3>Autoscaling local storage<a class="headerlink" href="#autoscaling-local-storage" title="Permalink to this headline"> </a></h3>
<p>If you don’t want to allocate a fixed number of EBS volumes at pool creation time, use
autoscaling local storage. With autoscaling local storage, Databricks monitors the amount of free
disk space available on your pool’s Spark workers. If a worker begins to run too low on
disk, Databricks automatically attaches a new EBS volume to the worker before it runs out of disk
space. EBS volumes are attached up to a limit of 5 TB of total disk space per instance
(including the instance’s local storage).</p>
<p>To configure autoscaling storage, select <strong>Enable autoscaling local storage</strong>.</p>
<p>The EBS volumes attached to an instance are detached only when the instance is returned to AWS.
That is, EBS volumes are never detached from an instance as long as it is in the pool.
To scale down EBS usage, Databricks recommends configuring the <a class="reference internal" href="#instance-pool-sizing"><span class="std std-ref">Pool size and auto termination</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Databricks uses Throughput Optimized HDD (st1) to extend the local storage of an instance. The <a class="reference external" href="https://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html#limits_ebs">default AWS capacity limit</a> for these volumes is 20 TiB. To avoid hitting this limit, administrators should request an increase in this limit based on their usage requirements.</p></li>
<li><p>If you want to use autoscaling local storage, the IAM role or keys used to create your account must include the permissions <code class="docutils literal notranslate"><span class="pre">ec2:AttachVolume</span></code>, <code class="docutils literal notranslate"><span class="pre">ec2:CreateVolume</span></code>, <code class="docutils literal notranslate"><span class="pre">ec2:DeleteVolume</span></code>, and <code class="docutils literal notranslate"><span class="pre">ec2:DescribeVolumes</span></code>. For the complete list of permissions and instructions on how to update your existing IAM role or keys, see <a class="reference internal" href="../administration-guide/account-settings-e2/credentials.html"><span class="doc">Create an IAM role for workspace deployment</span></a>.</p></li>
</ul>
</div>
</div>
</div>
<div class="section" id="delete-a-pool">
<span id="delete-an-instance-pool"></span><span id="delete"></span><h2>Delete a pool<a class="headerlink" href="#delete-a-pool" title="Permalink to this headline"> </a></h2>
<p>Deleting a pool terminates the pool’s idle instances and removes its configuration. To delete a pool, click the <img alt="Delete Icon" src="../_images/delete-icon.png" /> icon in the actions on the Pools page. If you delete a pool:</p>
<ul class="simple">
<li><p>Running clusters attached to the pool continue to run, but cannot allocate instances during resize or up-scaling.</p></li>
<li><p>Terminated clusters attached to the pool will fail to start.</p></li>
</ul>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>You cannot undo this action.</p>
</div>
</div>
</div>


    
          </div>
        </div>
        <div  class="suapp-rating">
  <div id="suPageRateApp">
     <su-app></su-app>
   </div> 
 </div>
<hr> 
<footer>
  <div role="contentinfo">
      <p class="copyright">
          &copy; Databricks 2023. All rights reserved. Apache, Apache Spark, Spark, and the Spark logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a>.
      </p>
      <p> 
        
          <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
        
     | <a href="https://databricks.com/privacy-policy">Privacy Policy</a> | <a href="https://databricks.com/terms-of-use">Terms of Use</a></p>

  </div> 

</footer>
      </div>
    </div>
  </section>
</main>

  </page>
  
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT: '../',
      VERSION: '1.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE: 'false'
    };
  </script>
  <script type="text/javascript" src="../_static/jquery.js"></script>
  <script type="text/javascript" src="../_static/underscore.js"></script>
  <script type="text/javascript" src="../_static/doctools.js"></script>
  <script type="text/javascript" src="../_static/language_data.js"></script>
  

  <script type="text/javascript" src="../_static/js/clipboard.min.js"></script>
  <script type="text/javascript" src="../_static/js/jquery.waypoints.min.js"></script>

  <!-- Select2 (https://select2.org/) -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <!-- End Select2 -->

  
  
  <script type="text/javascript" src="../_static/js/localized.js"></script>
  <script type="text/javascript" src="../_static/js/custom.js"></script>
  

  
  
  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.StickyNav.enable();
    });

  </script>
  
 



  <script>
  window.__searchunifyLoaderConfig = JSON.parse('{"clients": {"en": "02c2e804-27e9-11ee-aefb-0242ac120011", "ja": "6a42c3f2-2820-11ee-aefb-0242ac120011", "pt": "6a86badd-2821-11ee-aefb-0242ac120011"}}')
</script>
<script type="text/javascript" src="../_static/js/search-loader.js"></script>
</body>
<script type='text/javascript'>
  window.onload = function () {
    var description = document.querySelector('meta[name="description"]').getAttribute("content");
    let titleText = document.querySelector('h1').textContent;
    document.querySelector('meta[property="og:title"]').setAttribute("content", titleText);
    document.querySelector('meta[property="og:description"]').setAttribute("content", description);
    document.querySelector('meta[property="twitter:description"]').setAttribute("content", description);
  };
</script>

</html>