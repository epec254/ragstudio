

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en-US" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en-US"> <!--<![endif]-->

<head>
  <!-- cookie consent -->
  
    <!-- Combined Onetrust and Rudderstack Implementation Scripts -->
    <!-- Onetrust Initialization -->
    <script type="text/javascript" src="https://cdn.cookielaw.org/consent/92466579-1717-44d3-809d-a05fb02843ed-test/OtAutoBlock.js"></script>
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="92466579-1717-44d3-809d-a05fb02843ed-test"></script>
    <link rel="stylesheet" id="db-onetrust-style" href="https://www.databricks.com/wp-content/uploads/db_onetrust.css" media="all" />
    <!-- Setting Rudderstack Write Key -->
    <script>window.rudderstackKey = "2SOR9fvSr5Fi6tN2ihPbVHnX1SZ" </script>
    <!-- Rudderstack Initialization + Onetrust Integration + Rudderstack Custom Events -->
    <script type="text/javascript" src="https://www.databricks.com/sites/default/files/rudderstack/v1/db-rudderstack-events.js"></script>

  <!-- cookie consent -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta content="This article provides an overview of external models in Databricks Model Serving, its supported models and providers, and its limitations." name="description" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta property="og:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:title" content="External models in Databricks Model Serving">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://docs.databricks.com">
  <meta property="og:description" content="" id="og-description">
  <meta name="twitter:image" content="https://www.databricks.com/wp-content/uploads/2020/04/og-databricks.png">
  <meta name="twitter:site" content="@databricks">
  <meta name="twitter:creator" content="@databricks">
  <meta property="twitter:description" content="">
  
  <title>External models in Databricks Model Serving &#124; Databricks on AWS</title>
  
  
  <link rel="canonical" href="https://docs.databricks.com/en/generative-ai/external-models/index.html">
  <!-- Start hreflang tag -->
  <link rel="alternate" hreflang="en" href="https://docs.databricks.com/en/generative-ai/external-models/index.html" />
<link rel="alternate" hreflang="x-default" href="https://docs.databricks.com/en/generative-ai/external-models/index.html" />
  <!-- End hreflang tag -->
  
  
  <link rel="shortcut icon" href="../../_static/favicon.ico" />
  

  

  

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T85FQ33');</script>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;
j.setAttributeNode(d.createAttribute('data-ot-ignore'));
f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TWTKQQ');</script>
    
  <!-- End Google Tag Manager -->


  <!-- MaxMind / GEO IP -->
  <script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>
  <!-- End MaxMind / GEO IP -->

  
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600&display=swap" rel="stylesheet">
  <link rel="preload" href="../../_static/fonts/DMSans-Bold.ttf" as="font">
  <link rel="preload" href="../../_static/fonts/DMSans-Regular.ttf" as="font">
  <link rel="preload" href="../../_static/fonts/DMMono-Regular.ttf" as="font">
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/cloud-provider-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/translation-selector.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/searchunify/main.css" type="text/css" />

  
  <link rel="index" title="Index" href="../../genindex.html" />
  <link rel="search" title="Search" href="../../search.html" />
  <link rel="top" title="Databricks on AWS" href="../../index.html" /> 
</head>

<body class="wy-body-for-nav" role="document">

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T85FQ33"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWTKQQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  
  <nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
    
<nav class="wy-nav-top header su_header" role="navigation" aria-label="top navigation">
  <div class="container-logo">
    <ul class="mobile-menu-toggle">
        <li class="menu-toggle">
            <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
            
            <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
              alt="Databricks" /></a>   
               
              </li>
    </ul>
    <ul class="su_nav-menu">
      <li class="menu-toggle">
        <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
        
          
        
        <a href="https://www.databricks.com/" class="wy-nav-top-logo"><img src="../../_static/small-scale-lockup-full-color-rgb.svg" width="137" height="21"
            alt="Databricks" /></a></li>
        <!-- 
<li><a href="https://help.databricks.com/s/">Help Center</a></li>
<li class="active"><a href="https://docs.databricks.com/en/">Documentation</a></li>
<li><a href="https://kb.databricks.com/">Knowledge Base</a></li>
 -->
    </ul>
  </div>
  <div class="su_nav-right">
    <ul class="su_link-mobile">
  <!-- Mobile header code can go here -->
</ul>
<ul class="right-try-list">
   
</ul>
  </div>
</nav>
  </nav>

  <div class="su_sub-header">
    <div class="container">
      <div class="su_sub-header-inner">
        <!-- <div class="su_subnav-menu-right">
  <div id="auto" style="width: 100%;">
    <div ng-controller="SearchautoController">
      <div bind-html-compile="autocompleteHtml">
        <form class="su__search-box-1" disabled="disabled">
          <input class="su__search-input" type="search" name="Search box" id="su__search-b" placeholder="Search Documentation" disabled="disabled"/>
          <button class="su__search-button" type="submit" class="button button-success" disabled="disabled">
            <svg width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                fill="#333"></path>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>
</div> -->
        <div class="search-lng-gap"></div>
        <div style="margin-left: 16px; margin-right: 16px;">
          <!-- <select name="lng selector" id="lng-selector">
    <option value="../../../en/generative-ai/external-models/index.html" class="notranslate">English</option>
    <option value="../../../ja/generative-ai/external-models/index.html" class="notranslate">日本語</option>
    <option value="../../../pt/generative-ai/external-models/index.html" class="notranslate">Português (Brasil)</option>
</select> -->
        </div>
        <div class="cloud-selector-container">
          <!-- <select name="cloud provider selector" id="cloud-provider-selector">
    <option value="aws" selected class="notranslate">
        Amazon Web Services
    </option>
    <option value="azure"  class="notranslate">
        Microsoft Azure
    </option>
    <option value="gcp"  class="notranslate">
        Google Cloud Platform
    </option>
</select> -->
        </div>
      </div>
    </div>
  </div>
  <page class="js-page-container">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side su_nav-side">
<div class="wy-side-scroll">
  <div class="wy-side-nav-search">
    

    

    

    
  </div>

  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      <a href="../../index.html" class="main-navigation-home">Databricks on AWS</a>
    

    
      

      
        <p class="caption"><span class="caption-text">Load &amp; manage data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rag-temp/index.html">RAG Studio</a></li>
</ul>

      
    
  </div>

  <div role="contentinfo">
    
  <p class="build_info notranslate"data-last-edit="December 23, 2023">
    Updated Jan 11, 2024
  </p>
<script>
  window.addEventListener('DOMContentLoaded',function(){
    var h1=document.querySelector('h1');
    var bi=document.querySelector('[data-last-edit]');
    if(h1 && bi){
      var ver = document.createElement('p');
      ver.className = 'version_info';
      ver.textContent = bi.getAttribute('data-last-edit');
      h1.parentElement.insertBefore(ver, h1.nextElementSibling);
    }
  });
</script>

    <p>
      
        <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
      
    </p>
  </div>
</div>
</nav>
    
    
<main class="wy-grid-for-nav su_nav-grid">
  <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
    <div class="wy-nav-content su__nav_content">
      <div class="rst-content">
        





<div role="navigation" aria-label="breadcrumbs navigation" class="wy-breadcrumbs-wrapper">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Documentation</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
    
      <li>External models in Databricks Model Serving</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>
</div>
        
        <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
          <div itemprop="articleBody">
            
    
  <div class="section" id="external-models-in-databricks-model-serving">
<h1>External models in Databricks Model Serving<a class="headerlink" href="#external-models-in-databricks-model-serving" title="Permalink to this headline"> </a></h1>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The code examples in this article demonstrate usage of the <a class="reference internal" href="../../release-notes/release-types.html"><span class="doc">Public Preview</span></a> MLflow Deployments CRUD API.</p>
</div>
<p>This article describes external models in Databricks Model Serving including its supported model providers and limitations.</p>
<div class="section" id="what-are-external-models">
<h2>What are external models?<a class="headerlink" href="#what-are-external-models" title="Permalink to this headline"> </a></h2>
<p>External models are third-party models hosted outside of Databricks. Supported by Model Serving, external models allow you to streamline the usage and management of various large language model (LLM) providers, such as OpenAI and Anthropic, within an organization. You can also use Databricks Model Serving as a provider to serve custom models, which offers rate limits for those endpoints. As part of this support, Model Serving offers a high-level interface that simplifies the interaction with these services by providing a unified endpoint to handle specific LLM-related requests.</p>
<p>In addition, Databricks support for external models provides centralized credential management. By storing API keys in one secure location, organizations can enhance their security posture by minimizing the exposure of sensitive API keys throughout the system. It also helps to prevent exposing these keys within code or requiring end users to manage keys safely.</p>
<p>See <a class="reference internal" href="external-models-tutorial.html"><span class="doc">Tutorial: Create external model endpoints to query OpenAI models</span></a> for step-by-step guidance on external model endpoint creation and querying supported models served by those endpoints.</p>
</div>
<div class="section" id="model-providers">
<span id="provider"></span><h2>Model providers<a class="headerlink" href="#model-providers" title="Permalink to this headline"> </a></h2>
<p>External models in Model Serving is designed to support a variety of model providers. A provider represents the source of the machine learning models, such as OpenAI, Anthropic, and so on. Each provider has its specific characteristics and configurations that are encapsulated within the <code class="docutils literal notranslate"><span class="pre">external_model</span></code> field of the <a class="reference internal" href="#endpoint"><span class="std std-ref">external model endpoint configuration</span></a>.</p>
<p>The following providers are supported:</p>
<ul class="simple">
<li><p><strong>openai</strong>: For models offered by <a class="reference external" href="https://platform.openai.com/">OpenAI</a> and the <a class="reference external" href="https://learn.microsoft.com/azure/cognitive-services/openai/">Azure</a> integrations for Azure OpenAI and Azure OpenAI with AAD.</p></li>
<li><p><strong>anthropic</strong>: For models offered by <a class="reference external" href="https://docs.anthropic.com/claude/docs">Anthropic</a>.</p></li>
<li><p><strong>cohere</strong>: For models offered by <a class="reference external" href="https://docs.cohere.com/docs">Cohere</a>.</p></li>
<li><p><strong>aws-bedrock</strong>: For models offered by <a class="reference external" href="https://aws.amazon.com/bedrock/">AWS Bedrock</a>.</p></li>
<li><p><strong>palm</strong>: For models offered by <a class="reference external" href="https://developers.generativeai.google/products/palm?_gl=1*pqmg3y*_ga*MjA5MzQ2MzE3Ny4xNzAxODg0ODgw*_ga_KFG60X3H7K*MTcwMTg4NDg3OS4xLjEuMTcwMTg4NDg4NC4wLjAuMA">PaLM</a>.</p></li>
<li><p><strong>ai21labs</strong>: For models offered by <a class="reference external" href="https://www.ai21.com/studio/foundation-models">AI21Labs</a>.</p></li>
<li><p><strong>databricks-model-serving</strong>: For Databricks Model Serving endpoints with compatible schemas. See <a class="reference internal" href="#endpoint"><span class="std std-ref">Endpoint configuration</span></a>.</p></li>
</ul>
<p>To request support for a provider not listed here, reach out to your Databricks account team.</p>
</div>
<div class="section" id="supported-models">
<span id="supported"></span><h2>Supported models<a class="headerlink" href="#supported-models" title="Permalink to this headline"> </a></h2>
<p>The model you choose directly affects the results of the responses you get from the API calls. Therefore, choose a model that fits your use-case requirements. For instance, for generating conversational responses, you can choose a chat model. Conversely, for generating embeddings of text, you can choose an embedding model.</p>
<p>The table below presents a non-exhaustive list of supported models and corresponding <a class="reference internal" href="#endpoint"><span class="std std-ref">endpoint types</span></a>. Model associations listed below can be used as a helpful guide when configuring an endpoint for any newly released model types as they become available with a given provider. Customers are responsible for ensuring compliance with applicable model licenses.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>With the rapid development of LLMs, there is no guarantee that this list is up to date at all times.</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 5%" />
<col style="width: 15%" />
<col style="width: 11%" />
<col style="width: 13%" />
<col style="width: 9%" />
<col style="width: 6%" />
<col style="width: 27%" />
<col style="width: 8%" />
<col style="width: 6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Endpoint type</p></th>
<th class="head"><p>OpenAI</p></th>
<th class="head"><p>Anthropic</p></th>
<th class="head"><p>Cohere</p></th>
<th class="head"><p>Azure OpenAI</p></th>
<th class="head"><p>MLflow</p></th>
<th class="head"><p>AWS Bedrock</p></th>
<th class="head"><p>AI21 Labs</p></th>
<th class="head"><p>PaLM</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p> llm/v1/completions</p></td>
<td><p> gpt-3.5-turbo-instruct, babbage-002, davinci-002</p></td>
<td><p> claude-1, claude-1.3-100k, claude-2</p></td>
<td><p> command, command-light-nightly</p></td>
<td><p> text-davinci-003, gpt-35-turbo</p></td>
<td><p> MLflow served models</p></td>
<td><p> Anthropic: claude-instant-v1, claude-v1, claude-v2</p>
<p>Cohere: command-text-v14</p>
<p>AI21 Labs: j2-grande-instruct, j2-jumbo-instruct, j2-mid, j2-mid-v1, j2-ultra, j2-ultra-v1</p>
</td>
<td><p> j2-mid, j2-light, j2-ultra</p></td>
<td><p> text-bison-001</p></td>
</tr>
<tr class="row-odd"><td><p> llm/v1/chat</p></td>
<td><p> gpt-3.5-turbo, gpt-4</p></td>
<td></td>
<td></td>
<td><p> gpt-35-turbo gpt-4</p></td>
<td><p> MLflow served models</p></td>
<td></td>
<td></td>
<td><p>chat-bison-001</p></td>
</tr>
<tr class="row-even"><td><p> llm/v1/embeddings</p></td>
<td><p> text-embedding-ada-002</p></td>
<td></td>
<td><p> embed-english-v2.0, embed-multilingual-v2.0</p></td>
<td><p> text-embedding-ada-002</p></td>
<td><p> MLflow served models</p></td>
<td><p> Amazon: titan-embed-text-v1</p></td>
<td></td>
<td><p> embedding-gecko-001</p></td>
</tr>
</tbody>
</table>
<div class="section" id="use-models-served-on-databricks-model-serving-endpoints">
<span id="serving-endpoints"></span><h3>Use models served on Databricks Model Serving endpoints<a class="headerlink" href="#use-models-served-on-databricks-model-serving-endpoints" title="Permalink to this headline"> </a></h3>
<p><a class="reference internal" href="../../machine-learning/model-serving/create-manage-serving-endpoints.html"><span class="doc">Databricks Model Serving endpoints</span></a> as a provider is supported for the <code class="docutils literal notranslate"><span class="pre">llm/v1/completions</span></code>, <code class="docutils literal notranslate"><span class="pre">llm/v1/chat</span></code>, and <code class="docutils literal notranslate"><span class="pre">llm/v1/embeddings</span></code> endpoint types. These endpoints must accept the standard query parameters marked as required, while other parameters might be ignored depending on whether or not the Databricks Model Serving endpoint supports them.</p>
<p>See <a class="reference external" href="https://docs.databricks.com/api/workspace/servingendpoints/query">POST /serving-endpoints/{name}/invocations</a> in the API reference for standard query parameters.</p>
<p>These endpoints must produce responses in the following OpenAI format.</p>
<p>For completions tasks:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;123&quot;</span><span class="p">,</span> <span class="c1"># Not Required</span>
<span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="s2">&quot;test_databricks_model&quot;</span><span class="p">,</span>
<span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello World!&quot;</span><span class="p">,</span>
    <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;logprobs&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span> <span class="c1"># Not Required</span>
    <span class="s2">&quot;finish_reason&quot;</span><span class="p">:</span> <span class="s2">&quot;length&quot;</span> <span class="c1"># Not Required</span>
  <span class="p">}</span>
<span class="p">],</span>
<span class="s2">&quot;usage&quot;</span><span class="p">:</span> <span class="p">{</span>
  <span class="s2">&quot;prompt_tokens&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="s2">&quot;total_tokens&quot;</span><span class="p">:</span> <span class="mi">8</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>For chat tasks:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;123&quot;</span><span class="p">,</span> <span class="c1"># Not Required</span>
  <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="s2">&quot;test_chat_model&quot;</span><span class="p">,</span>
  <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[{</span>
    <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;assistant&quot;</span><span class="p">,</span>
      <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Hello there, how may I assist you today?&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;finish_reason&quot;</span><span class="p">:</span> <span class="s2">&quot;stop&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;human&quot;</span><span class="p">,</span>
      <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">What is the weather in San Francisco?&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;finish_reason&quot;</span><span class="p">:</span> <span class="s2">&quot;stop&quot;</span>
  <span class="p">}],</span>
  <span class="s2">&quot;usage&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;prompt_tokens&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
    <span class="s2">&quot;total_tokens&quot;</span><span class="p">:</span> <span class="mi">8</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>For embeddings tasks:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;embedding&quot;</span><span class="p">:</span> <span class="p">[</span>
       <span class="mf">0.0023064255</span><span class="p">,</span>
        <span class="o">-</span><span class="mf">0.009327292</span><span class="p">,</span>
        <span class="o">....</span> <span class="c1"># (1536 floats total for ada-002)</span>
        <span class="o">-</span><span class="mf">0.0028842222</span><span class="p">,</span>
      <span class="p">],</span>
      <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="mi">0</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;embedding&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="mf">0.0023064255</span><span class="p">,</span>
        <span class="o">-</span><span class="mf">0.009327292</span><span class="p">,</span>
        <span class="o">....</span> <span class="c1">#(1536 floats total for ada-002)</span>
        <span class="o">-</span><span class="mf">0.0028842222</span><span class="p">,</span>
      <span class="p">],</span>
      <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="mi">0</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="s2">&quot;test_embedding_model&quot;</span><span class="p">,</span>
  <span class="s2">&quot;usage&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;prompt_tokens&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
    <span class="s2">&quot;total_tokens&quot;</span><span class="p">:</span> <span class="mi">8</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="endpoint-configuration">
<span id="endpoint"></span><h2>Endpoint configuration<a class="headerlink" href="#endpoint-configuration" title="Permalink to this headline"> </a></h2>
<p>To serve and query external models you need to configure a serving endpoint. See <a class="reference internal" href="../../machine-learning/model-serving/create-manage-serving-endpoints.html"><span class="doc">Create and configure model serving endpoints</span></a></p>
<p>For an external model serving endpoint you must include the <code class="docutils literal notranslate"><span class="pre">external_model</span></code> field and its parameters in the <code class="docutils literal notranslate"><span class="pre">served_entities</span></code> section of the endpoint configuration.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">external_model</span></code> field defines the model to which this endpoint forwards requests. When specifying a model, it is critical that the provider supports the model you are requesting. For instance, <code class="docutils literal notranslate"><span class="pre">openai</span></code> as a provider supports models like <code class="docutils literal notranslate"><span class="pre">text-embedding-ada-002</span></code>, but other providers might not. If the model is not supported by the provider, Databricks returns an HTTP 4xx error when trying to route requests to that model.</p>
<p>The below table summarizes the <code class="docutils literal notranslate"><span class="pre">external_model</span></code> field parameters. See <a class="reference external" href="https://docs.databricks.com/api/workspace/servingendpoints/create">POST /api/2.0/serving-endpoints</a> for endpoint configuration parameters.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 92%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Descriptions</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">name</span></code></p></td>
<td><p> The name of the model to use. For example, <code class="docutils literal notranslate"><span class="pre">gpt-3.5-turbo</span></code> for OpenAI’s <code class="docutils literal notranslate"><span class="pre">GPT-3.5-Turbo</span></code> model.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">provider</span></code></p></td>
<td><p> Specifies the name of the provider for this model. This string value must correspond to a supported external model <a class="reference internal" href="#provider"><span class="std std-ref">provider</span></a>. For example, <code class="docutils literal notranslate"><span class="pre">openai</span></code> for OpenAI’s <code class="docutils literal notranslate"><span class="pre">GPT-3.5</span></code> models.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">task</span></code></p></td>
<td><p> The task corresponds to the type of language model interaction you desire. Supported tasks are  “llm/v1/completions”, “llm/v1/chat”, “llm/v1/embeddings”.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;provider&gt;_config</span></code></p></td>
<td><p> Contains any additional configuration details required for the model. This includes specifying the API base URL and the API key. See <a class="reference internal" href="#configure-provider"><span class="std std-ref">Configure the provider for an endpoint</span></a>.</p></td>
</tr>
</tbody>
</table>
<p>The following is an example of creating an external model endpoint using the <code class="docutils literal notranslate"><span class="pre">create_endpoint()</span></code> API. In this example, a request sent to the completion endpoint is forwarded to the <code class="docutils literal notranslate"><span class="pre">claude-2</span></code> model provided by <code class="docutils literal notranslate"><span class="pre">anthropic</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mlflow.deployments</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">mlflow</span><span class="o">.</span><span class="n">deployments</span><span class="o">.</span><span class="n">get_deploy_client</span><span class="p">(</span><span class="s2">&quot;databricks&quot;</span><span class="p">)</span>

<span class="n">client</span><span class="o">.</span><span class="n">create_endpoint</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;anthropic-completions-endpoint&quot;</span><span class="p">,</span>
    <span class="n">config</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;served_entities&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
                <span class="s2">&quot;external_model&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;claude-2&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;provider&quot;</span><span class="p">:</span> <span class="s2">&quot;anthropic&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;task&quot;</span><span class="p">:</span> <span class="s2">&quot;llm/v1/completions&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;anthropic_config&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;anthropic_api_key&quot;</span><span class="p">:</span> <span class="s2">&quot;{{secrets/my_anthropic_secret_scope/anthropic_api_key}}&quot;</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="configure-the-provider-for-an-endpoint">
<span id="configure-provider"></span><h2>Configure the provider for an endpoint<a class="headerlink" href="#configure-the-provider-for-an-endpoint" title="Permalink to this headline"> </a></h2>
<p>When you create an endpoint, you must supply the required configurations for the specified model provider. The following sections summarize the available endpoint configuration parameters for each model provider.</p>
<div class="section" id="openai">
<h3>OpenAI<a class="headerlink" href="#openai" title="Permalink to this headline"> </a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 50%" />
<col style="width: 7%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Configuration Parameter</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Default</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p> <code class="docutils literal notranslate"><span class="pre">openai_api_key</span></code></p></td>
<td><p> The API key for the OpenAI service.</p></td>
<td><p> Yes</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p> <code class="docutils literal notranslate"><span class="pre">openai_api_type</span></code></p></td>
<td><p> An optional field to specify the type of OpenAI API to use.</p></td>
<td><p> No</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p> <code class="docutils literal notranslate"><span class="pre">openai_api_base</span></code></p></td>
<td><p> The base URL for the OpenAI API.</p></td>
<td><p> No</p></td>
<td><p> <code class="docutils literal notranslate"><span class="pre">https://api.openai.com/v1</span></code></p></td>
</tr>
<tr class="row-odd"><td><p> <code class="docutils literal notranslate"><span class="pre">openai_api_version</span></code></p></td>
<td><p> An optional field to specify the OpenAI API version.</p></td>
<td><p> No</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p> <code class="docutils literal notranslate"><span class="pre">openai_organization</span></code></p></td>
<td><p> An optional field to specify the organization in OpenAI.</p></td>
<td><p> No</p></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="cohere">
<h3>Cohere<a class="headerlink" href="#cohere" title="Permalink to this headline"> </a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 32%" />
<col style="width: 48%" />
<col style="width: 11%" />
<col style="width: 10%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Configuration Parameter</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Default</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p> <code class="docutils literal notranslate"><span class="pre">cohere_api_key</span></code></p></td>
<td><p> The API key for the Cohere service.</p></td>
<td><p> Yes</p></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="anthropic">
<h3>Anthropic<a class="headerlink" href="#anthropic" title="Permalink to this headline"> </a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 50%" />
<col style="width: 11%" />
<col style="width: 9%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Configuration Parameter</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Default</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p> <code class="docutils literal notranslate"><span class="pre">anthropic_api_key</span></code></p></td>
<td><p> The API key for the Anthropic service.</p></td>
<td><p> Yes</p></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="azure-openai">
<h3>Azure OpenAI<a class="headerlink" href="#azure-openai" title="Permalink to this headline"> </a></h3>
<p>Azure OpenAI has distinct features as compared with the direct OpenAI service. For an overview, please see <a class="reference external" href="https://learn.microsoft.com/azure/cognitive-services/openai/how-to/switching-endpoints">the comparison documentation</a>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 84%" />
<col style="width: 3%" />
<col style="width: 3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Configuration Parameter</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Default</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p> <code class="docutils literal notranslate"><span class="pre">openai_api_key</span></code></p></td>
<td><p> The API key for the Azure OpenAI service.</p></td>
<td><p> Yes</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p> <code class="docutils literal notranslate"><span class="pre">openai_api_type</span></code></p></td>
<td><p> Adjust this parameter to represent the preferred security access validation protocol. For access token validation, use <code class="docutils literal notranslate"><span class="pre">azure</span></code>. For authentication using Azure Active Directory (Azure AD) use, <code class="docutils literal notranslate"><span class="pre">azuread</span></code>.</p></td>
<td><p> Yes</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p> <code class="docutils literal notranslate"><span class="pre">openai_api_base</span></code></p></td>
<td><p> The base URL for the Azure OpenAI API service provided by Azure.</p></td>
<td><p> Yes</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p> <code class="docutils literal notranslate"><span class="pre">openai_api_version</span></code></p></td>
<td><p> The version of the Azure OpenAI service to utilize, specified by a date.</p></td>
<td><p> Yes</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p> <code class="docutils literal notranslate"><span class="pre">openai_deployment_name</span></code></p></td>
<td><p> The name of the deployment resource for the Azure OpenAI service.</p></td>
<td><p> Yes</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p> <code class="docutils literal notranslate"><span class="pre">openai_organization</span></code></p></td>
<td><p> An optional field to specify the organization in OpenAI.</p></td>
<td><p> No</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>The following example demonstrates how to create an endpoint with Azure OpenAI:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">client</span><span class="o">.</span><span class="n">create_endpoint</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;openai-chat-endpoint&quot;</span><span class="p">,</span>
    <span class="n">config</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;served_entities&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;external_model&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;gpt-3.5-turbo&quot;</span><span class="p">,</span>
                <span class="s2">&quot;provider&quot;</span><span class="p">:</span> <span class="s2">&quot;openai&quot;</span><span class="p">,</span>
                <span class="s2">&quot;task&quot;</span><span class="p">:</span> <span class="s2">&quot;llm/v1/chat&quot;</span><span class="p">,</span>
                <span class="s2">&quot;openai_config&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;openai_api_type&quot;</span><span class="p">:</span> <span class="s2">&quot;azure&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;openai_api_key&quot;</span><span class="p">:</span> <span class="s2">&quot;{{secrets/my_openai_secret_scope/openai_api_key}}&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;openai_api_base&quot;</span><span class="p">:</span> <span class="s2">&quot;https://my-azure-openai-endpoint.openai.azure.com&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;openai_deployment_name&quot;</span><span class="p">:</span> <span class="s2">&quot;my-gpt-35-turbo-deployment&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;openai_api_version&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-05-15&quot;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="aws-bedrock">
<h3>AWS Bedrock<a class="headerlink" href="#aws-bedrock" title="Permalink to this headline"> </a></h3>
<p>To use AWS Bedrock as an external model provider, customers need to make sure Bedrock is enabled in the specified AWS region, and the specified AWS key pair have the appropriate permissions to interact with Bedrock services. For more information, see <a class="reference external" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_access-keys.html">AWS Identity and Access Management</a>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 76%" />
<col style="width: 5%" />
<col style="width: 4%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Configuration Parameter</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Default</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p> <code class="docutils literal notranslate"><span class="pre">aws_region</span></code></p></td>
<td><p> The AWS region to use. Bedrock has to be enabled there.</p></td>
<td><p> Yes</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p> <code class="docutils literal notranslate"><span class="pre">aws_access_key_id</span></code></p></td>
<td><p> An AWS access key ID with permissions to interact with Bedrock services.</p></td>
<td><p> Yes</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p> <code class="docutils literal notranslate"><span class="pre">aws_secret_access_key</span></code></p></td>
<td><p> An AWS secret access key paired with the access key ID, with permissions to interact with Bedrock services.</p></td>
<td><p> Yes</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p> <code class="docutils literal notranslate"><span class="pre">bedrock_provider</span></code></p></td>
<td><p> The underlying provider in AWS Bedrock. Supported values (case insensitive) include: Anthropic, Cohere, AI21Labs, Amazon</p></td>
<td><p> Yes</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>The following example demonstrates how to create an endpoint with AWS Bedrock.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">client</span><span class="o">.</span><span class="n">create_endpoint</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;bedrock-anthropic-completions-endpoint&quot;</span><span class="p">,</span>
    <span class="n">config</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;served_entities&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;external_model&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;claude-v2&quot;</span><span class="p">,</span>
                <span class="s2">&quot;provider&quot;</span><span class="p">:</span> <span class="s2">&quot;aws-bedrock&quot;</span><span class="p">,</span>
                <span class="s2">&quot;task&quot;</span><span class="p">:</span> <span class="s2">&quot;llm/v1/completions&quot;</span><span class="p">,</span>
                <span class="s2">&quot;aws_bedrock_config&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;aws_region&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;YOUR_AWS_REGION&gt;&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;aws_access_key_id&quot;</span><span class="p">:</span> <span class="s2">&quot;{{secrets/my_aws_bedrock_secret_scope/aws_access_key_id}}&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;aws_secret_access_key&quot;</span><span class="p">:</span> <span class="s2">&quot;{{secrets/my_aws_bedrock_secret_scope/aws_secret_access_key}}&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bedrock_provider&quot;</span><span class="p">:</span> <span class="s2">&quot;anthropic&quot;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
<p>If there are AWS permission issues, Databricks recommends that you verify the credentials directly with the <a class="reference external" href="https://docs.aws.amazon.com/bedrock/latest/APIReference/welcome.html">AWS Bedrock API</a>.</p>
</div>
<div class="section" id="ai21-labs">
<h3>AI21 Labs<a class="headerlink" href="#ai21-labs" title="Permalink to this headline"> </a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 55%" />
<col style="width: 10%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Configuration Parameter</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Default</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p> <code class="docutils literal notranslate"><span class="pre">ai21labs_api_key</span></code></p></td>
<td><p> This is the API key for the AI21 Labs service.</p></td>
<td><p> Yes</p></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="palm">
<h3>PaLM<a class="headerlink" href="#palm" title="Permalink to this headline"> </a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 52%" />
<col style="width: 10%" />
<col style="width: 9%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Configuration Parameter</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Default</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p> <code class="docutils literal notranslate"><span class="pre">palm_api_key</span></code></p></td>
<td><p> This is the API key for the PaLM service.</p></td>
<td><p> Yes</p></td>
<td></td>
</tr>
</tbody>
</table>
<p></p>
</div>
</div>
<div class="section" id="query-an-external-model-endpoint">
<span id="query"></span><h2>Query an external model endpoint<a class="headerlink" href="#query-an-external-model-endpoint" title="Permalink to this headline"> </a></h2>
<p>After you create an external model endpoint, it is ready to receive traffic from users.</p>
<p>You can send scoring requests to the endpoint using the  REST API or the MLflow Deployments SDK. </p>
<ul class="simple">
<li><p>See the standard query parameters for a scoring request in <a class="reference external" href="https://docs.databricks.com/api/workspace/servingendpoints/query">POST /serving-endpoints/{name}/invocations</a>.</p></li>
<li><p><a class="reference internal" href="../../machine-learning/model-serving/score-serving-endpoints-mlflow.html"><span class="doc">Use MLflow to query serving endpoints</span></a></p></li>
<li><p><a class="reference internal" href="../../machine-learning/model-serving/score-model-serving-endpoints.html"><span class="doc">Query serving endpoints using the REST API</span></a></p></li>
</ul>
<div class="section" id="additional-query-parameters">
<span id="extra-parameters"></span><h3>Additional query parameters<a class="headerlink" href="#additional-query-parameters" title="Permalink to this headline"> </a></h3>
<p>You can pass any additional parameters supported by the endpoint’s provider as part of your query.</p>
<p>For example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">logit_bias</span></code> (supported by OpenAI, Cohere).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">top_k</span></code> (supported by Anthropic, Cohere).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">frequency_penalty</span></code> (supported by OpenAI, Cohere).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">presence_penalty</span></code> (supported by OpenAI, Cohere).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stream</span></code> (supported by OpenAI, Anthropic, Cohere, AWS Bedrock for Anthropic). This is only available for chat and completions requests.</p></li>
</ul>
</div>
</div>
<div class="section" id="limitations">
<h2>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline"> </a></h2>
<p>Depending on the external model you choose, your configuration might cause your data to be processed outside of the region where your data originated.</p>
</div>
<div class="section" id="additional-resources">
<h2>Additional resources<a class="headerlink" href="#additional-resources" title="Permalink to this headline"> </a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="external-models-tutorial.html"><span class="doc">Tutorial: Create external model endpoints to query OpenAI models</span></a>.</p></li>
<li><p><a class="reference internal" href="../../machine-learning/model-serving/score-model-serving-endpoints.html"><span class="doc">Query serving endpoints using the REST API</span></a></p></li>
</ul>
<div class="toctree-wrapper compound">
</div>
</div>
</div>


    
          </div>
        </div>
        <div  class="suapp-rating">
  <div id="suPageRateApp">
     <su-app></su-app>
   </div> 
 </div>
<hr> 
<footer>
  <div role="contentinfo">
      <p class="copyright">
          &copy; Databricks 2023. All rights reserved. Apache, Apache Spark, Spark, and the Spark logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a>.
      </p>
      <p> 
        
          <a id='feedbacklink' href="mailto:doc-feedback@databricks.com?subject=Documentation Feedback">Send us feedback</a>
        
     | <a href="https://databricks.com/privacy-policy">Privacy Policy</a> | <a href="https://databricks.com/terms-of-use">Terms of Use</a></p>

  </div> 

</footer>
      </div>
    </div>
  </section>
</main>

  </page>
  
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT: '../../',
      VERSION: '1.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE: 'false'
    };
  </script>
  <script type="text/javascript" src="../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../_static/underscore.js"></script>
  <script type="text/javascript" src="../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../_static/language_data.js"></script>
  

  <script type="text/javascript" src="../../_static/js/clipboard.min.js"></script>
  <script type="text/javascript" src="../../_static/js/jquery.waypoints.min.js"></script>

  <!-- Select2 (https://select2.org/) -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <!-- End Select2 -->

  
  
  <script type="text/javascript" src="../../_static/js/localized.js"></script>
  <script type="text/javascript" src="../../_static/js/custom.js"></script>
  

  
  
  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.StickyNav.enable();
    });

  </script>
  
 



  <script>
  window.__searchunifyLoaderConfig = JSON.parse('{"clients": {"en": "02c2e804-27e9-11ee-aefb-0242ac120011", "ja": "6a42c3f2-2820-11ee-aefb-0242ac120011", "pt": "6a86badd-2821-11ee-aefb-0242ac120011"}}')
</script>
<script type="text/javascript" src="../../_static/js/search-loader.js"></script>
</body>
<script type='text/javascript'>
  window.onload = function () {
    var description = document.querySelector('meta[name="description"]').getAttribute("content");
    let titleText = document.querySelector('h1').textContent;
    document.querySelector('meta[property="og:title"]').setAttribute("content", titleText);
    document.querySelector('meta[property="og:description"]').setAttribute("content", description);
    document.querySelector('meta[property="twitter:description"]').setAttribute("content", description);
  };
</script>

</html>